if(function(e,t,n){"use strict";function i(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.5.3/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=r(i)}return Error(t)}}function r(e){if(null==e||T(e))return!1;if(ai(e)||x(e)||zn&&e instanceof zn)return!0;var t="length"in Object(e)&&e.length;return $(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var i,a;if(e)if(E(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(ai(e)||r(e)){var s="object"!=typeof e;for(i=0,a=e.length;i<a;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(w(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)Gn.call(e,i)&&t.call(n,e[i],i,e);return e}function a(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++oi}function c(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(C(a)||E(a))for(var s=Object.keys(a),l=0,u=s.length;l<u;l++){var d=s[l],f=a[d];n&&C(f)?N(f)?e[d]=new Date(f.valueOf()):S(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):_(f)?e[d]=f.clone():(C(e[d])||(e[d]=ai(f)?[]:{}),c(e[d],[f],!0)):e[d]=f}}return i?e.$$hashKey=i:delete e.$$hashKey,e}function u(e){return c(e,Qn.call(arguments,1),!1)}function d(e){return c(e,Qn.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return u(Object.create(e),t)}function p(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return E(e.toString)&&e.toString!==ti}function y(e){return"undefined"==typeof e}function b(e){return"undefined"!=typeof e}function C(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!ni(e)}function x(e){return"string"==typeof e}function $(e){return"number"==typeof e}function N(e){return"[object Date]"===ti.call(e)}function E(e){return"function"==typeof e}function S(e){return"[object RegExp]"===ti.call(e)}function T(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function U(e){return"boolean"==typeof e}function A(e){return e&&$(e.length)&&si.test(ti.call(e))}function _(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function B(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function I(e){return Kn(e.nodeName||e[0]&&e[0].nodeName)}function R(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function D(e,t){function i(e,t){var n,i=t.$$hashKey;if(ai(e)){n=0;for(var o=e.length;n<o;n++)t.push(r(e[n]))}else if(w(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Gn.call(e,n)&&(t[n]=r(e[n]));return i?t.$$hashKey=i:delete t.$$hashKey,t}function r(e){if(!C(e))return e;var t=s.indexOf(e);if(-1!==t)return l[t];if(T(e)||k(e))throw ii("cpws");var t=!1,r=a(e);return r===n&&(r=ai(e)?[]:Object.create(ni(e)),t=!0),s.push(e),l.push(r),t?i(e,r):r}function a(e){switch(ti.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(E(e.cloneNode))return e.cloneNode(!0)}var s=[],l=[];if(t){if(A(t)||"[object ArrayBuffer]"===ti.call(t))throw ii("cpta");if(e===t)throw ii("cpi");return ai(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),s.push(e),l.push(t),i(e,t)}return r(e)}function O(e,t){if(ai(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(C(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function L(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i=typeof e;if(i==typeof t&&"object"==i){if(!ai(e)){if(N(e))return!!N(t)&&L(e.getTime(),t.getTime());if(S(e))return!!S(t)&&e.toString()==t.toString();if(k(e)||k(t)||T(e)||T(t)||ai(t)||N(t)||S(t))return!1;i=ce();for(n in e)if("$"!==n.charAt(0)&&!E(e[n])){if(!L(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&b(t[n])&&!E(t[n]))return!1;return!0}if(!ai(t))return!1;if((i=e.length)==t.length){for(n=0;n<i;n++)if(!L(e[n],t[n]))return!1;return!0}}return!1}function P(e,t,n){return e.concat(Qn.call(t,n))}function M(e,t){var n=2<arguments.length?Qn.call(arguments,2):[];return!E(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,P(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:T(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":k(i)&&(r="$SCOPE"),r}function j(e,t){return y(e)?n:($(t)||(t=t?2:null),JSON.stringify(e,H,t))}function F(e){return x(e)?JSON.parse(e):e}function q(e,t){e=e.replace(fi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function V(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return t=q(t,i),n*=t-i,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function z(e){e=zn(e).clone();try{e.empty()}catch(t){}var n=zn("<div>").append(e).html();try{return e[0].nodeType===gi?Kn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Kn(t)})}catch(i){return Kn(n)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function X(e){var t={};return o((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=W(i),b(i)&&(r=!b(r)||W(r),Gn.call(t,i)?ai(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function Y(e){var t=[];return o(e,function(e,n){ai(e)?o(e,function(e){t.push(K(n,!0)+(!0===e?"":"="+K(e,!0)))}):t.push(K(n,!0)+(!0===e?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function G(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function J(e,t){var n,i,r=hi.length;for(i=0;i<r;++i)if(n=hi[i]+t,x(n=e.getAttribute(n)))return n;return null}function Q(e,t){var n,i,r={};o(hi,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),o(hi,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(r.strictDi=null!==J(n,"strict-di"),t(n,i?[i]:[],r))}function Z(n,i,r){C(r)||(r={}),r=u({strictDi:!1},r);var a=function(){if(n=zn(n),n.injector()){var e=n[0]===t?"document":z(n);throw ii("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng"),e=je(i,r.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),ri.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),a()},void(E(ri.resumeDeferredBootstrap)&&ri.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=ri.element(e).injector(),!e)throw ii("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(pi,function(e,n){return(n?t:"")+e.toLowerCase()})}function ie(){var t;if(!mi){var i=di();(Wn=y(i)?e.jQuery:i?e[i]:n)&&Wn.fn.on?(zn=Wn,u(Wn.fn,{scope:Ai.scope,isolateScope:Ai.isolateScope,controller:Ai.controller,injector:Ai.injector,inheritedData:Ai.inheritedData}),t=Wn.cleanData,Wn.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=Wn._data(i,"events"))&&n.$destroy&&Wn(i).triggerHandler("$destroy");t(e)}):zn=ge,ri.element=zn,mi=!0}}function re(e,t,n){if(!e)throw ii("areq",t||"?",n||"required");return e}function oe(e,t,n){return n&&ai(e)&&(e=e[e.length-1]),re(E(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw ii("badname",t)}function se(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,o=t.length,a=0;a<o;a++)i=t[a],e&&(e=(r=e)[i]);return!n&&E(e)?M(r,e):e}function le(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=zn(Qn.call(e,0,r))),t.push(n));return t||e}function ce(){return Object.create(null)}function ue(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,o,a){if("hasOwnProperty"===i)throw r("badname","module");return o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,o){return o&&E(o)&&(o.$$moduleName=i),r.push([e,t,arguments]),u}}if(!o)throw n("nomod",i);var r=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u})}})}function de(t){u(t,{bootstrap:Z,copy:D,extend:u,merge:d,equals:L,element:zn,forEach:o,injector:je,noop:p,bind:M,toJson:j,fromJson:F,identity:m,isUndefined:y,isDefined:b,isString:x,isFunction:E,isObject:C,isNumber:$,isElement:_,isArray:ai,version:vi,isDate:N,lowercase:Kn,uppercase:Jn,callbacks:{counter:0},getTestability:te,$$minErr:i,$$csp:ui,reloadWithDebugInfo:ee}),(Xn=ue(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Qt}),e.provider("$compile",Ke).directive({a:Rr,input:Jr,textarea:Jr,form:Pr,script:jo,select:Vo,style:Wo,option:zo,ngBind:eo,ngBindHtml:no,ngBindTemplate:to,ngClass:ro,ngClassEven:ao,ngClassOdd:oo,ngCloak:so,ngController:lo,ngForm:Mr,ngHide:Ro,ngIf:fo,ngInclude:ho,ngInit:mo,ngNonBindable:To,ngPluralize:_o,ngRepeat:Bo,ngShow:Io,ngStyle:Do,ngSwitch:Oo,ngSwitchWhen:Lo,ngSwitchDefault:Po,ngOptions:Ao,ngTransclude:Ho,ngModel:No,ngList:go,ngChange:io,pattern:Yo,ngPattern:Yo,required:Xo,ngRequired:Xo,minlength:Ko,ngMinlength:Ko,maxlength:Go,ngMaxlength:Go,ngValue:Zr,ngModelOptions:So}).directive({ngInclude:po}).directive(Dr).directive(co),e.provider({$anchorScroll:Fe,$animate:Vi,$animateCss:Xi,$$animateJs:Fi,$$animateQueue:qi,$$AnimateRunner:Wi,$$animateAsyncRun:zi,$browser:Xe,$cacheFactory:Ye,$controller:tt,$document:nt,$exceptionHandler:it,$filter:hn,$$forceReflow:Qi,$interpolate:mt,$interval:gt,$http:dt,$httpParamSerializer:ot,$httpParamSerializerJQLike:at,$httpBackend:ht,$xhrFactory:ft,$location:kt,$log:Ut,$parse:Wt,$rootScope:Jt,$q:Xt,$$q:Yt,$sce:nn,$sceDelegate:tn,$sniffer:rn,$templateCache:Ge,$templateRequest:on,$$testability:an,$timeout:sn,$window:un,$$rAF:Kt,$$jqLite:Oe,$$HashMap:Ri,$$cookieReader:fn})}])}function fe(e){return e.replace(Ci,function(e,t,n,i){return i?n.toUpperCase():n}).replace(wi,"Moz$1")}function he(e){return e=e.nodeType,1===e||!e||9===e}function pe(e,t){var n,i,r=t.createDocumentFragment(),a=[];if(Ei.test(e)){for(n=n||r.appendChild(t.createElement("div")),i=(Si.exec(e)||["",""])[1].toLowerCase(),i=ki[i]||ki._default,n.innerHTML=i[1]+e.replace(Ti,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=P(a,n.childNodes),n=r.firstChild,n.textContent=""}else a.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",o(a,function(e){r.appendChild(e)}),r}function me(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function ge(e){if(e instanceof ge)return e;var n;if(x(e)&&(e=li(e),n=!0),!(this instanceof ge)){if(n&&"<"!=e.charAt(0))throw $i("nosel");return new ge(e)}if(n){n=t;var i;e=(i=Ni.exec(e))?[n.createElement(i[1])]:(i=pe(e,n))?i.childNodes:[]}Se(this,e)}function ve(e){return e.cloneNode(!0)}function ye(e,t){if(t||Ce(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Ce(n[i])}function be(e,t,n,i){if(b(i))throw $i("offargs");var r=(i=we(e))&&i.events,a=i&&i.handle;if(a)if(t){var s=function(t){var i=r[t];b(n)&&R(i||[],n),b(n)&&i&&0<i.length||(e.removeEventListener(t,a,!1),delete r[t])};o(t.split(" "),function(e){s(e),xi[e]&&s(xi[e])})}else for(t in r)"$destroy"!==t&&e.removeEventListener(t,a,!1),delete r[t]}function Ce(e,t){var i=e.ng339,r=i&&yi[i];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),be(e)),delete yi[i],e.ng339=n))}function we(e,t){var i=e.ng339,i=i&&yi[i];return t&&!i&&(e.ng339=i=++bi,i=yi[i]={events:{},data:{},handle:n}),i}function xe(e,t,n){if(he(e)){var i=b(n),r=!i&&t&&!C(t),o=!t;if(e=(e=we(e,!r))&&e.data,i)e[t]=n;else{if(o)return e;if(r)return e&&e[t];u(e,t)}}}function $e(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Ne(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",li((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+li(t)+" "," ")))})}function Ee(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=li(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",li(n))}}function Se(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Te(e,t){return ke(e,"$"+(t||"ngController")+"Controller")}function ke(e,t,n){for(9==e.nodeType&&(e=e.documentElement),t=ai(t)?t:[t];e;){for(var i=0,r=t.length;i<r;i++)if(b(n=zn.data(e,t[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ue(e){for(ye(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ae(e,t){t||ye(e);var n=e.parentNode;n&&n.removeChild(e)}function _e(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):zn(n).on("load",t)}function Be(e,t){var n=_i[t.toLowerCase()];return n&&Bi[I(e)]&&n}function Ie(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||Re;1<o&&(r=O(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function Re(e,t,n){n.call(e,t)}function De(e,t,n){var i=t.relatedTarget;i&&(i===e||Ui.call(e,i))||n.call(e,t)}function Oe(){this.$get=function(){return u(ge,{hasClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ee(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ne(e,t)}})}}function Le(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Pe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Me(e){return e=e.toString().replace(Mi,""),e.match(Di)||e.match(Oi)}function He(e){return(e=Me(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function je(e,t){function i(e){return function(t,n){return C(t)?void o(t,s(e)):e(t,n)}}function r(e,t){if(ae(e,"service"),(E(t)||ai(t))&&(t=m.instantiate(t)),!t.$get)throw Hi("pget",e);return p[e+"Provider"]=t}function a(e,t){return function(){var n=w.invoke(t,this);if(y(n))throw Hi("undef",e);return n}}function l(e,t,n){return r(e,{$get:!1!==n?a(e,t):t})}function c(e){re(y(e)||ai(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=m.get(i[0]);r[i[1]].apply(r,i[2])}}if(!h.get(e)){h.put(e,!0);try{x(e)?(t=Xn(e),n=n.concat(c(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):E(e)?n.push(m.invoke(e)):ai(e)?n.push(m.invoke(e)):oe(e,"module")}catch(r){throw ai(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Hi("modulerr",e,r.stack||r.message||r)}}}),n}function u(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw Hi("cdep",t+" <- "+f.join(" <- "));return e[t]}try{return f.unshift(t),e[t]=d,e[t]=n(t,i)}catch(r){throw e[t]===d&&delete e[t],r}finally{f.shift()}}function r(e,n,r){var o=[];e=je.$$annotate(e,t,r);for(var a=0,s=e.length;a<s;a++){var l=e[a];if("string"!=typeof l)throw Hi("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}return{invoke:function(e,t,n,i){return"string"==typeof n&&(i=n,n=null),n=r(e,n,i),ai(e)&&(e=e[e.length-1]),i=!(11>=Vn)&&("function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e))),i?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=ai(e)?e[e.length-1]:e;return e=r(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(i,e))},get:i,annotate:je.$$annotate,has:function(t){return p.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},f=[],h=new Pe([],(!0)),p={$provide:{provider:i(r),factory:i(l),service:i(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return l(e,g(t),!1)}),constant:i(function(e,t){ae(e,"constant"),p[e]=t,v[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),i=n.$get;n.$get=function(){var e=w.invoke(i,n);return w.invoke(t,null,{$delegate:e})}}}},m=p.$injector=u(p,function(e,t){throw ri.isString(t)&&f.push(t),Hi("unpr",f.join(" <- "))}),v={},b=u(v,function(e,t){var i=m.get(e+"Provider",t);return w.invoke(i.$get,i,n,e)}),w=b;p.$injectorProvider={$get:g(b)};var $=c(e),w=b.get("$injector");return w.strictDi=t,o($,function(e){e&&w.invoke(e)}),w}function Fe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===I(e))return t=e,!0}),t}function o(e){if(e){e.scrollIntoView();var n;n=a.yOffset,E(n)?n=n():_(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):$(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function a(e){e=x(e)?e:n.hash();var t;e?(t=s.getElementById(e))?o(t):(t=r(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||_e(function(){i.$evalAsync(a)})}),a}]}function qe(e,t){return e||t?e?t?(ai(e)&&(e=e.join(" ")),ai(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ve(e){x(e)&&(e=e.split(" "));var t=ce();return o(e,function(e){e.length&&(t[e]=!0)}),t}function ze(e){return C(e)?e:{}}function We(e,t,n,i){function r(e){try{e.apply(null,Qn.call(arguments,1))}finally{if(g--,0===g)for(;v.length;)try{v.pop()()}catch(t){n.error(t)}}}function a(){$=null,s(),l()}function s(){b=N(),b=y(b)?null:b,L(b,T)&&(b=T),T=b}function l(){w===c.url()&&C===b||(w=c.url(),C=b,o(E,function(e){e(c.url(),b)}))}var c=this,u=e.location,d=e.history,f=e.setTimeout,h=e.clearTimeout,m={};c.isMock=!1;var g=0,v=[];c.$$completeOutstandingRequest=r,c.$$incOutstandingRequestCount=function(){g++},c.notifyWhenNoOutstandingRequests=function(e){0===g?e():v.push(e)};var b,C,w=u.href,x=t.find("base"),$=null,N=i.history?function(){try{return d.state}catch(e){}}:p;s(),C=b,c.url=function(t,n,r){if(y(r)&&(r=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var o=C===r;if(w===t&&(!i.history||o))return c;var a=w&&wt(w)===wt(t);return w=t,C=r,!i.history||a&&o?(a&&!$||($=t),n?u.replace(t):a?(n=u,r=t.indexOf("#"),r=-1===r?"":t.substr(r),n.hash=r):u.href=t,u.href!==t&&($=t)):(d[n?"replaceState":"pushState"](r,"",t),s(),C=b),c}return $||u.href.replace(/%27/g,"'")},c.state=function(){return b};var E=[],S=!1,T=null;c.onUrlChange=function(t){return S||(i.history&&zn(e).on("popstate",a),zn(e).on("hashchange",a),S=!0),E.push(t),t},c.$$applicationDestroyed=function(){zn(e).off("hashchange popstate",a)},c.$$checkUrlChange=l,c.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return g++,n=f(function(){delete m[n],r(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return!!m[e]&&(delete m[e],h(e),r(p),!0)}}function Xe(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new We(e,i,t,n)}]}function Ye(){this.$get=function(){function e(e,n){function r(e){e!=f&&(h?h==e&&(h=e.n):h=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var a=0,s=u({},n,{id:e}),l=ce(),c=n&&n.capacity||Number.MAX_VALUE,d=ce(),f=null,h=null;return t[e]={put:function(e,t){if(!y(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>c&&this.remove(h.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==f&&(f=t.p),t==h&&(h=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ce(),a=0,d=ce(),f=h=null},destroy:function(){d=s=l=null,delete t[e]},info:function(){return u({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ge(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ke(e,i){function r(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,o){if(e in $)r[o]=$[e];else{var a=e.match(i);if(!a)throw Yi("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&($[e]=r[o])}}),r}function a(e){var t=e.charAt(0);if(!t||t!==Kn(t))throw Yi("baddir",e);if(e!==e.trim())throw Yi("baddir",e)}var l={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,f=B("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,$=ce();this.directive=function T(t,n){return ae(t,"directive"),x(t)?(a(t),re(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var i=[];return o(l[t],function(r,o){try{var a=e.invoke(r);E(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),l[t].push(n)):o(t,s(T)),this},this.component=function(e,t){function n(e){function n(t){return E(t)||ai(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var r=t.template||t.templateUrl?t.template:"";return{controller:i,controllerAs:et(t.controller)||t.controllerAs||"$ctrl",template:n(r),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require}}var i=t.controller||p;return o(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,i[t]=e)}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return b(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var N=!0;this.debugInfoEnabled=function(e){return b(e)?(N=e,this):N};var S=10;this.onChangesTtl=function(e){return arguments.length?(S=e,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,i,a,s,g,b,$,T,A,_){function B(){try{if(!--be)throw pe=n,Yi("infchng",S);$.$apply(function(){for(var e=0,t=pe.length;e<t;++e)pe[e]();pe=n})}finally{be++}}function D(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function O(e,t,n){ye.innerHTML="<span "+t+">",t=ye.firstChild.attributes;var i=t[0];t.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function P(e,t){try{e.addClass(t)}catch(n){}}function M(e,n,i,r,o){e instanceof zn||(e=zn(e));for(var a=/\S+/,s=0,l=e.length;s<l;s++){var c=e[s];c.nodeType===gi&&c.nodeValue.match(a)&&me(c,e[s]=t.createElement("span"))}var u=H(e,n,e,i,r,o);M.$$addScopeClass(e);var d=null;return function(t,n,i){re(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=(i=i&&i[0])&&"foreignobject"!==I(i)&&ti.call(i).match(/SVG/)?"svg":"html"),i="html"!==d?zn(ae(d,zn("<div>").append(e).html())):n?Ai.clone.call(e):e,a)for(var s in a)i.data("$"+s+"Controller",a[s].instance);return M.$$addScopeInfo(i,t),n&&n(i,t),u&&u(t,i,i,r),i}}function H(e,t,i,r,o,a){function s(e,i,r,o){var a,s,l,c,u,d,p;if(f)for(p=Array(i.length),c=0;c<h.length;c+=3)a=h[c],p[a]=i[a];else p=i;for(c=0,u=h.length;c<u;)s=p[h[c++]],i=h[c++],a=h[c++],i?(i.scope?(l=e.$new(),M.$$addScopeInfo(zn(s),l)):l=e,d=i.transcludeOnThisElement?j(e,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&t?j(e,t):null,i(a,l,s,r,d)):a&&a(e,s.childNodes,n,o)}for(var l,c,u,d,f,h=[],p=0;p<e.length;p++)l=new D,c=F(e[p],[],l,0===p?r:n,o),(a=c.length?X(c,e[p],l,t,i,null,[],[],a):null)&&a.scope&&M.$$addScopeClass(l.$$element),l=a&&a.terminal||!(u=e[p].childNodes)||!u.length?null:H(u,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:t),(a||l)&&(h.push(p,a,l),d=!0,f=f||a),a=null;return d?s:null}function j(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r,o=i.$$slots=ce();for(r in t.$$slots)o[r]=t.$$slots[r]?j(e,t.$$slots[r],n):null;return i}function F(e,t,n,i,r){var o,a=n.$attr;switch(e.nodeType){case 1:J(t,Je(I(e)),"E",i,r);for(var s,l,u,f=e.attributes,h=0,p=f&&f.length;h<p;h++){var m=!1,g=!1;s=f[h],o=s.name,l=li(s.value),s=Je(o),(u=$e.test(s))&&(o=o.replace(Gi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(Ne))&&Q(s[1])&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),s=Je(o.toLowerCase()),a[s]=o,!u&&n.hasOwnProperty(s)||(n[s]=l,Be(e,s)&&(n[s]=!0)),le(e,t,l,s,u),J(t,s,"A",i,r,m,g)}if(e=e.className,C(e)&&(e=e.animVal),x(e)&&""!==e)for(;o=d.exec(e);)s=Je(o[2]),J(t,s,"C",i,r)&&(n[s]=li(o[3])),e=e.substr(o.index+o[0].length);break;case gi:if(11===Vn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===gi;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);oe(t,e.nodeValue);break;case 8:try{(o=c.exec(e.nodeValue))&&(s=Je(o[1]),J(t,s,"M",i,r)&&(n[s]=li(o[2])))}catch(v){}}return t.sort(te),t}function q(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Yi("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r)}else i.push(e);return zn(i)}function V(e,t,n){return function(i,r,o,a,s){return r=q(r[0],t,n),e(i,r,o,a,s)}}function W(e,t,n,i,r,o){var a;return e?M(t,n,i,r,o):function(){return a||(a=M(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function X(e,t,i,r,s,l,c,d,f){function h(e,t,n,i){e&&(n&&(e=V(e,n,i)),e.require=m.require,e.directiveName=g,(S===m||m.$$isolateScope)&&(e=de(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=V(t,n,i)),t.require=m.require,t.directiveName=g,(S===m||m.$$isolateScope)&&(t=de(t,{isolateScope:!0})),d.push(t))}function p(e,r,a,s,l){function f(e,t,i,r){var o;if(k(e)||(r=i,i=t,t=e,e=n),B&&(o=b),i||(i=B?x.parent():x),!r)return l(e,t,o,i,I);var a=l.$$slots[r];if(a)return a(e,t,o,i,I);if(y(a))throw Yi("noslot",r,z(x))}var h,p,m,g,v,b,w,x;t===a?(s=i,x=i.$$element):(x=zn(a),s=new D(x,i)),v=r,S?g=r.$new(!0):$&&(v=r.$parent),l&&(w=f,w.$$boundTransclude=l,w.isSlotFilled=function(e){return!!l.$$slots[e]}),N&&(b=G(x,s,w,N,g,r,S)),S&&(M.$$addScopeInfo(x,g,!0,!(T&&(T===S||T===S.$$originalDirective))),M.$$addScopeClass(x,!0),g.$$isolateBindings=S.$$isolateBindings,(m=he(r,s,g,g.$$isolateBindings,S))&&g.$on("$destroy",m));for(p in b){m=N[p];var U=b[p],A=m.$$bindings.bindToController;U.identifier&&A&&(h=he(v,s,U.instance,A,m));var _=U();_!==U.instance&&(U.instance=_,x.data("$"+m.name+"Controller",_),h&&h(),h=he(v,s,U.instance,A,m))}for(o(N,function(e,t){var n=e.require;e.bindToController&&!ai(n)&&C(n)&&u(b[t].instance,Y(t,n,x,b))}),o(b,function(e){var t=e.instance;E(t.$onInit)&&t.$onInit(),E(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),h=0,p=c.length;h<p;h++)m=c[h],fe(m,m.isolateScope?g:r,x,s,m.require&&Y(m.directiveName,m.require,x,b),w);var I=r;for(S&&(S.template||null===S.templateUrl)&&(I=g),e&&e(I,a.childNodes,n,l),h=d.length-1;0<=h;h--)m=d[h],fe(m,m.isolateScope?g:r,x,s,m.require&&Y(m.directiveName,m.require,x,b),w);o(b,function(e){e=e.instance,E(e.$postLink)&&e.$postLink()})}f=f||{};for(var m,g,v,b,w,x=-Number.MAX_VALUE,$=f.newScopeDirective,N=f.controllerDirectives,S=f.newIsolateScopeDirective,T=f.templateDirective,U=f.nonTlbTranscludeDirective,A=!1,_=!1,B=f.hasElementTranscludeDirective,R=i.$$element=zn(t),O=r,L=!1,P=!1,H=0,j=e.length;H<j;H++){m=e[H];var X=m.$$start,J=m.$$end;if(X&&(R=q(t,X,J)),v=n,x>m.priority)break;if((w=m.scope)&&(m.templateUrl||(C(w)?(ie("new/isolated scope",S||$,m,R),S=m):ie("new/isolated scope",S,m,R)),$=$||m),g=m.name,!L&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(w=H+1;L=e[w++];)if(L.transclude&&!L.$$tlb||L.replace&&(L.templateUrl||L.template)){P=!0;break}L=!0}if(!m.templateUrl&&m.controller&&(w=m.controller,N=N||ce(),ie("'"+g+"' controller",N[g],m,R),N[g]=m),w=m.transclude)if(A=!0,m.$$tlb||(ie("transclusion",U,m,R),U=m),"element"==w)B=!0,x=m.priority,v=R,R=i.$$element=zn(M.$$createComment(g,i[g])),t=R[0],ue(s,Qn.call(v,0),t),v[0].$$parentNode=v[0].parentNode,O=W(P,v,r,x,l&&l.name,{nonTlbTranscludeDirective:U});else{var Q=ce();if(v=zn(ve(t)).contents(),C(w)){v=[];var te=ce(),ne=ce();o(w,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,te[e]=t,Q[t]=null,ne[t]=n}),o(R.contents(),function(e){var t=te[Je(I(e))];t?(ne[t]=!0,Q[t]=Q[t]||[],Q[t].push(e)):v.push(e)}),o(ne,function(e,t){if(!e)throw Yi("reqslot",t)});for(var re in Q)Q[re]&&(Q[re]=W(P,Q[re],r))}R.empty(),O=W(P,v,r,n,n,{needsNewScope:m.$$isolateScope||m.$$newScope}),O.$$slots=Q}if(m.template)if(_=!0,ie("template",T,m,R),T=m,w=E(m.template)?m.template(R,i):m.template,w=xe(w),m.replace){if(l=m,v=Ei.test(w)?Ze(ae(m.templateNamespace,li(w))):[],t=v[0],1!=v.length||1!==t.nodeType)throw Yi("tplrt",g,"");ue(s,R,t),
j={$attr:{}},w=F(t,[],j);var oe=e.splice(H+1,e.length-(H+1));(S||$)&&K(w,S,$),e=e.concat(w).concat(oe),Z(i,j),j=e.length}else R.html(w);if(m.templateUrl)_=!0,ie("template",T,m,R),T=m,m.replace&&(l=m),p=ee(e.splice(H,e.length-H),R,i,s,A&&O,c,d,{controllerDirectives:N,newScopeDirective:$!==m&&$,newIsolateScopeDirective:S,templateDirective:T,nonTlbTranscludeDirective:U}),j=e.length;else if(m.compile)try{b=m.compile(R,i,O),E(b)?h(null,b,X,J):b&&h(b.pre,b.post,X,J)}catch(se){a(se,z(R))}m.terminal&&(p.terminal=!0,x=Math.max(x,m.priority))}return p.scope=$&&!0===$.scope,p.transcludeOnThisElement=A,p.templateOnThisElement=_,p.transclude=O,f.hasElementTranscludeDirective=B,p}function Y(e,t,n,i){var r;if(x(t)){var a=t.match(v);t=t.substring(a[0].length);var s=a[1]||a[3],a="?"===a[2];if("^^"===s?n=n.parent():r=(r=i&&i[t])&&r.instance,!r){var l="$"+t+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!a)throw Yi("ctreq",t,e)}else if(ai(t))for(r=[],s=0,a=t.length;s<a;s++)r[s]=Y(e,t[s],n,i);else C(t)&&(r={},o(t,function(t,o){r[o]=Y(e,t,n,i)}));return r||null}function G(e,t,n,i,r,o,a){var s,l=ce();for(s in i){var c=i[s],u={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"==d&&(d=t[c.name]),u=b(d,u,!0,c.controllerAs),l[c.name]=u,e.data("$"+c.name+"Controller",u.instance)}return l}function K(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=h(e[i],{$$isolateScope:t,$$newScope:n})}function J(t,n,i,o,s,c,u){if(n===s)return null;if(s=null,l.hasOwnProperty(n)){var d;n=e.get(n+"Directive");for(var f=0,p=n.length;f<p;f++)try{if(d=n[f],(y(o)||o>d.priority)&&-1!=d.restrict.indexOf(i)){if(c&&(d=h(d,{$$start:c,$$end:u})),!d.$$bindings){var m=d,g=d,v=d.name,b={isolateScope:null,bindToController:null};if(C(g.scope)&&(!0===g.bindToController?(b.bindToController=r(g.scope,v,!0),b.isolateScope={}):b.isolateScope=r(g.scope,v,!1)),C(g.bindToController)&&(b.bindToController=r(g.bindToController,v,!0)),C(b.bindToController)){var w=g.controller,x=g.controllerAs;if(!w)throw Yi("noctrl",v);if(!et(w,x))throw Yi("noident",v)}var $=m.$$bindings=b;C($.isolateScope)&&(d.$$isolateBindings=$.isolateScope)}t.push(d),s=d}}catch(N){a(N)}}return s}function Q(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;i<r;i++)if(t=n[i],t.multiElement)return!0;return!1}function Z(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(P(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function ee(e,t,n,i,r,a,l,c){var u,d,f=[],p=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=E(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),s(v).then(function(s){var h,b;if(s=xe(s),m.replace){if(s=Ei.test(s)?Ze(ae(y,li(s))):[],h=s[0],1!=s.length||1!==h.nodeType)throw Yi("tplrt",m.name,v);s={$attr:{}},ue(i,t,h);var w=F(h,[],s);C(m.scope)&&K(w,!0),e=w.concat(e),Z(n,s)}else h=p,t.html(s);for(e.unshift(g),u=X(e,h,n,r,t,m,a,l,c),o(i,function(e,n){e==h&&(i[n]=t[0])}),d=H(t[0].childNodes,r);f.length;){s=f.shift(),b=f.shift();var x=f.shift(),$=f.shift(),w=t[0];if(!s.$$destroyed){if(b!==p){var N=b.className;c.hasElementTranscludeDirective&&m.replace||(w=ve(h)),ue(x,zn(b),w),P(zn(w),N)}b=u.transcludeOnThisElement?j(s,u.transclude,$):$,u(d,s,w,i,b)}}f=null}),function(e,t,n,i,r){e=r,t.$$destroyed||(f?f.push(t,n,i,e):(u.transcludeOnThisElement&&(e=j(t,u.transclude,r)),u(d,t,n,i,e)))}}function te(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Yi("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,z(i))}function oe(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&M.$$addBindingClass(e),function(e,i){var r=i.parent();t||M.$$addBindingClass(r),M.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){i[0].nodeValue=e})}}})}function ae(e,n){switch(e=Kn(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function se(e,t){if("srcdoc"==t)return T.HTML;var n=I(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?T.RESOURCE_URL:void 0}function le(e,t,n,r,o){var a=se(e,r);o=f[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===I(e))throw Yi("selmulti",z(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers=ce()),w.test(r))throw Yi("nodomevents");var c=l[r];c!==n&&(s=c&&i(c,!0,a,o),n=c),s&&(l[r]=s(e),(t[r]||(t[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function ue(e,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==a){e[r++]=i,o=r+s-1;for(var c=e.length;r<c;r++,o++)o<c?e[r]=e[o]:delete e[r];e.length-=s-1,e.context===a&&(e.context=i);break}for(l&&l.replaceChild(i,a),e=t.createDocumentFragment(),r=0;r<s;r++)e.appendChild(n[r]);for(zn.hasData(a)&&(zn.data(i,zn.data(a)),zn(a).off("$destroy")),zn.cleanData(e.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function de(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function fe(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(s){a(s,z(n))}}function he(e,t,r,a,s){function l(t,n,i){E(r.$onChanges)&&n!==i&&(pe||(e.$$postDigest(B),pe=[]),u||(u={},pe.push(c)),u[t]&&(i=u[t].previousValue),u[t]={previousValue:i,currentValue:n})}function c(){r.$onChanges(u),u=n}var u,d=[];return o(a,function(n,o){var a,c,u,f,h=n.attrName,m=n.optional;switch(n.mode){case"@":m||Gn.call(t,h)||(r[o]=t[h]=void 0),t.$observe(h,function(e){x(e)&&(l(o,e,r[o]),r[o]=e)}),t.$$observers[h].$$scope=e,a=t[h],x(a)?r[o]=i(a)(e):U(a)&&(r[o]=a);break;case"=":if(!Gn.call(t,h)){if(m)break;t[h]=void 0}if(m&&!t[h])break;c=g(t[h]),f=c.literal?L:function(e,t){return e===t||e!==e&&t!==t},u=c.assign||function(){throw a=r[o]=c(e),Yi("nonassign",t[h],h,s.name)},a=r[o]=c(e),m=function(t){return f(t,r[o])||(f(t,a)?u(e,t=r[o]):r[o]=t),a=t},m.$stateful=!0,m=n.collection?e.$watchCollection(t[h],m):e.$watch(g(t[h],m),null,c.literal),d.push(m);break;case"<":if(!Gn.call(t,h)){if(m)break;t[h]=void 0}if(m&&!t[h])break;c=g(t[h]),r[o]=c(e),m=e.$watch(c,function(e){l(o,e,r[o]),r[o]=e},c.literal),d.push(m);break;case"&":if(c=t.hasOwnProperty(h)?g(t[h]):p,c===p&&m)break;r[o]=function(t){return c(e,t)}}}),d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}var pe,ge=/^\w/,ye=t.createElement("div"),be=S;D.prototype={$normalize:Je,$addClass:function(e){e&&0<e.length&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Qe(e,t);n&&n.length&&A.addClass(this.$$element,n),(n=Qe(t,e))&&n.length&&A.removeClass(this.$$element,n)},$set:function(e,t,n,i){var r=Be(this.$$element[0],e),s=Ii[e],l=e;if(r?(this.$$element.prop(e,t),i=r):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=ne(e,"-")),r=I(this.$$element),"a"===r&&("href"===e||"xlinkHref"===e)||"img"===r&&"src"===e)this[e]=t=_(t,"src"===e);else if("img"===r&&"srcset"===e){for(var r="",s=li(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),u=0;u<c;u++)var d=2*u,r=r+_(li(s[d]),!0),r=r+(" "+li(s[d+1]));s=li(s[2*u]).split(/\s/),r+=_(li(s[0]),!0),2===s.length&&(r+=" "+li(s[1])),this[e]=t=r}!1!==n&&(null===t||y(t)?this.$$element.removeAttr(i):ge.test(i)?this.$$element.attr(i,t):O(this.$$element[0],i,t)),(e=this.$$observers)&&o(e[l],function(e){try{e(t)}catch(n){a(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ce()),r=i[e]||(i[e]=[]);return r.push(t),$.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){R(r,t)}}};var Ce=i.startSymbol(),we=i.endSymbol(),xe="{{"==Ce&&"}}"==we?m:function(e){return e.replace(/\{\{/g,Ce).replace(/}}/g,we)},$e=/^ngAttr[A-Z]/,Ne=/^(.+)Start$/;return M.$$addBindingInfo=N?function(e,t){var n=e.data("$binding")||[];ai(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,M.$$addBindingClass=N?function(e){P(e,"ng-binding")}:p,M.$$addScopeInfo=N?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:p,M.$$addScopeClass=N?function(e,t){P(e,t?"ng-isolate-scope":"ng-scope")}:p,M.$$createComment=function(e,n){var i="";return N&&(i=" "+(e||"")+": "+(n||"")+" "),t.createComment(i)},M}]}function Je(e){return fe(e.replace(Gi,""))}function Qe(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(0<n.length?" ":"")+a}return n}function Ze(e){e=zn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Zn.call(e,t,1);return e}function et(e,t){if(t&&x(t))return t;if(x(e)){var n=Ji.exec(e);if(n)return n[3]}}function tt(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ae(t,"controller"),C(t)?u(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,o){function a(e,t,n,r){if(!e||!C(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,s,l,c){var d,f,h;if(l=!0===l,c&&x(c)&&(h=c),x(i)){if(c=i.match(Ji),!c)throw Ki("ctrlfmt",i);f=c[1],h=h||c[3],i=e.hasOwnProperty(f)?e[f]:se(s.$scope,f,!0)||(t?se(o,f,!0):n),oe(i,f,!0)}return l?(l=(ai(i)?i[i.length-1]:i).prototype,d=Object.create(l||null),h&&a(s,h,d,f||i.name),u(function(){var e=r.invoke(i,d,s,f);return e!==d&&(C(e)||E(e))&&(d=e,h&&a(s,h,d,f||i.name)),d},{instance:d,identifier:h})):(d=r.instantiate(i,s,f),h&&a(s,h,d,f||i.name),d)}}]}function nt(){this.$get=["$window",function(e){return zn(e.document)}]}function it(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function rt(e){return C(e)?N(e)?e.toISOString():j(e):e}function ot(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||y(e)||(ai(e)?o(e,function(e){t.push(K(n)+"="+K(rt(e)))}):t.push(K(n)+"="+K(rt(e))))}),t.join("&")}}}function at(){this.$get=function(){return function(e){function t(e,i,r){null===e||y(e)||(ai(e)?o(e,function(e,n){t(e,i+"["+(C(e)?n:"")+"]")}):C(e)&&!N(e)?a(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(K(i)+"="+K(rt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function st(e,t){if(x(e)){var n=e.replace(ir,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(Zi))||(i=(i=n.match(tr))&&nr[i[0]].test(n)),i&&(e=F(n))}}return e}function lt(e){var t,n=ce();return x(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var i=Kn(li(e.substr(0,t)));e=li(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):C(e)&&o(e,function(e,t){var i=Kn(t),r=li(e);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function ct(e){var t;return function(n){return t||(t=lt(e)),n?(n=t[Kn(n)],void 0===n&&(n=null),n):t}}function ut(e,t,n,i){return E(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function dt(){var e=this.defaults={transformResponse:[st],transformRequest:[function(e){return C(e)&&"[object File]"!==ti.call(e)&&"[object Blob]"!==ti.call(e)&&"[object FormData]"!==ti.call(e)?j(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(er),put:O(er),patch:O(er)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return b(e)?(t=!!e,this):t};var r=!0;this.useLegacyPromiseExtensions=function(e){return b(e)?(r=!!e,this):r};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,d,f,h){function p(t){function a(e){var t=u({},e);return t.data=ut(e.data,e.headers,e.status,l.transformResponse),e=e.status,200<=e&&300>e?t:f.reject(t)}function s(e,t){var n,i={};return o(e,function(e,r){E(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}if(!C(t))throw i("$http")("badreq",t);if(!x(t.url))throw i("$http")("badreq",t.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);l.headers=function(t){var n,i,r,o=e.headers,a=u({},t.headers),o=u({},o.common,o[Kn(t.method)]);e:for(n in o){i=Kn(n);for(r in a)if(Kn(r)===i)continue e;a[n]=o[n]}return s(a,O(t))}(t),l.method=Jn(l.method),l.paramSerializer=x(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer;var c=[function(t){var i=t.headers,r=ut(t.data,ct(i),n,t.transformRequest);return y(r)&&o(i,function(e,t){"content-type"===Kn(t)&&delete i[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(a,a)},n],d=f.when(l);for(o(w,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){t=c.shift();var p=c.shift(),d=d.then(t,p)}return r?(d.success=function(e){return oe(e,"fn"),d.then(function(t){e(t.data,t.status,t.headers,l)}),d},d.error=function(e){return oe(e,"fn"),d.then(null,function(t){e(t.data,t.status,t.headers,l)}),d}):(d.success=or("success"),d.error=or("error")),d}function m(i,r){function o(e,n,i,r){function o(){a(n,e,i,r)}h&&(200<=e&&300>e?h.put(N,[e,n,lt(i),r]):h.remove(N)),t?d.$applyAsync(o):(o(),d.$$phase||d.$apply())}function a(e,t,n,r){t=-1<=t?t:0,(200<=t&&300>t?w.resolve:w.reject)({data:e,status:t,headers:ct(n),config:i,statusText:r})}function c(e){a(e.data,e.status,O(e.headers()),e.statusText)}function u(){var e=p.pendingRequests.indexOf(i);-1!==e&&p.pendingRequests.splice(e,1)}var h,m,w=f.defer(),x=w.promise,$=i.headers,N=g(i.url,i.paramSerializer(i.params));return p.pendingRequests.push(i),x.then(u,u),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(h=C(i.cache)?i.cache:C(e.cache)?e.cache:v),h&&(m=h.get(N),b(m)?m&&E(m.then)?m.then(c,c):ai(m)?a(m[1],m[0],O(m[2]),m[3]):a(m,200,{},"OK"):h.put(N,x)),y(m)&&((m=cn(i.url)?l()[i.xsrfCookieName||e.xsrfCookieName]:n)&&($[i.xsrfHeaderName||e.xsrfHeaderName]=m),s(i.method,N,r,o,$,i.timeout,i.withCredentials,i.responseType)),x}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var v=c("$http");e.paramSerializer=x(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var w=[];return o(a,function(e){w.unshift(x(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],function(e){o(arguments,function(e){p[e]=function(t,n){return p(u({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){p[e]=function(t,n,i){return p(u({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),p.defaults=e,p}]}function ft(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function ht(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,i){return pt(e,i,e.defer,t.angular.callbacks,n[0])}]}function pt(e,t,n,i,r){function a(e,t,n){var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a,!1),o.removeEventListener("error",a,!1),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a,!1),o.addEventListener("error",a,!1),r.body.appendChild(o),a}return function(r,s,l,c,u,d,f,h){function m(){C&&C(),w&&w.abort()}function g(t,i,r,o,a){b($)&&n.cancel($),C=w=null,t(i,r,o,a),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Kn(r)){var v="_"+(i.counter++).toString(36);i[v]=function(e){i[v].data=e,i[v].called=!0};var C=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){g(c,e,i[v].data,"",t),i[v]=p})}else{var w=t(r,s);if(w.open(r,s,!0),o(u,function(e,t){b(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==ln(s).protocol?404:0),g(c,n,t,w.getAllResponseHeaders(),e)},r=function(){g(c,-1,null,null,"")},w.onerror=r,w.onabort=r,f&&(w.withCredentials=!0),h)try{w.responseType=h}catch(x){if("json"!==h)throw x}w.send(y(l)?null:l)}if(0<d)var $=n(m,d);else d&&E(d.then)&&d.then(m)}}function mt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(h,t)}function s(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function l(o,l,f,h){function p(e){try{var t=e;e=f?r.getTrusted(f,t):r.valueOf(t);var n;if(h&&!b(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=j(e)}n=e}return n}catch(a){i(ar.interr(o,a))}}if(!o.length||-1===o.indexOf(e)){var m;return l||(l=a(o),m=g(l),m.exp=o,m.expressions=[],m.$$watchDelegate=s),m}h=!!h;var v,C,w=0,x=[],$=[];m=o.length;for(var N=[],S=[];w<m;){if(-1==(v=o.indexOf(e,w))||-1==(C=o.indexOf(t,v+c))){w!==m&&N.push(a(o.substring(w)));break}w!==v&&N.push(a(o.substring(w,v))),w=o.substring(v+c,C),x.push(w),$.push(n(w,p)),w=C+d,S.push(N.length),N.push("")}if(f&&1<N.length&&ar.throwNoconcat(o),!l||x.length){var T=function(e){for(var t=0,n=x.length;t<n;t++){if(h&&y(e[t]))return;N[S[t]]=e[t]}return N.join("")};return u(function(e){var t=0,n=x.length,r=Array(n);try{for(;t<n;t++)r[t]=$[t](e);return T(r)}catch(a){i(ar.interr(o,a))}},{exp:o,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup($,function(i,r){var o=T(i);E(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var c=e.length,d=t.length,f=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function gt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,s,l,c){function u(){d?o.apply(null,f):o(m)}var d=4<arguments.length,f=d?Qn.call(arguments,4):[],h=t.setInterval,p=t.clearInterval,m=0,g=b(c)&&!c,v=(g?i:n).defer(),y=v.promise;return l=b(l)?l:0,y.$$intervalId=h(function(){g?r.defer(u):e.$evalAsync(u),v.notify(m++),0<l&&m>=l&&(v.resolve(m),p(y.$$intervalId),delete a[y.$$intervalId]),g||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function vt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=G(e[t]);return e.join("/")}function yt(e,t){var n=ln(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||lr[n.protocol]||null}function bt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=ln(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=X(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ct(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function wt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function $t(e,t,n){this.$$html5=!0,n=n||"",yt(e,this),this.$$parse=function(e){var n=Ct(t,e);if(!x(n))throw cr("ipthprfx",e,t);bt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),n=this.$$hash?"#"+G(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return b(o=Ct(e,i))?(a=o,a=b(o=Ct(n,o))?t+(Ct("/",o)||o):e+a):b(o=Ct(t,i))?a=t+o:t==i+"/"&&(a=t),a&&this.$$parse(a),!!a}}function Nt(e,t,n){yt(e,this),this.$$parse=function(i){var r,o=Ct(e,i)||Ct(t,i);y(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",y(o)&&(e=i,this.replace())):(r=Ct(n,o),y(r)&&(r=o)),bt(r,this),i=this.$$path;var o=e,a=/^\/[A-Z]:(\/.*)/;0===r.indexOf(o)&&(r=r.replace(o,"")),a.exec(r)||(i=(r=a.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var t=Y(this.$$search),i=this.$$hash?"#"+G(this.$$hash):"";this.$$url=vt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return wt(e)==wt(t)&&(this.$$parse(t),!0)}}function Et(e,t,n){this.$$html5=!0,Nt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==wt(i)?o=i:(a=Ct(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=Y(this.$$search),i=this.$$hash?"#"+G(this.$$hash):"";this.$$url=vt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function St(e){return function(){return this[e]}}function Tt(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function kt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return U(e)?(t.enabled=e,this):C(e)?(U(e.enabled)&&(t.enabled=e.enabled),U(e.requireBase)&&(t.requireBase=e.requireBase),U(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(a){throw c.url(r),c.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u;u=i.baseHref();var d,f=i.url();if(t.enabled){if(!u&&t.requireBase)throw cr("nobase");d=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(u||"/"),u=r.history?$t:Et}else d=wt(f),u=Nt;var h=d.substr(0,wt(d).lastIndexOf("/")+1);c=new u(d,h,"#"+e),c.$$parseLinkUrl(f,f),c.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=zn(e.target);"a"!==I(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");C(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ln(s.animVal).href),p.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(s,l)||(e.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),xt(c.absUrl())!=xt(f)&&i.url(c.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){y(Ct(h,e))?a.location.href=e:(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;e=xt(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=o,s(r,!1,o)):(m=!1,l(r,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=xt(i.url()),t=xt(c.absUrl()),o=i.state(),a=c.$$replace,u=e!==t||c.$$html5&&r.history&&o!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(u&&s(t,a,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function Ut(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||p;e=!1;try{e=!!r.apply}catch(a){}return e?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function At(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw dr("isecfld",t);return e}function _t(e){return e+""}function Bt(e,t){if(e){if(e.constructor===e)throw dr("isecfn",t);if(e.window===e)throw dr("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw dr("isecdom",t);if(e===Object)throw dr("isecobj",t)}return e}function It(e,t){if(e){if(e.constructor===e)throw dr("isecfn",t);if(e===fr||e===hr||e===pr)throw dr("isecff",t)}}function Rt(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw dr("isecaf",t)}function Dt(e,t){return"undefined"!=typeof e?e:t}function Ot(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Lt(e,t){var n,i;switch(e.type){case yr.Program:n=!0,o(e.body,function(e){Lt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case yr.Literal:e.constant=!0,e.toWatch=[];break;case yr.UnaryExpression:Lt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case yr.BinaryExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case yr.LogicalExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case yr.ConditionalExpression:Lt(e.test,t),Lt(e.alternate,t),Lt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case yr.Identifier:e.constant=!1,e.toWatch=[e];break;case yr.MemberExpression:Lt(e.object,t),e.computed&&Lt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case yr.CallExpression:n=!!e.filter&&!t(e.callee.name).$stateful,i=[],o(e.arguments,function(e){Lt(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?i:[e];break;case yr.AssignmentExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case yr.ArrayExpression:n=!0,i=[],o(e.elements,function(e){Lt(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case yr.ObjectExpression:n=!0,i=[],o(e.properties,function(e){Lt(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case yr.ThisExpression:e.constant=!1,e.toWatch=[];break;case yr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Pt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Mt(e){return e.type===yr.Identifier||e.type===yr.MemberExpression}function Ht(e){if(1===e.body.length&&Mt(e.body[0].expression))return{type:yr.AssignmentExpression,left:e.body[0].expression,right:{type:yr.NGValueParameter},operator:"="}}function jt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===yr.Literal||e.body[0].expression.type===yr.ArrayExpression||e.body[0].expression.type===yr.ObjectExpression)}function Ft(e,t){this.astBuilder=e,this.$filter=t}function qt(e,t){this.astBuilder=e,this.$filter=t}function Vt(e){return"constructor"==e}function zt(e){return E(e.valueOf)?e.valueOf():Cr.call(e)}function Wt(){var e=ce(),t=ce(),i={"true":!0,"false":!1,"null":null,undefined:n};this.addLiteral=function(e,t){i[e]=t},this.$get=["$filter",function(r){function a(n,i,o){var a,l,m;switch(o=o||y,typeof n){case"string":m=n=n.trim();var b=o?t:e;if(a=b[m],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(l=!0,n=n.substring(2)),a=o?v:g;var C=new vr(a);a=new br(C,r,a).parse(n),a.constant?a.$$watchDelegate=f:l?a.$$watchDelegate=a.literal?d:u:a.inputs&&(a.$$watchDelegate=c),o&&(a=s(a)),b[m]=a}return h(a,i);case"function":return h(n,i);default:return h(p,i)}}function s(e){function t(t,n,i,r){var o=y;y=!0;try{return e(t,n,i,r)}finally{y=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=s(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=s(e.inputs[n]);return t.inputs=e.inputs,t}function l(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=zt(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function c(e,t,i,r,o){var a,s=r.inputs;if(1===s.length){var c=l,s=s[0];return e.$watch(function(e){var t=s(e);return l(t,c)||(a=r(e,n,n,[t]),c=t&&zt(t)),a},t,i,o)}for(var u=[],d=[],f=0,h=s.length;f<h;f++)u[f]=l,d[f]=null;return e.$watch(function(e){for(var t=!1,i=0,o=s.length;i<o;i++){var c=s[i](e);(t||(t=!l(c,u[i])))&&(d[i]=c,u[i]=c&&zt(c))}return t&&(a=r(e,n,n,d)),a},t,i,o)}function u(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,E(t)&&t.apply(this,arguments),b(e)&&i.$$postDigest(function(){b(o)&&r()})},n)}function d(e,t,n,i){function r(e){var t=!0;return o(e,function(e){b(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,i){s=e,E(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(s)&&a()})},n)}function f(e,t,n,i){var r;return r=e.$watch(function(e){return r(),i(e)},t,n)}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,n=n!==d&&n!==u?function(n,r,o,a){return o=i&&a?a[0]:e(n,r,o,a),t(o,n,r)}:function(n,i,r,o){return r=e(n,i,r,o),n=t(r,n,i),b(r)?n:r};return e.$$watchDelegate&&e.$$watchDelegate!==c?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=c,i=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var m=ui().noUnsafeEval,g={csp:m,expensiveChecks:!1,literals:D(i)},v={csp:m,expensiveChecks:!0,literals:D(i)},y=!1;return a.$$runningExpensiveChecks=function(){return y},a}]}function Xt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Gt(function(t){e.$evalAsync(t)},t)}]}function Yt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Gt(function(t){e.defer(t)},t)}]}function Gt(e,t){function r(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function s(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e(function(){var e,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var a=0,s=o.length;a<s;++a){r=o[a][0],e=o[a][i.status];try{E(e)?r.resolve(e(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(l){r.reject(l),t(l)}}}))}function l(){this.promise=new r}var c=i("$q",TypeError);u(r.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&s(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return f(t,!0,e)},function(t){return f(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(c("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){function n(e){l||(l=!0,o.$$resolve(e))}function i(e){l||(l=!0,o.$$reject(e))}var r,o=this,l=!1;try{(C(e)||E(e))&&(r=e&&e.then),E(r)?(this.promise.$$state.status=-1,r.call(e,n,i,a(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(c){i(c),t(c)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;o<a;o++){r=i[o][0],e=i[o][3];try{r.notify(E(e)?e(n):n)}catch(s){t(s)}}})}});var d=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},f=function(e,t,n){var i=null;try{E(n)&&(i=n())}catch(r){return d(r,!1)}return i&&E(i.then)?i.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},h=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},p=function(e){if(!E(e))throw c("norslvr",e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return p.prototype=r.prototype,
p.defer=function(){var e=new l;return e.resolve=a(e,e.resolve),e.reject=a(e,e.reject),e.notify=a(e,e.notify),e},p.reject=function(e){var t=new l;return t.reject(e),t.promise},p.when=h,p.resolve=h,p.all=function(e){var t=new l,n=0,i=ai(e)?[]:{};return o(e,function(e,r){n++,h(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},p}function Kt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Jt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++oi,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,l,c){function u(e){e.currentScope.$$destroyed=!0}function d(e){9===Vn&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=++oi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(x.$$phase)throw n("inprog",x.$$phase);x.$$phase=e}function m(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function v(){}function b(){for(;S.length;)try{S.shift()()}catch(e){i(e)}s=null}function w(){null===s&&(s=c.defer(function(){x.$apply(b)}))}f.prototype={constructor:f,$new:function(t,n){var i;return n=n||this,t?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",u),i},$watch:function(e,t,n,i){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,s=o.$$watchers,c={fn:t,last:v,get:r,exp:i||e,eq:!!n};return a=null,E(t)||(c.fn=p),s||(s=o.$$watchers=[]),s.unshift(c),m(this,1),function(){0<=R(s,c)&&m(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(r,r,s)):t(r,i,s)}var i=Array(e.length),r=Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){r[t]=e,i[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,a,s;if(!y(i)){if(C(i))if(r(i))for(o!==f&&(o=f,m=o.length=0,u++),e=i.length,m!==e&&(u++,o.length=m=e),t=0;t<e;t++)s=o[t],a=i[t],n=s!==s&&a!==a,n||s===a||(u++,o[t]=a);else{o!==h&&(o=h={},m=0,u++),e=0;for(t in i)Gn.call(i,t)&&(e++,a=i[t],s=o[t],t in o?(n=s!==s&&a!==a,n||s===a||(u++,o[t]=a)):(m++,o[t]=a,u++));if(m>e)for(t in u++,o)Gn.call(i,t)||(m--,delete o[t])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,a,s=this,c=1<t.length,u=0,d=l(e,n),f=[],h={},p=!0,m=0;return this.$watch(d,function(){if(p?(p=!1,t(i,i,s)):t(i,a,s),c)if(C(i))if(r(i)){a=Array(i.length);for(var e=0;e<i.length;e++)a[e]=i[e]}else for(e in a={},i)Gn.call(i,e)&&(a[e]=i[e]);else a=i})},$digest:function(){var e,r,o,l,u,d,f,p,m,g,y,C=t,w=[];h("$digest"),c.$$checkUrlChange(),this===x&&null!==s&&(c.defer.cancel(s),b()),a=null;do{for(p=!1,m=this;$.length;){try{y=$.shift(),y.scope.$eval(y.expression,y.locals)}catch(S){i(S)}a=null}e:do{if(d=m.$$watchers)for(f=d.length;f--;)try{if(e=d[f])if(u=e.get,(r=u(m))===(o=e.last)||(e.eq?L(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(e===a){p=!1;break e}}else p=!0,a=e,e.last=e.eq?D(r,null):r,l=e.fn,l(r,o===v?r:o,m),5>C&&(g=4-C,w[g]||(w[g]=[]),w[g].push({msg:E(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:o}))}catch(T){i(T)}if(!(d=m.$$watchersCount&&m.$$childHead||m!==this&&m.$$nextSibling))for(;m!==this&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((p||$.length)&&!C--)throw x.$$phase=null,n("infdig",t,w)}while(p||$.length);for(x.$$phase=null;N.length;)try{N.shift()()}catch(k){i(k)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){x.$$phase||$.length||c.defer(function(){$.length&&x.$digest()}),$.push({scope:this,expression:l(e),locals:t})},$$postDigest:function(e){N.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{x.$$phase=null}}catch(t){i(t)}finally{try{x.$digest()}catch(n){throw i(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&S.push(t),e=l(e),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,g(r,1,e))}},$emit:function(e,t){var n,r,o,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=P([c],arguments,1);do{for(n=s.$$listeners[e]||a,c.currentScope=s,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,u)}catch(d){i(d)}else n.splice(r,1),r--,o--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var a,s,l=P([o],arguments,1);n=r;){for(o.currentScope=n,r=n.$$listeners[e]||[],a=0,s=r.length;a<s;a++)if(r[a])try{r[a].apply(null,l)}catch(c){i(c)}else r.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var x=new f,$=x.$$asyncQueue=[],N=x.$$postDigestQueue=[],S=x.$$applyAsyncQueue=[];return x}]}function Qt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=ln(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Zt(e){if("self"===e)return e;if(x(e)){if(-1<e.indexOf("***"))throw wr("iwcard",e);return e=ci(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw wr("imatcher")}function en(e){var t=[];return b(e)&&o(e,function(e){t.push(Zt(e))}),t}function tn(){this.SCE_CONTEXTS=xr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=en(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=en(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?cn(t):!!e.exec(t.href)}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(e){throw wr("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var a=r(),s={};return s[xr.HTML]=r(a),s[xr.CSS]=r(a),s[xr.URL]=r(a),s[xr.JS]=r(a),s[xr.RESOURCE_URL]=r(s[xr.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw wr("icontext",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw wr("itype",e);return new n(t)},getTrusted:function(n,r){if(null===r||y(r)||""===r)return r;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(n===xr.RESOURCE_URL){var l,c,a=ln(r.toString()),u=!1;for(l=0,c=e.length;l<c;l++)if(i(e[l],a)){u=!0;break}if(u)for(l=0,c=t.length;l<c;l++)if(i(t[l],a)){u=!1;break}if(u)return r;throw wr("insecurl",r.toString())}if(n===xr.HTML)return o(r);throw wr("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function nn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Vn)throw wr("iequirks");var i=O(xr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(xr,function(e,t){var n=Kn(t);i[fe("parse_as_"+n)]=function(t){return r(e,t)},i[fe("get_trusted_"+n)]=function(t){return a(e,t)},i[fe("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function rn(){this.$get=["$window","$document",function(e,t){var n,i={},r=!(e.chrome&&e.chrome.app&&e.chrome.app.runtime)&&e.history&&e.history.pushState,o=f((/android (\d+)/.exec(Kn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,u=!1,d=!1;if(c){for(var h in c)if(u=l.exec(h)){n=u[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),d=!!("animation"in c||n+"Animation"in c),!o||u&&d||(u=x(c.webkitTransition),d=x(c.webkitAnimation))}return{history:!(!r||4>o||a),hasEvent:function(e){if("input"===e&&11>=Vn)return!1;if(y(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:ui(),vendorPrefix:n,transitions:u,animations:d,android:o}}]}function on(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,i,r){function o(a,s){o.totalPendingRequests++,x(a)&&t.get(a)||(a=r.getTrustedResourceUrl(a));var l=n.defaults&&n.defaults.transformResponse;return ai(l)?l=l.filter(function(e){return e!==st}):l===st&&(l=null),n.get(a,u({cache:t,transformResponse:l},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},function(e){if(!s)throw $r("tpload",a,e.status,e.statusText);return i.reject(e)})}return o.totalPendingRequests=0,o}]}function an(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return o(e,function(e){var r=ri.element(e).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+ci(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function sn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){E(o)||(l=s,s=o,o=p);var c,u=Qn.call(arguments,3),d=b(l)&&!l,f=(d?i:n).defer(),h=f.promise;return c=t.defer(function(){try{f.resolve(o.apply(null,u))}catch(t){f.reject(t),r(t)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=c,a[c]=f,h}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function ln(e){return Vn&&(Nr.setAttribute("href",e),e=Nr.href),Nr.setAttribute("href",e),{href:Nr.href,protocol:Nr.protocol?Nr.protocol.replace(/:$/,""):"",host:Nr.host,search:Nr.search?Nr.search.replace(/^\?/,""):"",hash:Nr.hash?Nr.hash.replace(/^#/,""):"",hostname:Nr.hostname,port:Nr.port,pathname:"/"===Nr.pathname.charAt(0)?Nr.pathname:"/"+Nr.pathname}}function cn(e){return e=x(e)?ln(e):e,e.protocol===Er.protocol&&e.host===Er.host}function un(){this.$get=g(e)}function dn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,o,a,s,l;if(e=n.cookie||"",e!==r)for(r=e,e=r.split("; "),i={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),0<s&&(l=t(o.substring(0,s)),y(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function fn(){this.$get=dn}function hn(e){function t(n,i){if(C(n)){var r={};return o(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",yn),t("date",Un),t("filter",pn),t("json",An),t("limitTo",_n),t("lowercase",Br),t("number",bn),t("orderBy",Bn),t("uppercase",Ir)}function pn(){return function(e,t,n){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}var o;switch(vn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=mn(t,n,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function mn(e,t,n){var i=C(e)&&"$"in e;return!0===t?t=L:E(t)||(t=function(e,t){return!y(e)&&(null===e||null===t?e===t:!(C(t)||C(e)&&!v(e))&&(e=Kn(""+e),t=Kn(""+t),-1!==e.indexOf(t)))}),function(r){return i&&!C(r)?gn(r,e.$,t,!1):gn(r,e,t,n)}}function gn(e,t,n,i,r){var o=vn(e),a=vn(t);if("string"===a&&"!"===t.charAt(0))return!gn(e,t.substring(1),n,i);if(ai(e))return e.some(function(e){return gn(e,t,n,i)});switch(o){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&gn(e[s],t,n,!0))return!0;return!r&&gn(e,t,n,!1)}if("object"===a){for(s in t)if(r=t[s],!E(r)&&!y(r)&&(o="$"===s,!gn(o?e:e[s],r,n,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function vn(e){return null===e?"null":typeof e}function yn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return y(n)&&(n=t.CURRENCY_SYM),y(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:xn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function bn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:xn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Cn(e){var t,n,i,r,o,a=0;for(-1<(n=e.indexOf(Tr))&&(e=e.replace(Tr,"")),0<(i=e.search(/e/i))?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)==kr;i++);if(i==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==kr;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>Sr&&(t=t.splice(0,Sr-1),a=n-1,n=1),{d:t,e:a,i:n}}function wn(e,t,n,i){var r=e.d,o=r.length-e.i;if(t=y(t)?Math.min(Math.max(n,o),i):+t,n=t+e.i,i=r[n],0<n){r.splice(Math.max(e.i,n));for(var a=n;a<r.length;a++)r[a]=0}else for(o=Math.max(0,o),e.i=1,r.length=Math.max(1,n=t+1),r[0]=0,a=1;a<n;a++)r[a]=0;if(5<=i)if(0>n-1){for(i=0;i>n;i--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[n-1]++;for(;o<Math.max(0,t);o++)r.push(0);(t=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0))&&(r.unshift(t),e.i++)}function xn(e,t,n,i,r){if(!x(e)&&!$(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="∞";else{for(a=Cn(s),wn(a,r,t.minFrac,t.maxFrac),l=a.d,s=a.i,r=a.e,o=[],a=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(0<s?o=l.splice(s):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return 0>e&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function $n(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=kr+e;return n&&(e=e.substr(e.length-t)),r+e}function Nn(e,t,n,i,r){return n=n||0,function(o){return o=o["get"+e](),(0<n||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),$n(o,t,i,r)}}function En(e,t,n){return function(i,r){var o=i["get"+e](),a=Jn((n?"STANDALONE":"")+(t?"SHORT":"")+e);return r[a][o]}}function Sn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Tn(e){return function(t){var n=Sn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),$n(t,e)}}function kn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Un(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=f(t[9]+t[10]),r=f(t[9]+t[11])),o.call(e,f(t[1]),f(t[2])-1,f(t[3])),i=f(t[4]||0)-i,r=f(t[5]||0)-r,o=f(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),a.call(e,i,r,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,x(n)&&(n=_r.test(n)?f(n):t(n)),$(n)&&(n=new Date(n)),!N(n)||!isFinite(n.getTime()))return n;for(;i;)(s=Ar.exec(i))?(c=P(c,s,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=q(r,u),n=V(n,r,!0)),o(c,function(t){a=Ur[t],l+=a?a(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function An(){return function(e,t){return y(t)&&(t=2),j(e,t)}}function _n(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):f(t),isNaN(t)?e:($(e)&&(e=e.toString()),ai(e)||x(e)?(n=!n||isNaN(n)?0:f(n),n=0>n?Math.max(0,e.length+n):n,0<=t?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Bn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var i=1,r=m;if(E(t))r=t;else if(x(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var o=r(),r=function(e){return e[o]};return{get:r,descending:i*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,o,a){if(null==e)return e;if(!r(e))throw i("orderBy")("notarray",e);ai(o)||(o=[o]),0===o.length&&(o=["+"]);var s=t(o,a);return s.push({get:function(){return{}},descending:a?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:s.map(function(i){var r=i.get(e);return i=typeof r,null===r?(i="string",r="null"):"string"===i?r=r.toLowerCase():"object"===i&&("function"==typeof r.valueOf&&(r=r.valueOf(),n(r))||v(r)&&(r=r.toString(),n(r))||(r=t)),{value:r,type:i}})}}),e.sort(function(e,t){for(var n=0,i=0,r=s.length;i<r;++i){var n=e.predicateValues[i],o=t.predicateValues[i],a=0;if(n.type===o.type?n.value!==o.value&&(a=n.value<o.value?-1:1):a=n.type<o.type?-1:1,n=a*s[i].descending)break}return n}),e=e.map(function(e){return e.value})}}function In(e){return E(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Rn(e,t,i,r,a){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Or,s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){ae(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),R(l,e),e.$$parentForm=Or},Fn({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(R(i,n),0===i.length&&delete e[t])},$animate:r}),s.$setDirty=function(){r.removeClass(e,bo),r.addClass(e,Co),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){r.setClass(e,bo,Co+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){r.addClass(e,"ng-submitted"),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function Dn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function On(e,t,n,i,r,o){var a=Kn(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val();e=e&&e.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=li(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Gr[a]&&i.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Ln(e,t){return function(n,i){var r,a;if(N(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Hr.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Pn(e,t,i,r){return function(o,a,s,l,c,u,d){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return b(e)&&!N(e)?i(e)||n:e}Mn(o,a,s,l),On(o,a,s,l,c,u);var p,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=i(e,p),m&&(e=V(e,m)),e):n}),l.$formatters.push(function(e){if(e&&!N(e))throw xo("datefmt",e);return f(e)?((p=e)&&m&&(p=V(p,m,!0)),d("date")(e,r,m)):(p=null,"")}),b(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!f(e)||y(g)||i(e)>=g},s.$observe("min",function(e){g=h(e),l.$validate()})}if(b(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!f(e)||y(v)||i(e)<=v},s.$observe("max",function(e){v=h(e),l.$validate()})}}}function Mn(e,t,i,r){(r.$$hasNativeValidators=C(t[0].validity))&&r.$parsers.push(function(e){var i=t.prop("validity")||{};return i.badInput||i.typeMismatch?n:e})}function Hn(e,t,n,i,r){if(b(i)){if(e=e(i),!e.constant)throw xo("constexpr",n,i);return e(t)}return r}function jn(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){var t=[];return ai(e)?(o(e,function(e){t=t.concat(r(e))}),t):x(e)?e.split(" "):C(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function c(e,t){var n=s.data("$classCounts")||ce(),i=[];return o(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function u(e){if(!0===t||a.$index%2===t){var o=r(e||[]);if(d){if(!L(e,d)){var u=r(d),f=i(o,u),o=i(u,o),f=c(f,1),o=c(o,-1);f&&f.length&&n.addClass(s,f),o&&o.length&&n.removeClass(s,o)}}else{var f=c(o,1);l.$addClass(f)}}d=O(e)}var d;a.$watch(l[e],u,!0),l.$observe("class",function(t){u(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(l[e]));o===t?(o=c(s,1),l.$addClass(o)):(o=c(s,-1),l.$removeClass(o))}})}}}]}function Fn(e){function t(e,t){t&&!a[e]?(c.addClass(o,e),a[e]=!0):!t&&a[e]&&(c.removeClass(o,e),a[e]=!1)}function i(e,n){e=e?"-"+ne(e,"-"):"",t(vo+e,!0===n),t(yo+e,!1===n)}var r=e.ctrl,o=e.$element,a={},s=e.set,l=e.unset,c=e.$animate;a[yo]=!(a[vo]=o.hasClass(vo)),r.$setValidity=function(e,o,a){y(o)?(r.$pending||(r.$pending={}),s(r.$pending,e,a)):(r.$pending&&l(r.$pending,e,a),qn(r.$pending)&&(r.$pending=n)),U(o)?o?(l(r.$error,e,a),s(r.$$success,e,a)):(s(r.$error,e,a),l(r.$$success,e,a)):(l(r.$error,e,a),l(r.$$success,e,a)),r.$pending?(t(wo,!0),r.$valid=r.$invalid=n,i("",null)):(t(wo,!1),r.$valid=qn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[e]?n:!r.$error[e]&&(!!r.$$success[e]||null),i(e,o),r.$$parentForm.$setValidity(e,o,r)}}function qn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Vn,zn,Wn,Xn,Yn=/^\/(.+)\/([a-z]*)$/,Gn=Object.prototype.hasOwnProperty,Kn=function(e){return x(e)?e.toLowerCase():e},Jn=function(e){return x(e)?e.toUpperCase():e},Qn=[].slice,Zn=[].splice,ei=[].push,ti=Object.prototype.toString,ni=Object.getPrototypeOf,ii=i("ng"),ri=e.angular||(e.angular={}),oi=0;Vn=t.documentMode,p.$inject=[],m.$inject=[];var ai=Array.isArray,si=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,li=function(e){return x(e)?e.trim():e},ci=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ui=function(){if(!b(ui.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ui.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=ui;try{new Function(""),n=!1}catch(i){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ui.rules},di=function(){if(b(di.name_))return di.name_;var e,n,i,r,o=hi.length;for(n=0;n<o;++n)if(i=hi[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return di.name_=r},fi=/:/g,hi=["ng-","data-ng-","ng:","x-ng-"],pi=/[A-Z]/g,mi=!1,gi=3,vi={full:"1.5.3",major:1,minor:5,dot:3,codeName:"diplohaplontic-meiosis"};ge.expando="ng339";var yi=ge.cache={},bi=1;ge._data=function(e){return this.cache[e[this.expando]]||{}};var Ci=/([\:\-\_]+(.))/g,wi=/^moz([A-Z])/,xi={mouseleave:"mouseout",mouseenter:"mouseover"},$i=i("jqLite"),Ni=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ei=/<|&#?\w+;/,Si=/<([\w:-]+)/,Ti=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ki={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ki.optgroup=ki.option,ki.tbody=ki.tfoot=ki.colgroup=ki.caption=ki.thead,ki.th=ki.td;var Ui=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ai=ge.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ge(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return zn(0<=e?this[e]:this[this.length+e])},length:0,push:ei,sort:[].sort,splice:[].splice},_i={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){_i[Kn(e)]=e});var Bi={};o("input select option textarea button form details".split(" "),function(e){Bi[e]=!0});var Ii={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:xe,removeData:Ce,hasData:function(e){for(var t in yi[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Ce(e[t])}},function(e,t){ge[t]=e}),o({data:xe,inheritedData:ke,scope:function(e){return zn.data(e,"$scope")||ke(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return zn.data(e,"$isolateScope")||zn.data(e,"$isolateScopeNoTemplate")},controller:Te,injector:function(e){return ke(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,n){return t=fe(t),b(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var r=e.nodeType;if(r!==gi&&2!==r&&8!==r)if(r=Kn(t),_i[r]){if(!b(i))return e[t]||(e.attributes.getNamedItem(t)||p).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(b(i))e.setAttribute(t,i);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return b(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return 1===n||n===gi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===I(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(ye(e,!0),void(e.innerHTML=t))},empty:Ue},function(e,t){ge.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Ue&&y(2==e.length&&e!==$e&&e!==Te?t:n)){if(C(t)){for(i=0;i<o;i++)if(e===xe)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(i=e.$dv,o=y(i)?Math.min(o,1):o,r=0;r<o;r++){var a=e(this[r],t,n);i=i?i+a:a}return i}for(i=0;i<o;i++)e(this[i],t,n);return this}}),o({removeData:Ce,on:function(e,t,i,r){if(b(r))throw $i("onargs");if(he(e)){r=we(e,!0);var o=r.events,a=r.handle;a||(a=r.handle=Ie(e,o)),r=0<=t.indexOf(" ")?t.split(" "):[t];for(var s=r.length,l=function(t,n,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=n,"$destroy"===t||r||e.addEventListener(t,a,!1)),s.push(i)};s--;)t=r[s],xi[t]?(l(xi[t],De),l(t,n,!0)):l(t)}},off:be,one:function(e,t,n){e=zn(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ye(e),o(new ge(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new ge(t);for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new ge(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){me(e,zn(t).eq(0).clone()[0])},remove:Ae,detach:function(e){Ae(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new ge(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Ee,removeClass:Ne,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;y(i)&&(i=!$e(e,t)),(i?Ee:Ne)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ve,triggerHandler:function(e,t,n){var i,r,a=t.type||t,s=we(e);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:p,type:a,target:e},t.type&&(i=u(i,t)),t=O(s),r=n?[i].concat(n):[i],o(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r);
}))}},function(e,t){ge.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)y(r)?(r=e(this[o],t,n,i),b(r)&&(r=zn(r))):Se(r,e(this[o],t,n,i));return b(r)?r:this},ge.prototype.bind=ge.prototype.on,ge.prototype.unbind=ge.prototype.off}),Pe.prototype={put:function(e,t){this[Le(e,this.nextUid)]=t},get:function(e){return this[Le(e,this.nextUid)]},remove:function(e){var t=this[e=Le(e,this.nextUid)];return delete this[e],t}};var Ri=[function(){this.$get=[function(){return Pe}]}],Di=/^([^\(]+?)=>/,Oi=/^[^\(]*\(\s*([^\)]*)\)/m,Li=/,/,Pi=/^\s*(_?)(\S+?)\1\s*$/,Mi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Hi=i("$injector");je.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw x(n)&&n||(n=e.name||He(e)),Hi("strictdi",n);t=Me(e),o(t[1].split(Li),function(e){e.replace(Pi,function(e,t,n){i.push(n)})})}e.$inject=i}}else ai(e)?(t=e.length-1,oe(e[t],"fn"),i=e.slice(0,t)):oe(e,"fn",!0);return i};var ji=i("$animate"),Fi=function(){this.$get=p},qi=function(){var e=new Pe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(e,t,n){var i=!1;return t&&(t=x(t)?t.split(" "):ai(t)?t:[],o(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){o(t,function(t){var n=e.get(t);if(n){var i=Ve(t.attr("class")),r="",a="";o(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){r&&Ee(e,r),a&&Ne(e,a)}),e.remove(t)}}),t.length=0}return{enabled:p,on:p,off:p,pin:p,push:function(o,s,l,c){return c&&c(),l=l||{},l.from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,c=l.removeClass,l=e.get(o)||{},s=r(l,s,!0),c=r(l,c,!1),(s||c)&&(e.put(o,l),t.push(o),1===t.length&&i.$$postDigest(a))),o=new n,o.complete(),o}}}]},Vi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw ji("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw ji("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&zn(i),r=r&&zn(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",ze(o))},move:function(n,i,r,o){return i=i&&zn(i),r=r&&zn(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",ze(o))},leave:function(t,n){return e.push(t,"leave",ze(n),function(){t.remove()})},addClass:function(t,n,i){return i=ze(i),i.addClass=qe(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=ze(i),i.removeClass=qe(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=ze(r),r.addClass=qe(r.addClass,n),r.removeClass=qe(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=ze(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,o.tempClasses=qe(o.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],zi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Wi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,r){function a(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e,0,!1):t(e)},this._state=0}return a.chain=function(e,t){function n(){i===e.length?t(!0):e[i](function(e){!1===e?t(!1):(i++,n())})}var i=0;n()},a.all=function(e,t){function n(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},Xi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null),a||s.complete(),a=!0}),s}var o=i||{};o.$$prepared||(o=D(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var a,s=new n;return{start:r,end:r}}}]},Yi=i("$compile");Ke.$inject=["$provide","$$sanitizeUriProvider"];var Gi=/^((?:x|data)[\:\-_])/i,Ki=i("$controller"),Ji=/^(\S+)(\s+as\s+([\w$]+))?$/,Qi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof zn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Zi="application/json",er={"Content-Type":Zi+";charset=utf-8"},tr=/^\[|^\{(?!\{)/,nr={"[":/]$/,"{":/}$/},ir=/^\)\]\}',?\n/,rr=i("$http"),or=function(e){return function(){throw rr("legacy",e)}},ar=ri.$interpolateMinErr=i("$interpolate");ar.throwNoconcat=function(e){throw ar("noconcat",e)},ar.interr=function(e,t){return ar("interr",e,t.toString())};var sr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,lr={http:80,https:443,ftp:21},cr=i("$location"),ur={$$html5:!1,$$replace:!1,absUrl:St("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=sr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:St("$$protocol"),host:St("$$host"),port:St("$$port"),path:Tt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||$(e))e=e.toString(),this.$$search=X(e);else{if(!C(e))throw cr("isrcharg");e=D(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Tt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Et,Nt,$t],function(e){e.prototype=Object.create(ur),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==$t||!this.$$html5)throw cr("nostate");return this.$$state=y(t)?null:t,this}});var dr=i("$parse"),fr=Function.prototype.call,hr=Function.prototype.apply,pr=Function.prototype.bind,mr=ce();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){mr[e]=!0});var gr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},vr=function(e){this.options=e};vr.prototype={constructor:vr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=mr[t],r=mr[n];mr[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,dr("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Kn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=gr[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yr=function(e,t){this.lexer=e,this.options=t};yr.Program="Program",yr.ExpressionStatement="ExpressionStatement",yr.AssignmentExpression="AssignmentExpression",yr.ConditionalExpression="ConditionalExpression",yr.LogicalExpression="LogicalExpression",yr.BinaryExpression="BinaryExpression",yr.UnaryExpression="UnaryExpression",yr.CallExpression="CallExpression",yr.MemberExpression="MemberExpression",yr.Identifier="Identifier",yr.Literal="Literal",yr.ArrayExpression="ArrayExpression",yr.Property="Property",yr.ObjectExpression="ObjectExpression",yr.ThisExpression="ThisExpression",yr.LocalsExpression="LocalsExpression",yr.NGValueParameter="NGValueParameter",yr.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:yr.Program,body:e}},expressionStatement:function(){return{type:yr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:yr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:yr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:yr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:yr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:yr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=D(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:yr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:yr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:yr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:yr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:yr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:yr.Identifier,name:e.text}},constant:function(){return{type:yr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:yr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:yr.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:yr.ObjectExpression,properties:t}},throwError:function(e,t){throw dr("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw dr("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw dr("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return!!(e=this.peek(e,t,n,i))&&(this.tokens.shift(),e)},selfReferential:{"this":{type:yr.ThisExpression},$locals:{type:yr.LocalsExpression}}},Ft.prototype={compile:function(e,t){var i=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Lt(r,i.$filter);var a,s="";return this.stage="assign",(a=Ht(r))&&(this.state.computing="assign",s=this.nextId(),this.recurse(a,s),this.return_(s),s="fn.assign="+this.generateFunction("assign","s,v,l")),a=Pt(r.body),i.stage="inputs",o(a,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",s)(this.$filter,At,Bt,It,_t,Rt,Dt,Ot,e),this.state=this.stage=n,s.literal=jt(r),s.constant=r.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,r,a,s){var l,c,u,d,f=this;if(r=r||p,!s&&b(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,r,a,!0));else switch(e.type){case yr.Program:o(e.body,function(t,i){f.recurse(t.expression,n,n,function(e){c=e}),i!==e.body.length-1?f.current().body.push(c,";"):f.return_(c)});break;case yr.Literal:d=this.escape(e.value),this.assign(t,d),r(d);break;case yr.UnaryExpression:this.recurse(e.argument,n,n,function(e){c=e}),d=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,d),r(d);break;case yr.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){c=e}),d="+"===e.operator?this.plus(l,c):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(c,0):"("+l+")"+e.operator+"("+c+")",this.assign(t,d),r(d);break;case yr.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),r(t);break;case yr.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),r(t);break;case yr.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),At(e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){a&&1!==a&&f.if_(f.not(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),(f.state.expensiveChecks||Vt(e.name))&&f.addEnsureSafeObject(t),r(t);break;case yr.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,l,n,function(){f.if_(f.notNull(l),function(){a&&1!==a&&f.addEnsureSafeAssignContext(l),e.computed?(c=f.nextId(),f.recurse(e.property,c),f.getStringValue(c),f.addEnsureSafeMemberName(c),a&&1!==a&&f.if_(f.not(f.computedMember(l,c)),f.lazyAssign(f.computedMember(l,c),"{}")),d=f.ensureSafeObject(f.computedMember(l,c)),f.assign(t,d),i&&(i.computed=!0,i.name=c)):(At(e.property.name),a&&1!==a&&f.if_(f.not(f.nonComputedMember(l,e.property.name)),f.lazyAssign(f.nonComputedMember(l,e.property.name),"{}")),d=f.nonComputedMember(l,e.property.name),(f.state.expensiveChecks||Vt(e.property.name))&&(d=f.ensureSafeObject(d)),f.assign(t,d),i&&(i.computed=!1,i.name=e.property.name))},function(){f.assign(t,"undefined")}),r(t)},!!a);break;case yr.CallExpression:t=t||this.nextId(),e.filter?(c=f.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),u.push(t)}),d=c+"("+u.join(",")+")",f.assign(t,d),r(t)):(c=f.nextId(),l={},u=[],f.recurse(e.callee,c,l,function(){f.if_(f.notNull(c),function(){f.addEnsureSafeFunction(c),o(e.arguments,function(e){f.recurse(e,f.nextId(),n,function(e){u.push(f.ensureSafeObject(e))})}),l.name?(f.state.expensiveChecks||f.addEnsureSafeObject(l.context),d=f.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):d=c+"("+u.join(",")+")",d=f.ensureSafeObject(d),f.assign(t,d)},function(){f.assign(t,"undefined")}),r(t)}));break;case yr.AssignmentExpression:if(c=this.nextId(),l={},!Mt(e.left))throw dr("lval");this.recurse(e.left,n,l,function(){f.if_(f.notNull(l.context),function(){f.recurse(e.right,c),f.addEnsureSafeObject(f.member(l.context,l.name,l.computed)),f.addEnsureSafeAssignContext(l.context),d=f.member(l.context,l.name,l.computed)+e.operator+c,f.assign(t,d),r(t||d)})},1);break;case yr.ArrayExpression:u=[],o(e.elements,function(e){f.recurse(e,f.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),r(d);break;case yr.ObjectExpression:u=[],o(e.properties,function(e){f.recurse(e.value,f.nextId(),n,function(t){u.push(f.escape(e.key.type===yr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),r(d);break;case yr.ThisExpression:this.assign(t,"s"),r("s");break;case yr.LocalsExpression:this.assign(t,"l"),r("l");break;case yr.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(x(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw dr("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},qt.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Lt(i,n.$filter);var r,a;(r=Ht(i))&&(a=this.recurse(r)),r=Pt(i.body);var s;r&&(s=[],o(r,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var l=[];return o(i.body,function(e){l.push(n.recurse(e.expression))}),r=0===i.body.length?p:1===i.body.length?l[0]:function(e,t){var n;return o(l,function(i){n=i(e,t)}),n},a&&(r.assign=function(e,t,n){return a(e,n,t)}),s&&(r.inputs=s),r.literal=jt(i),r.constant=i.constant,r},recurse:function(e,t,i){var r,a,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case yr.Literal:return this.value(e.value,t);case yr.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case yr.BinaryExpression:return r=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](r,a,t);case yr.LogicalExpression:return r=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](r,a,t);case yr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case yr.Identifier:return At(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||Vt(e.name),t,i,l.expression);case yr.MemberExpression:return r=this.recurse(e.object,!1,!!i),e.computed||(At(e.property.name,l.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(r,a,t,i,l.expression):this.nonComputedMember(r,a,l.expensiveChecks,t,i,l.expression);case yr.CallExpression:return s=[],o(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,i,r,o){for(var l=[],c=0;c<s.length;++c)l.push(s[c](e,i,r,o));return e=a.apply(n,l,o),t?{context:n,name:n,value:e}:e}:function(e,n,i,r){var o,c=a(e,n,i,r);if(null!=c.value){Bt(c.context,l.expression),It(c.value,l.expression),o=[];for(var u=0;u<s.length;++u)o.push(Bt(s[u](e,n,i,r),l.expression));o=Bt(c.value.apply(c.context,o),l.expression)}return t?{value:o}:o};case yr.AssignmentExpression:return r=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,i,o){var s=r(e,n,i,o);return e=a(e,n,i,o),Bt(s.value,l.expression),Rt(s.context),s.context[s.name]=e,t?{value:e}:e};case yr.ArrayExpression:return s=[],o(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,i,r));return t?{value:o}:o};case yr.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===yr.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,i,r){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,i,r);return t?{value:o}:o};case yr.ThisExpression:return function(e){return t?{value:e}:e};case yr.LocalsExpression:return function(e,n){return t?{value:n}:n};case yr.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=b(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=b(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,r,o){return n=!e(n,i,r,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a);return i=t(i,r,o,a),s=Ot(s,i),n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a);return i=t(i,r,o,a),s=(b(s)?s:0)-(b(i)?i:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)*t(i,r,o,a),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)/t(i,r,o,a),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)%t(i,r,o,a),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)===t(i,r,o,a),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)!==t(i,r,o,a),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)==t(i,r,o,a),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)!=t(i,r,o,a),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)<t(i,r,o,a),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)>t(i,r,o,a),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)<=t(i,r,o,a),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)>=t(i,r,o,a),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)&&t(i,r,o,a),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)||t(i,r,o,a),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){return r=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s),i?{value:r}:r}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,r,o){return function(a,s,l,c){return a=s&&e in s?s:a,r&&1!==r&&a&&!a[e]&&(a[e]={}),s=a?a[e]:n,t&&Bt(s,o),i?{context:a,name:e,value:s}:s}},computedMember:function(e,t,n,i,r){return function(o,a,s,l){var c,u,d=e(o,a,s,l);return null!=d&&(c=t(o,a,s,l),c+="",At(c,r),i&&1!==i&&(Rt(d),d&&!d[c]&&(d[c]={})),u=d[c],Bt(u,r)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,i,r,o,a){return function(s,l,c,u){return s=e(s,l,c,u),o&&1!==o&&(Rt(s),s&&!s[t]&&(s[t]={})),l=null!=s?s[t]:n,(i||Vt(t))&&Bt(l,a),r?{context:s,name:t,value:l}:l}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var br=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new yr(e,n),this.astCompiler=n.csp?new qt(this.ast,t):new Ft(this.ast,t)};br.prototype={constructor:br,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Cr=Object.prototype.valueOf,wr=i("$sce"),xr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$r=i("$compile"),Nr=t.createElement("a"),Er=ln(e.location.href);dn.$inject=["$document"],hn.$inject=["$provide"];var Sr=22,Tr=".",kr="0";yn.$inject=["$locale"],bn.$inject=["$locale"];var Ur={yyyy:Nn("FullYear",4,0,!1,!0),yy:Nn("FullYear",2,0,!0,!0),y:Nn("FullYear",1,0,!1,!0),MMMM:En("Month"),MMM:En("Month",!0),MM:Nn("Month",2,1),M:Nn("Month",1,1),LLLL:En("Month",!1,!0),dd:Nn("Date",2),d:Nn("Date",1),HH:Nn("Hours",2),H:Nn("Hours",1),hh:Nn("Hours",2,-12),h:Nn("Hours",1,-12),mm:Nn("Minutes",2),m:Nn("Minutes",1),ss:Nn("Seconds",2),s:Nn("Seconds",1),sss:Nn("Milliseconds",3),EEEE:En("Day"),EEE:En("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+($n(Math[0<e?"floor":"ceil"](e/60),2)+$n(Math.abs(e%60),2))},ww:Tn(2),w:Tn(1),G:kn,GG:kn,GGG:kn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Ar=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,_r=/^\-?\d+$/;Un.$inject=["$locale"];var Br=g(Kn),Ir=g(Jn);Bn.$inject=["$parse"];var Rr=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ti.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Dr={};o(_i,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!=e){var i=Je("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Dr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Ii,function(e,t){Dr[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Yn))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Je("ng-"+e);Dr[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===ti.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(a,t),Vn&&o&&i.prop(o,r[a])):"href"===e&&r.$set(a,null)})}}}});var Or={$addControl:p,$$renameControl:function(e,t){e.$name=t},$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p};Rn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Lr=function(e){return["$timeout","$parse",function(t,i){
function r(e){return""===e?i('this[""]').assign:i(e).assign||p}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Rn,compile:function(i,o){i.addClass(bo).addClass(vo);var a=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,i,o,s){var l=s[0];if(!("action"in o)){var c=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};i[0].addEventListener("submit",c,!1),i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",c,!1)},0,!1)})}(s[1]||l.$$parentForm).$addControl(l);var d=a?r(l.$name):p;a&&(d(e,l),o.$observe(a,function(t){l.$name!==t&&(d(e,n),l.$$parentForm.$$renameControl(l,t),(d=r(l.$name))(e,l))})),i.on("$destroy",function(){l.$$parentForm.$removeControl(l),d(e,n),u(l,Or)})}}}}}]},Pr=Lr(),Mr=Lr(!0),Hr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,jr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Fr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,qr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Vr=/^(\d{4,})-(\d{2})-(\d{2})$/,zr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wr=/^(\d{4,})-W(\d\d)$/,Xr=/^(\d{4,})-(\d\d)$/,Yr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gr=ce();o(["date","datetime-local","month","time","week"],function(e){Gr[e]=!0});var Kr={text:function(e,t,n,i,r,o){On(e,t,n,i,r,o),Dn(i)},date:Pn("date",Vr,Ln(Vr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pn("datetimelocal",zr,Ln(zr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pn("time",Yr,Ln(Yr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pn("week",Wr,function(e,t){if(N(e))return e;if(x(e)){Wr.lastIndex=0;var n=Wr.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,a=0,s=0,l=Sn(i),r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,a,s)}}return NaN},"yyyy-Www"),month:Pn("month",Xr,Ln(Xr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,r,o,a){if(Mn(e,t,i,r),On(e,t,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:qr.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!$(e))throw xo("numfmt",e);e=e.toString()}return e}),b(i.min)||i.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||y(s)||e>=s},i.$observe("min",function(e){b(e)&&!$(e)&&(e=parseFloat(e,10)),s=$(e)&&!isNaN(e)?e:n,r.$validate()})}if(b(i.max)||i.ngMax){var l;r.$validators.max=function(e){return r.$isEmpty(e)||y(l)||e<=l},i.$observe("max",function(e){b(e)&&!$(e)&&(e=parseFloat(e,10)),l=$(e)&&!isNaN(e)?e:n,r.$validate()})}},url:function(e,t,n,i,r,o){On(e,t,n,i,r,o),Dn(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||jr.test(n)}},email:function(e,t,n,i,r,o){On(e,t,n,i,r,o),Dn(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Fr.test(n)}},radio:function(e,t,n,i){y(n.name)&&t.attr("name",++oi),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,r,o,a,s){var l=Hn(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Hn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return L(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:p,button:p,submit:p,reset:p,file:p},Jr=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Kr[Kn(a.type)]||Kr.text)(r,o,a,s[0],t,e,n,i)}}}}],Qr=/^(true|false|\d+)$/,Zr=function(){return{restrict:"A",priority:100,compile:function(e,t){return Qr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},eo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=y(e)?"":e})}}}}],to=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){n=e(i.attr(r.$attr.ngBindTemplate)),t.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=y(e)?"":e})}}}}],no=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],io=g({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ro=jn("",!0),oo=jn("Odd",0),ao=jn("Even",1),so=In({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),lo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],co={},uo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Je("ng-"+e);co[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};uo[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var fo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=le(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],ho=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ri.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,f,h,p=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){f=null}),f=h,h=null)};i.$watch(o,function(o){var l=function(){!b(s)||s&&!i.$eval(s)||t()},f=++p;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&f===p){var t=i.$new();c.template=e,e=u(t,function(e){m(),n.enter(e,null,r).then(l)}),d=t,h=e,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||f!==p||(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],po=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){ti.call(i[0]).match(/SVG/)?(i.empty(),e(pe(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),e(i.contents())(n))}}}],mo=In({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),go=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var a=t.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,l=s?li(a):a;r.$parsers.push(function(e){if(!y(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?li(e):e)}),t}}),r.$formatters.push(function(e){return ai(e)?e.join(a):n}),r.$isEmpty=function(e){return!e||!e.length}}}},vo="ng-valid",yo="ng-invalid",bo="ng-pristine",Co="ng-dirty",wo="ng-pending",xo=i("ngModel"),$o=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,a,s,l,c,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(e),this.$$parentForm=Or;var f,h=a(i.ngModel),m=h.assign,g=h,v=m,C=null,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");g=function(e){var n=h(e);return E(n)&&(n=t(e)),n},v=function(e,t){E(h(e))?n(e,{$$$p:t}):m(e,t)}}else if(!h.assign)throw xo("nonassign",i.ngModel,z(r))},this.$render=p,this.$isEmpty=function(e){return y(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){w.$isEmpty(e)?(s.removeClass(r,"ng-not-empty"),s.addClass(r,"ng-empty")):(s.removeClass(r,"ng-empty"),s.addClass(r,"ng-not-empty"))};var x=0;Fn({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(r,Co),s.addClass(r,bo)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(r,bo),s.addClass(r,Co),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(C),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!$(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,i=w.$modelValue,r=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,w.$$lastCommittedViewValue,function(o){r||t===o||(w.$modelValue=o?e:n,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){function r(){var n=!0;return o(w.$validators,function(i,r){var o=i(e,t);n=n&&o,s(r,o)}),!!n||(o(w.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var i=[],r=!0;o(w.$asyncValidators,function(o,a){var l=o(e,t);if(!l||!E(l.then))throw xo("nopromise",l);s(a,n),i.push(l.then(function(){s(a,!0)},function(){r=!1,s(a,!1)}))}),i.length?u.all(i).then(function(){l(r)},p):l(!0)}function s(e,t){c===x&&w.$setValidity(e,t)}function l(e){c===x&&i(e)}x++;var c=x;(function(){var e=w.$$parserName||"parse";return y(f)?(s(e,null),!0):(f||(o(w.$validators,function(e,t){s(t,null)}),o(w.$asyncValidators,function(e,t){s(t,null)})),s(e,f),f)})()&&r()?a():l(!1)},this.$commitViewValue=function(){var e=w.$viewValue;l.cancel(C),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$updateEmptyClasses(e),w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue;if(f=!y(t)||n)for(var i=0;i<w.$parsers.length;i++)if(t=w.$parsers[i](t),y(t)){f=!1;break}$(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=g(e));var r=w.$modelValue,o=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,o&&(w.$modelValue=t,w.$modelValue!==r&&w.$$writeModelToScope()),w.$$runValidators(t,w.$$lastCommittedViewValue,function(e){o||(w.$modelValue=e?t:n,w.$modelValue!==r&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){v(e,w.$modelValue),o(w.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=w.$options;i&&b(i.debounce)&&(i=i.debounce,$(i)?n=i:$(i[t])?n=i[t]:$(i["default"])&&(n=i["default"])),l.cancel(C),n?C=l(function(){w.$commitViewValue()},n):c.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t,f=n;for(var i=w.$formatters,r=i.length,o=t;r--;)o=i[r](o);w.$viewValue!==o&&(w.$$updateEmptyClasses(o),w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(t,o,p))}return t})}],No=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:$o,priority:1,compile:function(t){return t.addClass(bo).addClass("ng-untouched").addClass(vo),{pre:function(e,t,n,i){var r=i[0];t=i[1]||r.$$parentForm,r.$$setOptions(i[2]&&i[2].$options),t.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Eo=/(\s+|^)default(\s+|$)/,So=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=D(e.$eval(t.ngModelOptions)),b(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=li(this.$options.updateOn.replace(Eo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},To=In({terminal:!0,priority:1e3}),ko=i("ngOptions"),Uo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ao=["$compile","$parse",function(e,n){function i(e,t,i){function o(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Uo);if(!s)throw ko("iexp",e,z(t));var l=s[5]||s[7],c=s[6];e=/ as /.test(s[0])&&s[1];var u=s[9];t=n(s[2]?s[1]:l);var d=e&&n(e)||t,f=u&&n(u),h=u?function(e,t){return f(i,t)}:function(e){return Le(e)},p=function(e,t){return h(e,C(e,t))},m=n(s[2]||s[1]),g=n(s[3]||""),v=n(s[4]||""),y=n(s[8]),b={},C=c?function(e,t){return b[c]=t,b[l]=e,b}:function(e){return b[l]=e,b};return{trackBy:u,getTrackByValue:p,getWatchables:n(y,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;o<r;o++){var l=e===n?o:n[o],c=e[l],l=C(c,l),c=h(c,l);t.push(c),(s[2]||s[1])&&(c=m(i,l),t.push(c)),s[4]&&(l=v(i,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=y(i)||[],r=a(n),s=r.length,l=0;l<s;l++){var c=n===r?l:r[l],f=C(n[c],c),b=d(i,f),c=h(b,f),w=m(i,f),x=g(i,f),f=v(i,f),b=new o(c,b,w,x,f);e.push(b),t[c]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return u?ri.copy(e.viewValue):e.viewValue}}}}}var a=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=p},post:function(t,n,r,l){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function u(e,t,n,i){return t&&Kn(t.nodeName)===n?n=t:(n=i.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Ae(e),e=t}function f(e){var t=p&&p[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===I(e)&&""===e.value);)e=e.nextSibling;return e}function h(){var e=$&&m.readValue();$=N.getOptions();var t={},i=n[0].firstChild;if(w&&n.prepend(p),i=f(i),$.items.forEach(function(e){var r,o;b(e.group)?(r=t[e.group],r||(r=u(n[0],i,"optgroup",s),i=r.nextSibling,r.label=e.group,r=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),o=u(r.groupElement,r.currentOptionElement,"option",a),c(e,o),r.currentOptionElement=o.nextSibling):(o=u(n[0],i,"option",a),c(e,o),i=o.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(i),g.$render(),!g.$isEmpty(e)){var r=m.readValue();(N.trackBy||v?L(e,r):e===r)||(g.$setViewValue(r),g.$render())}}var p,m=l[0],g=l[1],v=r.multiple;l=0;for(var y=n.children(),C=y.length;l<C;l++)if(""===y[l].value){p=y.eq(l);break}var w=!!p,x=zn(a.cloneNode(!1));x.val("?");var $,N=i(r.ngOptions,n,t);v?(g.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){$.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=$.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){(e=$.selectValueMap[e])&&!e.disabled&&t.push($.getViewValueFromOption(e))}),t},N.trackBy&&t.$watchCollection(function(){if(ai(g.$viewValue))return g.$viewValue.map(function(e){return N.getTrackByValue(e)})},function(){g.$render()})):(m.writeValue=function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled?(n[0].value!==t.selectValue&&(x.remove(),w||p.remove(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||w?(x.remove(),w||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)):(w||p.remove(),n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0))},m.readValue=function(){var e=$.selectValueMap[n.val()];return e&&!e.disabled?(w||p.remove(),x.remove(),$.getViewValueFromOption(e)):null},N.trackBy&&t.$watch(function(){return N.getTrackByValue(g.$viewValue)},function(){g.$render()})),w?(p.remove(),e(p)(t),p.removeClass("ng-scope")):p=zn(a.cloneNode(!1)),h(),t.$watchCollection(N.getWatchables,h)}}}}],_o=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function c(e){s.text(e||"")}var u,d=l.count,f=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,m=a.$eval(f)||{},g={},v=t.startSymbol(),b=t.endSymbol(),C=v+d+"-"+h+b,w=ri.noop;o(l,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+Kn(n[2]),m[n]=s.attr(l.$attr[t]))}),o(m,function(e,n){g[n]=t(e.replace(i,C))}),a.$watch(d,function(t){var i=parseFloat(t),r=isNaN(i);r||i in m||(i=e.pluralCat(i-h)),i===u||r&&$(u)&&isNaN(u)||(w(),r=g[i],y(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),w=p,c()):w=a.$watch(r,c),u=i)})}}}],Bo=["$parse","$animate","$compile",function(e,t,a){var s=i("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,c){var u=c.ngRepeat,d=a.$$createComment("end ngRepeat",u),f=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp",u);var h=f[1],p=f[2],m=f[3],g=f[4],f=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!f)throw s("iidexp",h);var v=f[3]||f[1],y=f[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident",m);var b,C,w,x,$={$id:Le};return g?b=e(g):(w=function(e,t){return Le(t)},x=function(e){return e}),function(e,i,a,c,f){b&&(C=function(t,n,i){return y&&($[y]=t),$[v]=n,$.$index=i,b(e,$)});var h=ce();e.$watchCollection(p,function(a){var c,p,g,b,$,N,E,S,T,k,U=i[0],A=ce();if(m&&(e[m]=a),r(a))S=a,p=C||w;else for(k in p=C||x,S=[],a)Gn.call(a,k)&&"$"!==k.charAt(0)&&S.push(k);for(b=S.length,k=Array(b),c=0;c<b;c++)if($=a===S?c:S[c],N=a[$],E=p($,N,c),h[E])T=h[E],delete h[E],A[E]=T,k[c]=T;else{if(A[E])throw o(k,function(e){e&&e.scope&&(h[e.id]=e)}),s("dupes",u,E,N);k[c]={id:E,scope:n,clone:n},A[E]=!0}for(g in h){if(T=h[g],E=le(T.clone),t.leave(E),E[0].parentNode)for(c=0,p=E.length;c<p;c++)E[c].$$NG_REMOVED=!0;T.scope.$destroy()}for(c=0;c<b;c++)if($=a===S?c:S[c],N=a[$],T=k[c],T.scope){g=U;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);T.clone[0]!=g&&t.move(le(T.clone),null,U),U=T.clone[T.clone.length-1],l(T.scope,c,v,N,y,$,b)}else f(function(e,n){T.scope=n;var i=d.cloneNode(!1);e[e.length++]=i,t.enter(e,null,U),U=i,T.clone=e,A[T.id]=T,l(T.scope,c,v,N,y,$,b)});h=A})}}}}],Io=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ro=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Do=In(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Oo=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=[],l=[],c=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=c.length;i<r;++i)e.cancel(c[i]);for(i=c.length=0,r=u.length;i<r;++i){var f=le(l[i].clone);u[i].$destroy(),(c[i]=e.leave(f)).then(d(c,i))}l.length=0,u.length=0,(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],Lo=In({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Po=In({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Mo=i("ngTransclude"),Ho=In({restrict:"EAC",link:function(e,t,n,i,r){if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!r)throw Mo("orphan",z(t));r(function(e){e.length&&(t.empty(),t.append(e))},null,n.ngTransclude||n.ngTranscludeSlot)}}),jo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Fo={$setViewValue:p,$render:p},qo=["$element","$scope",function(e,i){var r=this,o=new Pe;r.ngModelCtrl=Fo,r.unknownOption=zn(t.createElement("option")),r.renderUnknownOption=function(t){t="? "+Le(t)+" ?",r.unknownOption.val(t),e.prepend(r.unknownOption),e.val(t)},i.$on("$destroy",function(){r.renderUnknownOption=p}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),e.val()},r.writeValue=function(t){r.hasOption(t)?(r.removeUnknownOption(),e.val(t),""===t&&r.emptyOption.prop("selected",!0)):null==t&&r.emptyOption?(r.removeUnknownOption(),e.val("")):r.renderUnknownOption(t)},r.addOption=function(e,t){if(8!==t[0].nodeType){ae(e,'"option value"'),""===e&&(r.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1),r.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)}},r.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(r.emptyOption=n)):o.put(e,t-1))},r.hasOption=function(e){return!!o.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){b(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Vo=function(){return{restrict:"E",require:["select","?ngModel"],controller:qo,priority:1,link:{pre:function(e,t,n,i){var r=i[1];if(r){var a=i[0];if(a.ngModelCtrl=r,t.on("change",function(){e.$apply(function(){r.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Pe(e);o(t.find("option"),function(e){e.selected=b(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==r.$viewValue||L(s,r.$viewValue)||(s=O(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},zo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(b(n.value))var i=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var o=t.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(e,t,n,i,r)}}}}],Wo=g({restrict:"E",terminal:!1}),Xo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(x(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp",s,e,z(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||y(a)||a.test(t)}}}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){e=f(e),r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},Ko=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=f(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(ie(),de(ri),ri.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,i){var r=0|e,o=i;return n===o&&(o=Math.min(t(e),3)),Math.pow(10,o),1==r&&0==o?"one":"other"}})}]),zn(t).ready(function(){Q(t,Z)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){function n(e){var t=e.length,n=oe.type(e);return!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function i(e){var t=pe[e]={};return oe.each(e.match(se)||[],function(e,n){t[n]=!0}),t}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=oe.expando+Math.random()}function o(e,n,i){var r;if(i===t&&1===e.nodeType)if(r="data-"+n.replace(ye,"-$1").toLowerCase(),i=e.getAttribute(r),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ve.test(i)?JSON.parse(i):i)}catch(o){}me.set(e,n,i)}else i=t;return i}function a(){return!0}function s(){return!1}function l(){try{return z.activeElement}catch(e){}}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ke.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return te.call(t,e)>=0!==n})}function d(e,t){return oe.nodeName(e,"table")&&oe.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function p(e,t){for(var n=e.length,i=0;n>i;i++)ge.set(e[i],"globalEval",!t||ge.get(t[i],"globalEval"))}function m(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(ge.hasData(e)&&(o=ge.access(e),a=ge.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)oe.event.add(t,r,c[r][n])}me.hasData(e)&&(s=me.access(e),l=oe.extend({},s),me.set(t,l))}}function g(e,n){var i=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&oe.nodeName(e,n)?oe.merge([e],i):i}function v(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Oe.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Ze.length;r--;)if(t=Ze[r]+n,t in e)return t;return i}function b(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)}function C(t){return e.getComputedStyle(t,null)}function w(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ge.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&b(i)&&(o[a]=ge.access(i,"olddisplay",E(i.nodeName)))):o[a]||(r=b(i),(n&&"none"!==n||!r)&&ge.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function x(e,t,n){var i=We.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function $(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(e,n+Qe[o],!0,r)),i?("content"===n&&(a-=oe.css(e,"padding"+Qe[o],!0,r)),"margin"!==n&&(a-=oe.css(e,"border"+Qe[o]+"Width",!0,r))):(a+=oe.css(e,"padding"+Qe[o],!0,r),"padding"!==n&&(a+=oe.css(e,"border"+Qe[o]+"Width",!0,r)));return a}function N(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=C(e),a=oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=Fe(e,t,o),(0>r||null==r)&&(r=e.style[t]),Xe.test(r))return r;i=a&&(oe.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+$(e,t,n||(a?"border":"content"),i,o)+"px"}function E(e){var t=z,n=Ge[e];return n||(n=S(e,t),"none"!==n&&n||(qe=(qe||oe("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(qe[0].contentWindow||qe[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=S(e,t),qe.detach()),Ge[e]=n),n}function S(e,t){var n=oe(t.createElement(e)).appendTo(t.body),i=oe.css(n[0],"display");return n.remove(),i}function T(e,t,n,i){var r;if(oe.isArray(t))oe.each(t,function(t,r){n||tt.test(e)?i(e,r):T(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(r in t)T(e+"["+r+"]",t[r],n,i)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(se)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function U(e,n,i,r){function o(l){var c;return a[l]=!0,oe.each(e[l]||[],function(e,l){var u=l(n,i,r);return"string"!=typeof u||s||a[u]?s?!(c=u):t:(n.dataTypes.unshift(u),o(u),!1)}),c}var a={},s=e===yt;return o(n.dataTypes[0])||!a["*"]&&o("*")}function A(e,n){var i,r,o=oe.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);
return r&&oe.extend(!0,e,r),e}function _(e,n,i){for(var r,o,a,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)a=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==c[0]&&c.unshift(a),i[a]):t}function B(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(){return setTimeout(function(){Tt=t}),Tt=oe.now()}function R(e,t,n){for(var i,r=(It[t]||[]).concat(It["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function D(e,t,n){var i,r,o=0,a=Bt.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Tt||I(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Tt||I(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(O(u,c.opts.specialEasing);a>o;o++)if(i=Bt[o].call(c,e,u,c.opts))return i;return oe.map(u,R,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(e,t){var n,i,r,o,a;for(n in e)if(i=oe.camelCase(n),r=t[i],o=e[n],oe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=oe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function L(e,n,i){var r,o,a,s,l,c,u=this,d={},f=e.style,h=e.nodeType&&b(e),p=ge.get(e,"fxshow");i.queue||(l=oe._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,u.always(function(){u.always(function(){l.unqueued--,oe.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===oe.css(e,"display")&&"none"===oe.css(e,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(r in n)if(o=n[r],Ut.exec(o)){if(delete n[r],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!p||p[r]===t)continue;h=!0}d[r]=p&&p[r]||oe.style(e,r)}if(!oe.isEmptyObject(d)){p?"hidden"in p&&(h=p.hidden):p=ge.access(e,"fxshow",{}),a&&(p.hidden=!h),h?oe(e).show():u.done(function(){oe(e).hide()}),u.done(function(){var t;ge.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(r in d)s=R(h?p[r]:0,r,u),r in p||(p[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function P(e,t,n,i,r){return new P.prototype.init(e,t,n,i,r)}function M(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Qe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function H(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var j,F,q=typeof t,V=e.location,z=e.document,W=z.documentElement,X=e.jQuery,Y=e.$,G={},K=[],J="2.0.2",Q=K.concat,Z=K.push,ee=K.slice,te=K.indexOf,ne=G.toString,ie=G.hasOwnProperty,re=J.trim,oe=function(e,t){return new oe.fn.init(e,t,j)},ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/^-ms-/,de=/-([\da-z])/gi,fe=function(e,t){return t.toUpperCase()},he=function(){z.removeEventListener("DOMContentLoaded",he,!1),e.removeEventListener("load",he,!1),oe.ready()};oe.fn=oe.prototype={jquery:J,constructor:oe,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof oe?n[0]:n,oe.merge(this,oe.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:z,!0)),ce.test(r[1])&&oe.isPlainObject(n))for(r in n)oe.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}return o=z.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},ready:function(e){return oe.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},oe.fn.init.prototype=oe.fn,oe.extend=oe.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||oe.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],r=e[n],s!==r&&(u&&r&&(oe.isPlainObject(r)||(o=oe.isArray(r)))?(o?(o=!1,a=i&&oe.isArray(i)?i:[]):a=i&&oe.isPlainObject(i)?i:{},s[n]=oe.extend(u,a,r)):r!==t&&(s[n]=r));return s},oe.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===oe&&(e.$=Y),t&&e.jQuery===oe&&(e.jQuery=X),oe},isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(F.resolveWith(z,[oe]),oe.fn.trigger&&oe(z).trigger("ready").off("ready")))},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?G[ne.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!ie.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||z;var i=ce.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=oe.buildFragment([e],t,r),r&&oe(r).remove(),oe.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,n=i.parseFromString(e,"text/xml")}catch(r){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=z.createElement("script"),t.text=e,z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ue,"ms-").replace(de,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":re.call(e)},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:te.call(t,e,n)},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return Q.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),oe.isFunction(e)?(r=ee.call(arguments,2),o=function(){return e.apply(n||this,r.concat(ee.call(arguments)))},o.guid=e.guid=e.guid||oe.guid++,o):t},access:function(e,n,i,r,o,a,s){var l=0,c=e.length,u=null==i;if("object"===oe.type(i)){o=!0;for(l in i)oe.access(e,n,l,i[l],!0,a,s)}else if(r!==t&&(o=!0,oe.isFunction(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(oe(e),n)})),n))for(;c>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):a},now:Date.now,swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r}}),oe.ready.promise=function(t){return F||(F=oe.Deferred(),"complete"===z.readyState?setTimeout(oe.ready):(z.addEventListener("DOMContentLoaded",he,!1),e.addEventListener("load",he,!1))),F.promise(t)},oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),j=oe(z),function(e,t){function n(e,t,n,i){var r,o,a,s,l,c,u,d,f,h;if((t?t.ownerDocument||t:V)!==O&&D(t),t=t||O,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(P&&!i){if(r=$e.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return re.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&T.getElementsByClassName&&t.getElementsByClassName)return re.apply(n,t.getElementsByClassName(a)),n}if(T.qsa&&(!M||!M.test(e))){if(d=u=q,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=m(e),(u=t.getAttribute("id"))?d=u.replace(Se,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+g(c[l]);f=ve.test(e)&&t.parentNode||t,h=c.join(",")}if(h)try{return re.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{u||t.removeAttribute("id")}}}return N(e.replace(pe,"$1"),t,n,i)}function i(e){return xe.test(e+"")}function r(){function e(n,i){return t.push(n+=" ")>U.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function o(e){return e[q]=!0,e}function a(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t,n){e=e.split("|");for(var i,r=e.length,o=n?null:t;r--;)(i=U.attrHandle[e[r]])&&i!==t||(U.attrHandle[e[r]]=o)}function l(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}function c(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function u(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:t}function d(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Z)-(~e.sourceIndex||Z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function f(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function h(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function p(e){return o(function(t){return t=+t,o(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function m(e,t){var i,r,o,a,s,l,c,u=Y[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=U.preFilter;s;){(!i||(r=me.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ge.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(pe," ")}),s=s.slice(i.length));for(a in U.filter)!(r=we[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return t?s.length:s?n.error(e):Y(e,l).slice(0)}function g(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function v(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=z+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[q]||(t[q]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===k)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||k,l[1]===!0)return!0}}function y(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function b(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function C(e,t,n,i,r,a){return i&&!i[q]&&(i=C(i)),r&&!r[q]&&(r=C(r,a)),o(function(o,a,s,l){var c,u,d,f=[],h=[],p=a.length,m=o||$(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:b(m,f,e,s,l),v=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,v,s,l),i)for(c=b(v,h),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(o){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?se.call(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else v=b(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):re.apply(a,v)})}function w(e){for(var t,n,i,r=e.length,o=U.relative[e[0].type],a=o||U.relative[" "],s=o?1:0,l=v(function(e){return e===t},a,!0),c=v(function(e){return se.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==I)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=U.relative[e[s].type])u=[v(y(u),n)];else{if(n=U.filter[e[s].type].apply(null,e[s].matches),n[q]){for(i=++s;r>i&&!U.relative[e[i].type];i++);return C(s>1&&y(u),s>1&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(pe,"$1"),n,i>s&&w(e.slice(s,i)),r>i&&w(e=e.slice(i)),r>i&&g(e))}u.push(n)}return y(u)}function x(e,t){var i=0,r=t.length>0,a=e.length>0,s=function(o,s,l,c,u){var d,f,h,p=[],m=0,g="0",v=o&&[],y=null!=u,C=I,w=o||a&&U.find.TAG("*",u&&s.parentNode||s),x=z+=null==C?1:Math.random()||.1;for(y&&(I=s!==O&&s,k=i);null!=(d=w[g]);g++){if(a&&d){for(f=0;h=e[f++];)if(h(d,s,l)){c.push(d);break}y&&(z=x,k=++i)}r&&((d=!h&&d)&&m--,o&&v.push(d))}if(m+=g,r&&g!==m){for(f=0;h=t[f++];)h(v,p,s,l);if(o){if(m>0)for(;g--;)v[g]||p[g]||(p[g]=ne.call(c));p=b(p)}re.apply(c,p),y&&!o&&p.length>0&&m+t.length>1&&n.uniqueSort(c)}return y&&(z=x,I=C),v};return r?o(s):s}function $(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function N(e,t,n,i){var r,o,a,s,l,c=m(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&T.getById&&9===t.nodeType&&P&&U.relative[o[1].type]){if(t=(U.find.ID(a.matches[0].replace(Te,ke),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=we.needsContext.test(e)?0:o.length;r--&&(a=o[r],!U.relative[s=a.type]);)if((l=U.find[s])&&(i=l(a.matches[0].replace(Te,ke),ve.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&g(o),!e)return re.apply(n,i),n;break}}return B(e,c)(i,t,!P,n,ve.test(e)),n}function E(){}var S,T,k,U,A,_,B,I,R,D,O,L,P,M,H,j,F,q="sizzle"+-new Date,V=e.document,z=0,W=0,X=r(),Y=r(),G=r(),K=!1,J=function(){return 0},Q=typeof t,Z=1<<31,ee={}.hasOwnProperty,te=[],ne=te.pop,ie=te.push,re=te.push,ae=te.slice,se=te.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},le="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ce="[\\x20\\t\\r\\n\\f]",ue="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",de=ue.replace("w","w#"),fe="\\["+ce+"*("+ue+")"+ce+"*(?:([*^$|!~]?=)"+ce+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+de+")|)|)"+ce+"*\\]",he=":("+ue+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+fe.replace(3,8)+")*)|.*)\\)|)",pe=RegExp("^"+ce+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ce+"+$","g"),me=RegExp("^"+ce+"*,"+ce+"*"),ge=RegExp("^"+ce+"*([>+~]|"+ce+")"+ce+"*"),ve=RegExp(ce+"*[+~]"),ye=RegExp("="+ce+"*([^\\]'\"]*)"+ce+"*\\]","g"),be=RegExp(he),Ce=RegExp("^"+de+"$"),we={ID:RegExp("^#("+ue+")"),CLASS:RegExp("^\\.("+ue+")"),TAG:RegExp("^("+ue.replace("w","w*")+")"),ATTR:RegExp("^"+fe),PSEUDO:RegExp("^"+he),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ce+"*(even|odd|(([+-]|)(\\d*)n|)"+ce+"*(?:([+-]|)"+ce+"*(\\d+)|))"+ce+"*\\)|)","i"),bool:RegExp("^(?:"+le+")$","i"),needsContext:RegExp("^"+ce+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ce+"*((?:-\\d)?\\d*)"+ce+"*\\)|)(?=[^-]|$)","i")},xe=/^[^{]+\{\s*\[native \w/,$e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ne=/^(?:input|select|textarea|button)$/i,Ee=/^h\d$/i,Se=/'|\\/g,Te=RegExp("\\\\([\\da-f]{1,6}"+ce+"?|("+ce+")|.)","ig"),ke=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{re.apply(te=ae.call(V.childNodes),V.childNodes),te[V.childNodes.length].nodeType}catch(Ue){re={apply:te.length?function(e,t){ie.apply(e,ae.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=n.support={},D=n.setDocument=function(e){var n=e?e.ownerDocument||e:V,r=n.parentWindow;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,L=n.documentElement,P=!_(n),r&&r.frameElement&&r.attachEvent("onbeforeunload",function(){D()}),T.attributes=a(function(e){return e.innerHTML="<a href='#'></a>",s("type|href|height|width",c,"#"===e.firstChild.getAttribute("href")),s(le,l,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),T.input=a(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),s("value",u,T.attributes&&T.input),T.getElementsByTagName=a(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=a(function(e){return L.appendChild(e).id=q,!n.getElementsByName||!n.getElementsByName(q).length}),T.getById?(U.find.ID=function(e,t){if(typeof t.getElementById!==Q&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},U.filter.ID=function(e){var t=e.replace(Te,ke);return function(e){return e.getAttribute("id")===t}}):(delete U.find.ID,U.filter.ID=function(e){var t=e.replace(Te,ke);return function(e){var n=typeof e.getAttributeNode!==Q&&e.getAttributeNode("id");return n&&n.value===t}}),U.find.TAG=T.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==Q?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},U.find.CLASS=T.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==Q&&P?n.getElementsByClassName(e):t},H=[],M=[],(T.qsa=i(n.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+ce+"*(?:value|"+le+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),a(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+ce+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(T.matchesSelector=i(j=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&a(function(e){T.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),H.push("!=",he)}),M=M.length&&RegExp(M.join("|")),H=H.length&&RegExp(H.join("|")),F=i(L.contains)||L.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T.sortDetached=a(function(e){return 1&e.compareDocumentPosition(n.createElement("div"))}),J=L.compareDocumentPosition?function(e,t){if(e===t)return K=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!T.sortDetached&&t.compareDocumentPosition(e)===i?e===n||F(V,e)?-1:t===n||F(V,t)?1:R?se.call(R,e)-se.call(R,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,r=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return K=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:R?se.call(R,e)-se.call(R,t):0;if(o===a)return d(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[r]===l[r];)r++;return r?d(s[r],l[r]):s[r]===V?-1:l[r]===V?1:0},n):O},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&D(e),t=t.replace(ye,"='$1']"),!(!T.matchesSelector||!P||H&&H.test(t)||M&&M.test(t)))try{var i=j.call(e,t);if(i||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,O,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==O&&D(e),F(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==O&&D(e);var i=U.attrHandle[n.toLowerCase()],r=i&&ee.call(U.attrHandle,n.toLowerCase())?i(e,n,!P):t;return r===t?T.attributes||!P?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(K=!T.detectDuplicates,R=!T.sortStable&&e.slice(0),e.sort(J),K){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},A=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=A(t);return n},U=n.selectors={cacheLength:50,createPseudo:o,match:we,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Te,ke),e[3]=(e[4]||e[5]||"").replace(Te,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return we.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&be.test(i)&&(n=m(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Te,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=X[e+" "];return t||(t=RegExp("(^|"+ce+")"+e+"("+ce+"|$)"))&&X(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Q&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(u=g[q]||(g[q]={}),c=u[e]||[],h=c[0]===z&&c[1],f=c[0]===z&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[z,h,f];break}}else if(y&&(c=(t[q]||(t[q]={}))[e])&&c[0]===z)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[q]||(d[q]={}))[e]=[z,f]),d!==t)););return f-=r,f===i||0===f%i&&f/i>=0}}},PSEUDO:function(e,t){var i,r=U.pseudos[e]||U.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[q]?r(t):r.length>1?(i=[e,e,"",t],U.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=se.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=B(e.replace(pe,"$1"));return i[q]?o(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:o(function(e){return Ce.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Te,ke).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!U.pseudos.empty(e)},header:function(e){return Ee.test(e.nodeName)},input:function(e){return Ne.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:p(function(){return[0]}),last:p(function(e,t){return[t-1]}),eq:p(function(e,t,n){return[0>n?n+t:n]}),even:p(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:p(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:p(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:p(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}};for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[S]=f(S);for(S in{submit:!0,reset:!0})U.pseudos[S]=h(S);B=n.compile=function(e,t){var n,i=[],r=[],o=G[e+" "];if(!o){for(t||(t=m(e)),n=t.length;n--;)o=w(t[n]),o[q]?i.push(o):r.push(o);o=G(e,x(r,i))}return o},U.pseudos.nth=U.pseudos.eq,E.prototype=U.filters=U.pseudos,U.setFilters=new E,T.sortStable=q.split("").sort(J).join("")===q,D(),[0,0].sort(J),T.detectDuplicates=K,oe.find=n,oe.expr=n.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=n.uniqueSort,oe.text=n.getText,oe.isXMLDoc=n.isXML,oe.contains=n.contains}(e);var pe={};oe.Callbacks=function(e){e="string"==typeof e?pe[e]||i(e):oe.extend({},e);var n,r,o,a,s,l,c=[],u=!e.once&&[],d=function(t){for(n=e.memory&&t,r=!0,l=a||0,a=0,s=c.length,o=!0;c&&s>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):n?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function i(t){oe.each(t,function(t,n){var r=oe.type(n);"function"===r?e.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),o?s=c.length:n&&(a=t,d(n))}return this},remove:function(){return c&&oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,c,n))>-1;)c.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return e?oe.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||r&&!u||(o?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=o[0],s=oe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},r={};return i.pipe=i.then,oe.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=ee.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ee.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=Array(a),n=Array(a),i=Array(a);a>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),oe.support=function(t){var n=z.createElement("input"),i=z.createDocumentFragment(),r=z.createElement("div"),o=z.createElement("select"),a=o.appendChild(z.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled,n=z.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===r.style.backgroundClip,oe(function(){var n,i,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=z.getElementsByTagName("body")[0];a&&(n=z.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",
oe.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===r.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,i=r.appendChild(z.createElement("div")),i.style.cssText=r.style.cssText=o,i.style.marginRight=i.style.width="0",r.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;r.uid=1,r.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=r.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,oe.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(oe.isEmptyObject(o))oe.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,n){var i=this.cache[this.key(e)];return n===t?i:i[n]},access:function(e,n,i){return n===t||n&&"string"==typeof n&&i===t?this.get(e,n):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,r,o,a=this.key(e),s=this.cache[a];if(n===t)this.cache[a]={};else{oe.isArray(n)?r=n.concat(n.map(oe.camelCase)):(o=oe.camelCase(n),n in s?r=[n,o]:(r=o,r=r in s?[r]:r.match(se)||[])),i=r.length;for(;i--;)delete s[r[i]]}},hasData:function(e){return!oe.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},me=new r,ge=new r,oe.extend({acceptData:r.accepts,hasData:function(e){return me.hasData(e)||ge.hasData(e)},data:function(e,t,n){return me.access(e,t,n)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),oe.fn.extend({data:function(e,n){var i,r,a=this[0],s=0,l=null;if(e===t){if(this.length&&(l=me.get(a),1===a.nodeType&&!ge.get(a,"hasDataAttrs"))){for(i=a.attributes;i.length>s;s++)r=i[s].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),o(a,r,l[r]));ge.set(a,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){me.set(this,e)}):oe.access(this,function(n){var i,r=oe.camelCase(e);if(a&&n===t){if(i=me.get(a,e),i!==t)return i;if(i=me.get(a,r),i!==t)return i;if(i=o(a,r,t),i!==t)return i}else this.each(function(){var i=me.get(this,r);me.set(this,r,n),-1!==e.indexOf("-")&&i!==t&&me.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),oe.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=ge.get(e,n),i&&(!r||oe.isArray(i)?r=ge.access(e,n,oe.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,r=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:oe.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?oe.queue(this[0],e):n===t?this:this.each(function(){var t=oe.queue(this,e,n);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},delay:function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=oe.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=ge.get(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var be,Ce,we=/[\t\r\n\f]/g,xe=/\r/g,$e=/^(?:input|select|textarea|button)$/i;oe.fn.extend({attr:function(e,t){return oe.access(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})},prop:function(e,t){return oe.access(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(se)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(o=0;r=t[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=oe.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(se)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?oe.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=oe(this),s=t,l=e.match(se)||[];r=l[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else(n===q||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];return arguments.length?(r=oe.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=r?e.call(this,i,oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":oe.isArray(o)&&(o=oe.map(o,function(e){return null==e?"":e+""})),n=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=oe.valHooks[o.type]||oe.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(xe,""):null==i?"":i)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(oe.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=oe.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=oe.inArray(oe(i).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===q?oe.prop(e,n,i):(1===a&&oe.isXMLDoc(e)||(n=n.toLowerCase(),r=oe.attrHooks[n]||(oe.expr.match.bool.test(n)?Ce:be)),i===t?r&&"get"in r&&null!==(o=r.get(e,n))?o:(o=oe.find.attr(e,n),null==o?t:o):null!==i?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(oe.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(se);if(o&&1===e.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!oe.support.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!oe.isXMLDoc(e),a&&(n=oe.propFix[n]||n,o=oe.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||$e.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Ce={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,n){var i=oe.expr.attrHandle[n]||oe.find.attr;oe.expr.attrHandle[n]=function(e,n,r){var o=oe.expr.attrHandle[n],a=r?t:(oe.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return oe.expr.attrHandle[n]=o,a}}),oe.support.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,n){return oe.isArray(n)?e.checked=oe.inArray(oe(e).val(),n)>=0:t}},oe.support.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ne=/^key/,Ee=/^(?:mouse|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Te=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,n,i,r,o){var a,s,l,c,u,d,f,h,p,m,g,v=ge.get(e);if(v){for(i.handler&&(a=i,i=a.handler,o=a.selector),i.guid||(i.guid=oe.guid++),(c=v.events)||(c=v.events={}),(s=v.handle)||(s=v.handle=function(e){return typeof oe===q||e&&oe.event.triggered===e.type?t:oe.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=(n||"").match(se)||[""],u=n.length;u--;)l=Te.exec(n[u])||[],p=g=l[1],m=(l[2]||"").split(".").sort(),p&&(f=oe.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=oe.event.special[p]||{},d=oe.extend({type:p,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&oe.expr.match.needsContext.test(o),namespace:m.join(".")},a),(h=c[p])||(h=c[p]=[],h.delegateCount=0,f.setup&&f.setup.call(e,r,m,s)!==!1||e.addEventListener&&e.addEventListener(p,s,!1)),f.add&&(f.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),oe.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(t=(t||"").match(se)||[""],c=t.length;c--;)if(s=Te.exec(t[c])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h){for(d=oe.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||oe.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)oe.event.remove(e,h+t[c],n,i,!0);oe.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,u,d,f,h=[r||z],p=ie.call(n,"type")?n.type:n,m=ie.call(n,"namespace")?n.namespace.split("."):[];if(s=l=r=r||z,3!==r.nodeType&&8!==r.nodeType&&!Se.test(p+oe.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),u=0>p.indexOf(":")&&"on"+p,n=n[oe.expando]?n:new oe.Event(p,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:oe.makeArray(i,[n]),f=oe.event.special[p]||{},o||!f.trigger||f.trigger.apply(r,i)!==!1)){if(!o&&!f.noBubble&&!oe.isWindow(r)){for(c=f.delegateType||p,Se.test(c+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),l=s;l===(r.ownerDocument||z)&&h.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=h[a++])&&!n.isPropagationStopped();)n.type=a>1?c:f.bindType||p,d=(ge.get(s,"events")||{})[n.type]&&ge.get(s,"handle"),d&&d.apply(s,i),d=u&&s[u],d&&oe.acceptData(s)&&d.apply&&d.apply(s,i)===!1&&n.preventDefault();return n.type=p,o||n.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),i)!==!1||!oe.acceptData(r)||u&&oe.isFunction(r[p])&&!oe.isWindow(r)&&(l=r[u],l&&(r[u]=null),oe.event.triggered=p,r[p](),oe.event.triggered=t,l&&(r[u]=l)),n.result}},dispatch:function(e){e=oe.event.fix(e);var n,i,r,o,a,s=[],l=ee.call(arguments),c=(ge.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=oe.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(a=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,r=((oe.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],i=0;l>i;i++)a=n[i],o=a.selector+" ",r[o]===t&&(r[o]=a.needsContext?oe(o,this).index(c)>=0:oe.find(o,this,null,[c]).length),r[o]&&r.push(a);r.length&&s.push({elem:c,handlers:r})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||z,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ee.test(r)?this.mouseHooks:Ne.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?oe.event.trigger(r,null,t):oe.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},oe.Event=function(e,n){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?a:s):this.type=e,n&&oe.extend(this,n),this.timeStamp=e&&e.timeStamp||oe.now(),this[oe.expando]=!0,t):new oe.Event(e,n)},oe.Event.prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!oe.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.support.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){0===n++&&z.addEventListener(e,i,!0)},teardown:function(){0===--n&&z.removeEventListener(e,i,!0)}}}),oe.fn.extend({on:function(e,n,i,r,o){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=s;else if(!r)return this;return 1===o&&(a=r,r=function(e){return oe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=s),this.each(function(){oe.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?oe.event.trigger(e,n,i,!0):t}});var ke=/^.[^:#\[\.,]*$/,Ue=/^(?:parents|prev(?:Until|All))/,Ae=oe.expr.match.needsContext,_e={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;r>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;r>t;t++)oe.find(e,i[t],n);return n=this.pushStack(r>1?oe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(u(this,e||[],!0))},filter:function(e){return this.pushStack(u(this,e||[],!1))},is:function(e){return!!u(this,"string"==typeof e&&Ae.test(e)?oe(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Ae.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(e){return e?"string"==typeof e?te.call(oe(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?oe(e,t):oe.makeArray(e&&e.nodeType?[e]:e),i=oe.merge(this.get(),n);return this.pushStack(oe.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,n){return oe.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,n){return oe.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return oe.dir(e,"previousSibling",n)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var r=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(_e[e]||oe.unique(r),Ue.test(e)&&r.reverse()),this.pushStack(r)}}),oe.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],o=i!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&oe(e).is(i))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Re=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Oe=/^(?:checkbox|radio)$/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Me=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,oe.fn.extend({text:function(e){return oe.access(this,function(e){return e===t?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?oe.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||oe.cleanData(g(n)),n.parentNode&&(t&&oe.contains(n.ownerDocument,n)&&p(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return oe.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!De.test(e)&&!je[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Be,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(oe.cleanData(g(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=oe.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),oe(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=Q.apply([],e);var i,r,o,a,s,l,c=0,u=this.length,d=this,p=u-1,m=e[0],v=oe.isFunction(m);if(v||!(1>=u||"string"!=typeof m||oe.support.checkClone)&&Le.test(m))return this.each(function(i){var r=d.eq(i);v&&(e[0]=m.call(this,i,r.html())),r.domManip(e,t,n)});if(u&&(i=oe.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(o=oe.map(g(i,"script"),f),a=o.length;u>c;c++)s=i,c!==p&&(s=oe.clone(s,!0,!0),a&&oe.merge(o,g(s,"script"))),t.call(this[c],s,c);if(a)for(l=o[o.length-1].ownerDocument,oe.map(o,h),c=0;a>c;c++)s=o[c],Pe.test(s.type||"")&&!ge.access(s,"globalEval")&&oe.contains(l,s)&&(s.src?oe._evalUrl(s.src):oe.globalEval(s.textContent.replace(He,"")))}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=[],r=oe(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(r[a])[t](n),Z.apply(i,n.get());return this.pushStack(i)}}),oe.extend({clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(oe.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=g(s),o=g(e),i=0,r=o.length;r>i;i++)v(o[i],a[i]);if(t)if(n)for(o=o||g(e),a=a||g(s),i=0,r=o.length;r>i;i++)m(o[i],a[i]);else m(e,s);return a=g(s,"script"),a.length>0&&p(a,!l&&g(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=0,d=e.length,f=t.createDocumentFragment(),h=[];d>u;u++)if(r=e[u],r||0===r)if("object"===oe.type(r))oe.merge(h,r.nodeType?[r]:r);else if(Re.test(r)){for(o=o||f.appendChild(t.createElement("div")),a=(Ie.exec(r)||["",""])[1].toLowerCase(),s=je[a]||je._default,o.innerHTML=s[1]+r.replace(Be,"<$1></$2>")+s[2],c=s[0];c--;)o=o.firstChild;oe.merge(h,o.childNodes),o=f.firstChild,o.textContent=""}else h.push(t.createTextNode(r));for(f.textContent="",u=0;r=h[u++];)if((!i||-1===oe.inArray(r,i))&&(l=oe.contains(r.ownerDocument,r),o=g(f.appendChild(r),"script"),l&&p(o),n))for(c=0;r=o[c++];)Pe.test(r.type||"")&&n.push(r);return f},cleanData:function(e){for(var n,i,o,a,s,l,c=oe.event.special,u=0;(i=e[u])!==t;u++){if(r.accepts(i)&&(s=i[ge.expando],s&&(n=ge.cache[s]))){if(o=Object.keys(n.events||{}),o.length)for(l=0;(a=o[l])!==t;l++)c[a]?oe.event.remove(i,a):oe.removeEvent(i,a,n.handle);ge.cache[s]&&delete ge.cache[s]}delete me.cache[i[me.expando]]}},_evalUrl:function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}});var Fe,qe,Ve=/^(none|table(?!-c[ea]).+)/,ze=/^margin/,We=RegExp("^("+ae+")(.*)$","i"),Xe=RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Ye=RegExp("^([+-])=("+ae+")","i"),Ge={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:0,fontWeight:400},Qe=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];oe.fn.extend({css:function(e,n){return oe.access(this,function(e,n,i){var r,o,a={},s=0;if(oe.isArray(n)){for(r=C(e),o=n.length;o>s;s++)a[n[s]]=oe.css(e,n[s],!1,r);return a}return i!==t?oe.style(e,n,i):oe.css(e,n)},e,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:b(this))?oe(this).show():oe(this).hide()})}}),oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=oe.camelCase(n),c=e.style;return n=oe.cssProps[l]||(oe.cssProps[l]=y(c,l)),s=oe.cssHooks[n]||oe.cssHooks[l],i===t?s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n]:(a=typeof i,"string"===a&&(o=Ye.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(oe.css(e,n)),a="number"),null==i||"number"===a&&isNaN(i)||("number"!==a||oe.cssNumber[l]||(i+="px"),oe.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t||(c[n]=i)),t)}},css:function(e,n,i,r){var o,a,s,l=oe.camelCase(n);return n=oe.cssProps[l]||(oe.cssProps[l]=y(e.style,l)),s=oe.cssHooks[n]||oe.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=Fe(e,n,r)),"normal"===o&&n in Je&&(o=Je[n]),""===i||i?(a=parseFloat(o),i===!0||oe.isNumeric(a)?a||0:o):o}}),Fe=function(e,n,i){var r,o,a,s=i||C(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||oe.contains(e.ownerDocument,e)||(l=oe.style(e,n)),Xe.test(l)&&ze.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l},oe.each(["height","width"],function(e,n){oe.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&Ve.test(oe.css(e,"display"))?oe.swap(e,Ke,function(){return N(e,n,r)}):N(e,n,r):t},set:function(e,t,i){var r=i&&C(e);return x(e,t,i?$(e,n,i,oe.support.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r),r):0)}}}),oe(function(){oe.support.reliableMarginRight||(oe.cssHooks.marginRight={get:function(e,n){return n?oe.swap(e,{display:"inline-block"},Fe,[e,"marginRight"]):t}}),!oe.support.pixelPosition&&oe.fn.position&&oe.each(["top","left"],function(e,n){oe.cssHooks[n]={get:function(e,i){return i?(i=Fe(e,n),Xe.test(i)?oe(e).position()[n]+"px":i):t}}})}),oe.expr&&oe.expr.filters&&(oe.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Qe[i]+t]=o[i]||o[i-2]||o[0];return r}},ze.test(e)||(oe.cssHooks[e+t].set=x)});var et=/%20/g,tt=/\[\]$/,nt=/\r?\n/g,it=/^(?:submit|button|image|reset|file)$/i,rt=/^(?:input|select|textarea|keygen)/i;oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&rt.test(this.nodeName)&&!it.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(nt,"\r\n")}}):{name:t.name,value:n.replace(nt,"\r\n")}}).get()}}),oe.param=function(e,n){var i,r=[],o=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){o(this.name,this.value)});else for(i in e)T(i,e[i],n,o);return r.join("&").replace(et,"+")},oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ot,at,st=oe.now(),lt=/\?/,ct=/#.*$/,ut=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ht=/^(?:GET|HEAD)$/,pt=/^\/\//,mt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gt=oe.fn.load,vt={},yt={},bt="*/".concat("*");try{at=V.href}catch(Ct){at=z.createElement("a"),at.href="",at=at.href}ot=mt.exec(at.toLowerCase())||[],oe.fn.load=function(e,n,i){if("string"!=typeof e&&gt)return gt.apply(this,arguments);var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l),e=e.slice(0,l)),oe.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&oe.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e);
}).complete(i&&function(e,t){s.each(i,a||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:at,type:"GET",isLocal:ft.test(ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?A(A(e,oe.ajaxSettings),t):A(oe.ajaxSettings,e)},ajaxPrefilter:k(vt),ajaxTransport:k(yt),ajax:function(e,n){function i(e,n,i,s){var c,d,y,b,w,$=n;2!==C&&(C=2,l&&clearTimeout(l),r=t,a=s||"",x.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(b=_(f,x,i)),b=B(f,b,x,c),c?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(oe.etag[o]=w)),204===e||"HEAD"===f.type?$="nocontent":304===e?$="notmodified":($=b.state,d=b.data,y=b.error,c=!y)):(y=$,(e||!$)&&($="error",0>e&&(e=0))),x.status=e,x.statusText=(n||$)+"",c?m.resolveWith(h,[d,$,x]):m.rejectWith(h,[x,$,y]),x.statusCode(v),v=t,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?d:y]),g.fireWith(h,[x,$]),u&&(p.trigger("ajaxComplete",[x,f]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,u,d,f=oe.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?oe(h):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=f.statusCode||{},y={},b={},C=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!s)for(s={};t=dt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>C)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||at)+"").replace(ct,"").replace(pt,ot[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=oe.trim(f.dataType||"*").toLowerCase().match(se)||[""],null==f.crossDomain&&(c=mt.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]===ot[1]&&c[2]===ot[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(ot[3]||("http:"===ot[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=oe.param(f.data,f.traditional)),U(vt,f,n,x),2===C)return x;u=f.global,u&&0===oe.active++&&oe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ht.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(lt.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=ut.test(o)?o.replace(ut,"$1_="+st++):o+(lt.test(o)?"&":"?")+"_="+st++)),f.ifModified&&(oe.lastModified[o]&&x.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&x.setRequestHeader("If-None-Match",oe.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+bt+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)x.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(h,x,f)===!1||2===C))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](f[d]);if(r=U(yt,f,n,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},f.timeout));try{C=1,r.send(y,i)}catch($){if(!(2>C))throw $;i(-1,$)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,n){return oe.get(e,t,n,"script")}}),oe.each(["get","post"],function(e,n){oe[n]=function(e,i,r,o){return oe.isFunction(i)&&(o=o||r,r=i,i=t),oe.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=oe("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var wt=[],xt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=wt.pop()||oe.expando+"_"+st++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(xt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=oe.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(xt,"$1"+o):n.jsonp!==!1&&(n.url+=(lt.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||oe.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,wt.push(o)),s&&oe.isFunction(a)&&a(s[0]),s=a=t}),"script"):t}),oe.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var $t=oe.ajaxSettings.xhr(),Nt={0:200,1223:204},Et=0,St={};e.ActiveXObject&&oe(e).on("unload",function(){for(var e in St)St[e]();St=t}),oe.support.cors=!!$t&&"withCredentials"in $t,oe.support.ajax=$t=!!$t,oe.ajaxTransport(function(e){var n;return oe.support.cors||$t&&!e.crossDomain?{send:function(i,r){var o,a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)s.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(delete St[a],n=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status||404,s.statusText):r(Nt[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:t,s.getAllResponseHeaders()))}},s.onload=n(),s.onerror=n("error"),n=St[a=Et++]=n("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:t});var Tt,kt,Ut=/^(?:toggle|show|hide)$/,At=RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),_t=/queueHooks$/,Bt=[L],It={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=At.exec(t),o=r&&r[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==o&&+i)&&At.exec(oe.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,oe.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};oe.Animation=oe.extend(D,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],It[n]=It[n]||[],It[n].unshift(t)},prefilter:function(e,t){t?Bt.unshift(e):Bt.push(e)}}),oe.Tween=P,P.prototype={constructor:P,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,r)}}),oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=oe.isEmptyObject(e),o=oe.speed(t,n,i),a=function(){var t=D(this,oe.extend({},e),o);(r||ge.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=oe.timers,a=ge.get(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&_t.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=oe.timers,a=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),oe.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.timers=[],oe.fx=P.prototype.init,oe.fx.tick=function(){var e,n=oe.timers,i=0;for(Tt=oe.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||oe.fx.stop(),Tt=t},oe.fx.timer=function(e){e()&&oe.timers.push(e)&&oe.fx.start()},oe.fx.interval=13,oe.fx.start=function(){kt||(kt=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(kt),kt=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fx.step={},oe.expr&&oe.expr.filters&&(oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length}),oe.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var n,i,r=this[0],o={top:0,left:0},a=r&&r.ownerDocument;return a?(n=a.documentElement,oe.contains(n,r)?(typeof r.getBoundingClientRect!==q&&(o=r.getBoundingClientRect()),i=H(a),{top:o.top+i.pageYOffset-n.clientTop,left:o.left+i.pageXOffset-n.clientLeft}):o):void 0},oe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=oe.css(e,"position"),d=oe(e),f={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},oe.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||W;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||W})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var r="pageYOffset"===i;oe.fn[n]=function(o){return oe.access(this,function(n,o,a){var s=H(n);return a===t?s?s[i]:n[o]:(s?s.scrollTo(r?e.pageXOffset:a,r?a:e.pageYOffset):n[o]=a,t)},n,o,arguments.length,null)}}),oe.each({Height:"height",Width:"width"},function(e,n){oe.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){oe.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return oe.access(this,function(n,i,r){var o;return oe.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?oe.css(n,i,s):oe.style(n,i,r,s)},n,a?r:t,a,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=oe:"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=oe)}(window),function(){function e(e,i){return n(e||self.document.URL||self.location.href,i||t())}function t(){var e=document.getElementsByTagName("script");return e[e.length-1].src}function n(e,t){var n=t;return/^(\/|\\\\)/.test(t)?n=/^.+?\w(\/|\\\\)/.exec(e)[0]+t.replace(/^(\/|\\\\)/,""):/^[a-z]+:/i.test(t)||(e=e.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,""),n=e+""+t),i(n)}function i(e){var t=/^[a-z]+:\/\//.exec(e)[0],n=null,i=[];for(e=e.replace(t,"").split("?")[0].split("#")[0],e=e.replace(/\\/g,"/").split(/\//),e[e.length-1]="";e.length;)".."===(n=e.shift())?i.pop():"."!==n&&i.push(n);return t+i.join("/")}var r=window.UEDITOR_HOME_URL||e(),o=function(){var e=window.document.location.href,t=window.document.location.pathname,n=e.indexOf(t),i=e.substring(0,n);return i};window.UEDITOR_CONFIG={UEDITOR_HOME_URL:r,serverUrl:o()+"/cmsUEditorController/distributionRequest",toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","customstyle","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","emotion","scrawl","insertvideo","music","attachment","map","gmap","insertframe","insertcode","webapp","pagebreak","template","background","|","horizontal","date","time","spechars","snapscreen","wordimage","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","drafts","help"]],xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,whitList:{a:["target","href","title","class","style"],abbr:["title","class","style"],address:["class","style"],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src","class","style"],b:["class","style"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","class","style"],br:[],caption:["class","style"],center:[],cite:[],code:["class","style"],col:["align","valign","span","width","class","style"],colgroup:["align","valign","span","width","class","style"],dd:["class","style"],del:["datetime"],details:["open"],div:["class","style"],dl:["class","style"],dt:["class","style"],em:["class","style"],font:["color","size","face"],footer:[],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],header:[],hr:[],i:["class","style"],img:["src","alt","title","width","height","id","_src","loadingclass","class"],ins:["datetime"],li:["class","style"],mark:[],nav:[],ol:["class","style"],p:["class","style"],pre:["class","style"],s:[],section:[],small:[],span:["class","style"],sub:["class","style"],sup:["class","style"],strong:["class","style"],table:["width","border","align","valign","class","style"],tbody:["align","valign","class","style"],td:["width","rowspan","colspan","align","valign","class","style"],tfoot:["align","valign","class","style"],th:["width","rowspan","colspan","align","valign","class","style"],thead:["align","valign","class","style"],tr:["rowspan","align","valign","class","style"],tt:[],u:[],ul:["class","style"],video:["autoplay","controls","loop","preload","src","height","width","class","style"]}},window.UE={getUEBasePath:e}}(),function(e,t,n){"use strict";function i(e,t,n){if(!e)throw G("areq",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(M(e)&&(e=e.join(" ")),M(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var i="";return e=M(e)?e:e&&H(e)&&e.length?e.split(/\s+/):[],P(e,function(e,r){e&&0<e.length&&(i+=0<r?" ":"",i+=n?t+e:e+t)}),i}function s(e){if(e instanceof L)switch(e.length){case 0:return[];case 1:if(1===e[0].nodeType)return e;break;default:return L(l(e))}if(1===e.nodeType)return L(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function c(e,t,n){P(t,function(t){e.addClass(t,n)})}function u(e,t,n){P(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||R;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=R},e.$$prepared=!0}return e}function h(e,t){p(e,t),m(e,t)}function p(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var i=t.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),o=(i.removeClass||"")+" "+(n.removeClass||"");return e=v(e.attr("class"),r,o),n.preparationClasses&&(i.preparationClasses=$(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==R?i.domOperation:null,O(i,n),r&&(i.domOperation=r),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function v(e,t,n){function i(e){H(e)&&(e=e.split(" "));var t={};return P(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),P(t,function(e,t){r[t]=1}),n=i(n),P(n,function(e,t){r[t]=1===r[t]?null:-1});var o={addClass:"",removeClass:""};return P(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]):-1===t&&(i="removeClass",r=e[n]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function y(e){return e instanceof t.element?e[0]:e}function b(e,t,n){var i="";t&&(i=a(t,"ng-",!0)),n.addClass&&(i=$(i,a(n.addClass,"-add"))),n.removeClass&&(i=$(i,a(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,e.addClass(i))}function C(e,t){var n=t?"-"+t+"s":"";return x(e,[Y,n]),[Y,n]}function w(e,t){var n=t?"paused":"",i=B+"PlayState";return x(e,[i,n]),[i,n]}function x(e,t){e.style[t[0]]=t[1]}function $(e,t){return e?t?e+" "+t:e:t}function N(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return P(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||0<=o)&&(n=E(n)),0===n&&(n=null),i[t]=n}}),i}function E(e){var t=0;return e=e.split(/\s*,\s*/),P(e,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function S(e){return 0===e||null!=e}function T(e,t){var n=A,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function k(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function U(e,t,n){P(n,function(n){e[n]=q(e[n])?e[n]:t.style.getPropertyValue(n)})}var A,_,B,I,R=t.noop,D=t.copy,O=t.extend,L=t.element,P=t.forEach,M=t.isArray,H=t.isString,j=t.isObject,F=t.isUndefined,q=t.isDefined,V=t.isFunction,z=t.isElement;F(e.ontransitionend)&&q(e.onwebkittransitionend)?(A="WebkitTransition",_="webkitTransitionEnd transitionend"):(A="transition",_="transitionend"),F(e.onanimationend)&&q(e.onwebkitanimationend)?(B="WebkitAnimation",I="webkitAnimationEnd animationend"):(B="animation",I="animationend");var W=B+"Delay",X=B+"Duration",Y=A+"Delay";e=A+"Duration";var G=t.$$minErr("ng"),K={transitionDuration:e,transitionDelay:Y,transitionProperty:A+"Property",animationDuration:X,animationDelay:W,animationIterationCount:B+"IterationCount"},J={transitionDuration:e,transitionDelay:Y,animationDuration:X,animationDelay:W};t.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(n,i,r){function o(e){i.data("$$ngAnimateChildren","on"===e||"true"===e)}var a=r.ngAnimateChildren;t.isString(a)&&0===a.length?i.data("$$ngAnimateChildren",!0):(o(e(a)(n)),r.$observe("ngAnimateChildren",o))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(e){function t(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return P(e,function(e){t[e]=!0}),t}function n(e,n){if(e&&n){var i=t(n);return e.split(" ").some(function(e){return i[e]})}}function r(e,t,n,i){return a[e].some(function(e){return e(t,n,i)})}function o(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,n){return!t.structural&&o(t)}),a.skip.push(function(e,t,n){return!t.structural&&!o(t)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&2===n.state&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return 2===n.state&&t.structural}),a.cancel.push(function(e,t,i){if(i.structural)return!1;e=t.addClass,t=t.removeClass;var r=i.addClass;return i=i.removeClass,!(F(e)&&F(t)||F(r)&&F(i))&&(n(e,i)||n(t,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(t,n,a,c,u,p,m,v,C,w){function x(){var e=!1;return function(t){e?t():n.$$postDigest(function(){e=!0,t()})}}function $(e,t,n){var i=y(t),r=y(e),o=[];return(e=R[n])&&P(e,function(e){Y.call(e.node,i)?o.push(e.callback):"leave"===n&&Y.call(e.node,r)&&o.push(e.callback)}),o}function N(e,i,a){function l(n,i,r,o){N(function(){var n=$(v,e,i);n.length&&t(function(){P(n,function(t){t(e,r,o)})})}),n.progress(i,r,o)}function u(t){var n=e,i=C;i.preparationClasses&&(n.removeClass(i.preparationClasses),i.preparationClasses=null),i.activeClasses&&(n.removeClass(i.activeClasses),i.activeClasses=null),X(e,C),h(e,C),C.domOperation(),w.complete(!t)}var d,v,C=D(a);(e=s(e))&&(d=y(e),v=e.parent());var C=f(C),w=new m,N=x();if(M(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!H(C.addClass)&&(C.addClass=null),M(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!H(C.removeClass)&&(C.removeClass=null),C.from&&!j(C.from)&&(C.from=null),C.to&&!j(C.to)&&(C.to=null),!d)return u(),w;if(a=[d.className,C.addClass,C.removeClass].join(" "),!W(a))return u(),w;var T=0<=["enter","move","leave"].indexOf(i),I=!B||c[0].hidden||_.get(d);a=!I&&A.get(d)||{};var R=!!a.state;if(I||R&&1==a.state||(I=!k(e,v,i)),I)return u(),w;if(T&&E(e),I={structural:T,element:e,event:i,addClass:C.addClass,removeClass:C.removeClass,close:u,options:C,runner:w},R){if(r("skip",e,I,a))return 2===a.state?(u(),w):(g(e,a,I),a.runner);if(r("cancel",e,I,a))if(2===a.state)a.runner.end();else{if(!a.structural)return g(e,a,I),a.runner;a.close()}else if(r("join",e,I,a)){if(2!==a.state)return b(e,T?i:null,C),i=I.event=a.event,C=g(e,a,I),a.runner;g(e,I,{})}}else g(e,I,{});if((R=I.structural)||(R="animate"===I.event&&0<Object.keys(I.options.to||{}).length||o(I)),!R)return u(),S(e),w;var O=(a.counter||0)+1;return I.counter=O,U(e,1,I),n.$$postDigest(function(){var t=A.get(d),n=!t,t=t||{},r=0<(e.parent()||[]).length&&("animate"===t.event||t.structural||o(t));n||t.counter!==O||!r?(n&&(X(e,C),h(e,C)),(n||T&&t.event!==i)&&(C.domOperation(),w.end()),r||S(e)):(i=!t.structural&&o(t,!0)?"setClass":t.event,U(e,2),t=p(e,i,t.options),t.done(function(t){u(!t),(t=A.get(d))&&t.counter===O&&S(y(e)),l(w,i,"close",{})}),w.setHost(t),l(w,i,"start",{}))}),w}function E(e){e=y(e).querySelectorAll("[data-ng-animate]"),P(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate")),n=A.get(e);if(n)switch(t){case 2:n.runner.end();case 1:A.remove(e)}})}function S(e){e=y(e),e.removeAttribute("data-ng-animate"),A.remove(e)}function T(e,t){return y(e)===y(t)}function k(e,t,n){n=L(c[0].body);var i,r=T(e,n)||"HTML"===e[0].nodeName,o=T(e,a),s=!1,l=_.get(y(e));for((e=L.data(e[0],"$ngAnimatePin"))&&(t=e),t=y(t);t&&(o||(o=T(t,a)),1===t.nodeType);){if(e=A.get(t)||{},!s){var u=_.get(t);if(!0===u&&!1!==l){l=!0;break}!1===u&&(l=!1),s=e.structural}if((F(i)||!0===i)&&(e=L.data(t,"$$ngAnimateChildren"),q(e)&&(i=e)),s&&!1===i)break;if(r||(r=T(t,n)),r&&o)break;t=o||!(e=L.data(t,"$ngAnimatePin"))?t.parentNode:y(e)}return(!s||i)&&!0!==l&&o&&r}function U(e,t,n){n=n||{},n.state=t,e=y(e),e.setAttribute("data-ng-animate",t),n=(t=A.get(e))?O(t,n):n,A.put(e,n)}var A=new u,_=new u,B=null,I=n.$watch(function(){return 0===v.totalPendingRequests},function(e){e&&(I(),n.$$postDigest(function(){n.$$postDigest(function(){null===B&&(B=!0)})}))}),R={},V=e.classNameFilter(),W=V?function(e){return V.test(e)}:function(){return!0},X=d(C),Y=Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},G={on:function(e,t,n){var i=l(t);R[e]=R[e]||[],R[e].push({node:i,callback:n}),L(t).on("$destroy",function(){G.off(e,t,n)})},off:function(e,t,n){function i(e,t,n){var i=l(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}var r=R[e];r&&(R[e]=1===arguments.length?null:i(r,t,n))},pin:function(e,t){i(z(e),"element","not an element"),i(z(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,N(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!B;else if(z(e)){var i=y(e),r=_.get(i);1===n?t=!r:_.put(i,!t)}else t=B=!!e;return t}};return G}]}]).provider("$$animation",["$animateProvider",function(e){function t(e){return e.data("$$animationRunner")}var n=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,i,o,a,s,l){function c(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;r.put(n,e);for(var a;o;){if(a=r.get(o)){a.processed||(a=t(a));break}o=o.parentNode}return(a||i).children.push(e),e}var n,i={children:[]},r=new s;for(n=0;n<e.length;n++){var o=e[n];r.put(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var r=0,o=[];for(t=0;t<i.length;t++){var a=i[t];0>=e&&(e=r,r=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(e){r++,i.push(e)}),e--}return o.length&&n.push(o),n}(i)}var u=[],p=d(e);return function(s,d,m){function g(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return P(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}function v(e){var t=[],n={};P(e,function(e,i){var r=y(e.element),o=0<=["enter","move"].indexOf(e.event),r=e.structural?g(r):[];if(r.length){var a=o?"to":"from";P(r,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][a]={animationID:i,element:L(e)}})}else t.push(e)});var i={},r={};return P(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var l=e[a.animationID],c=e[s.animationID],u=a.animationID.toString();if(!r[u]){var d=r[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:b(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(c))}r[u].anchors.push({out:a.element,"in":s.element})}else a=a?a.animationID:s.animationID,s=a.toString(),i[s]||(i[s]=!0,t.push(e[a]))}),t}function b(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function C(e){for(var t=n.length-1;0<=t;t--){var i=n[t];if(o.has(i)&&(i=o.get(i)(e)))return i}}function w(e,n){e.from&&e.to?(t(e.from.element).setHost(n),t(e.to.element).setHost(n)):t(e.element).setHost(n)}function x(){var e=t(s);!e||"leave"===d&&m.$$domOperationFired||e.end()}function $(t){s.off("$destroy",x),s.removeData("$$animationRunner"),p(s,m),h(s,m),m.domOperation(),T&&e.removeClass(s,T),s.removeClass("ng-animate"),E.complete(!t)}m=f(m);var N=0<=["enter","move","leave"].indexOf(d),E=new a({end:function(){$()},cancel:function(){$(!0)}});if(!n.length)return $(),E;s.data("$$animationRunner",E);var S=r(s.attr("class"),r(m.addClass,m.removeClass)),T=m.tempClasses;T&&(S+=" "+T,m.tempClasses=null);var k;return N&&(k="ng-"+d+"-prepare",e.addClass(s,k)),u.push({element:s,classes:S,event:d,structural:N,options:m,beforeStart:function(){s.addClass("ng-animate"),T&&e.addClass(s,T),k&&(e.removeClass(s,k),k=null)},close:$}),s.on("$destroy",x),1<u.length?E:(i.$$postDigest(function(){var e=[];P(u,function(n){t(n.element)?e.push(n):n.close()}),u.length=0;var n=v(e),i=[];P(n,function(e){i.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var n,i=e.close;if(t(e.anchors?e.from.element||e.to.element:e.element)){var r=C(e);r&&(n=r.start)}n?(n=n(),n.done(function(e){i(!e)}),w(e,n)):i()}})}),l(c(i))}),E)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=k(),n=k();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,r,s,l,c,u,g){function v(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++O))+"-"+e.getAttribute("class")+"-"+t}function b(r,o,s,l){var c;return 0<t.count(s)&&(c=n.get(s),c||(o=a(o,"-stagger"),i.addClass(r,o),c=N(e,r,l),c.animationDuration=Math.max(c.animationDuration,0),
c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,o),n.put(s,c))),c||{}}function $(e){L.push(e),u.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),i=0;i<L.length;i++)L[i](e);L.length=0})}function E(n,i,r){return i=t.get(r),i||(i=N(e,n,K),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),t.put(r,i),n=i,r=n.animationDelay,i=n.transitionDelay,n.maxDelay=r&&i?Math.max(r,i):r||i,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var k=d(i),O=0,L=[];return function(e,n){function l(){d()}function u(){d(!0)}function d(t){if(!(V||G&&z)){V=!0,z=!1,j.$$skipPreparationClasses||i.removeClass(e,de),i.removeClass(e,he),w(q,!1),C(q,!1),P(re,function(e){q.style[e[0]]=""}),k(e,j),h(e,j),Object.keys(F).length&&P(F,function(e,t){e?q.style.setProperty(t,e):q.style.removeProperty(t)}),j.onDone&&j.onDone(),se&&se.length&&e.off(se.join(" "),L);var n=e.data("$$animateCss");n&&(s.cancel(n[0].timer),e.removeData("$$animateCss")),K&&K.complete(!t)}}function N(e){be.blockTransition&&C(q,e),be.blockKeyframeAnimation&&w(q,!!e)}function O(){return K=new r({end:l,cancel:u}),$(R),d(),{$$willAnimate:!1,start:function(){return K},end:l}}function L(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ie,0)>=ee&&t>=te&&(G=!0,d())}function H(){function t(){if(!V){if(N(!1),P(re,function(e){q.style[e[0]]=e[1]}),k(e,j),i.addClass(e,he),be.recalculateTimingStyles){if(fe=q.className+" "+de,pe=v(q,fe),ve=E(q,fe,pe),ye=ve.maxDelay,Z=Math.max(ye,0),te=ve.maxDuration,0===te)return void d();be.hasTransitions=0<ve.transitionDuration,be.hasAnimations=0<ve.animationDuration}if(be.applyAnimationDelay&&(ye="boolean"!=typeof j.delay&&S(j.delay)?parseFloat(j.delay):ye,Z=Math.max(ye,0),ve.animationDelay=ye,Ce=[W,ye+"s"],re.push(Ce),q.style[Ce[0]]=Ce[1]),ee=1e3*Z,ne=1e3*te,j.easing){var t,r=j.easing;be.hasTransitions&&(t=A+"TimingFunction",re.push([t,r]),q.style[t]=r),be.hasAnimations&&(t=B+"TimingFunction",re.push([t,r]),q.style[t]=r)}ve.transitionDuration&&se.push(_),ve.animationDuration&&se.push(I),ie=Date.now();var o=ee+1.5*ne;t=ie+o;var r=e.data("$$animateCss")||[],a=!0;if(r.length){var l=r[0];(a=t>l.expectedEndTime)?s.cancel(l.timer):r.push(d)}a&&(o=s(n,o,!1),r[0]={timer:o,expectedEndTime:t},r.push(d),e.data("$$animateCss",r)),se.length&&e.on(se.join(" "),L),j.to&&(j.cleanupStyles&&U(F,q,Object.keys(j.to)),m(e,j))}}function n(){var t=e.data("$$animateCss");if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData("$$animateCss")}}if(!V)if(q.parentNode){var r=function(e){if(G)z&&e&&(z=!1,d());else if(z=!e,ve.animationDuration)if(e=w(q,z),z)re.push(e);else{var t=re,n=t.indexOf(e);0<=e&&t.splice(n,1)}},o=0<ge&&(ve.transitionDuration&&0===me.transitionDuration||ve.animationDuration&&0===me.animationDuration)&&Math.max(me.animationDelay,me.transitionDelay);o?s(t,Math.floor(o*ge*1e3),!1):t(),Q.resume=function(){r(!0)},Q.pause=function(){r(!1)}}else d()}var j=n||{};j.$$prepared||(j=f(D(j)));var F={},q=y(e);if(!q||!q.parentNode||!g.enabled())return O();var V,z,G,K,Q,Z,ee,te,ne,ie,re=[],oe=e.attr("class"),ae=o(j),se=[];if(0===j.duration||!c.animations&&!c.transitions)return O();var le=j.event&&M(j.event)?j.event.join(" "):j.event,ce="",ue="";le&&j.structural?ce=a(le,"ng-",!0):le&&(ce=le),j.addClass&&(ue+=a(j.addClass,"-add")),j.removeClass&&(ue.length&&(ue+=" "),ue+=a(j.removeClass,"-remove")),j.applyClassesEarly&&ue.length&&k(e,j);var de=[ce,ue].join(" ").trim(),fe=oe+" "+de,he=a(de,"-active"),oe=ae.to&&0<Object.keys(ae.to).length;if(!(0<(j.keyframeStyle||"").length||oe||de))return O();var pe,me;0<j.stagger?(ae=parseFloat(j.stagger),me={transitionDelay:ae,animationDelay:ae,transitionDuration:0,animationDuration:0}):(pe=v(q,fe),me=b(q,de,pe,J)),j.$$skipPreparationClasses||i.addClass(e,de),j.transitionStyle&&(ae=[A,j.transitionStyle],x(q,ae),re.push(ae)),0<=j.duration&&(ae=0<q.style[A].length,ae=T(j.duration,ae),x(q,ae),re.push(ae)),j.keyframeStyle&&(ae=[B,j.keyframeStyle],x(q,ae),re.push(ae));var ge=me?0<=j.staggerIndex?j.staggerIndex:t.count(pe):0;(le=0===ge)&&!j.skipBlocking&&C(q,9999);var ve=E(q,fe,pe),ye=ve.maxDelay;Z=Math.max(ye,0),te=ve.maxDuration;var be={};if(be.hasTransitions=0<ve.transitionDuration,be.hasAnimations=0<ve.animationDuration,be.hasTransitionAll=be.hasTransitions&&"all"==ve.transitionProperty,be.applyTransitionDuration=oe&&(be.hasTransitions&&!be.hasTransitionAll||be.hasAnimations&&!be.hasTransitions),be.applyAnimationDuration=j.duration&&be.hasAnimations,be.applyTransitionDelay=S(j.delay)&&(be.applyTransitionDuration||be.hasTransitions),be.applyAnimationDelay=S(j.delay)&&be.hasAnimations,be.recalculateTimingStyles=0<ue.length,(be.applyTransitionDuration||be.applyAnimationDuration)&&(te=j.duration?parseFloat(j.duration):te,be.applyTransitionDuration&&(be.hasTransitions=!0,ve.transitionDuration=te,ae=0<q.style[A+"Property"].length,re.push(T(te,ae))),be.applyAnimationDuration&&(be.hasAnimations=!0,ve.animationDuration=te,re.push([X,te+"s"]))),0===te&&!be.recalculateTimingStyles)return O();if(null!=j.delay){var Ce;"boolean"!=typeof j.delay&&(Ce=parseFloat(j.delay),Z=Math.max(Ce,0)),be.applyTransitionDelay&&re.push([Y,Ce+"s"]),be.applyAnimationDelay&&re.push([W,Ce+"s"])}return null==j.duration&&0<ve.transitionDuration&&(be.recalculateTimingStyles=be.recalculateTimingStyles||le),ee=1e3*Z,ne=1e3*te,j.skipBlocking||(be.blockTransition=0<ve.transitionDuration,be.blockKeyframeAnimation=0<ve.animationDuration&&0<me.animationDelay&&0===me.animationDuration),j.from&&(j.cleanupStyles&&U(F,q,Object.keys(j.from)),p(e,j)),be.blockTransition||be.blockKeyframeAnimation?N(te):j.skipBlocking||C(q,!1),{$$willAnimate:!0,end:l,start:function(){if(!V)return Q={end:l,cancel:u,resume:null,pause:null},K=new r(Q),$(H),K}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,i,r,o,a){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return H(e)&&(e=e.split(" ")),H(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function c(t,i,r){function o(e){var t={},n=y(e).getBoundingClientRect();return P(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=h.scrollTop;break;case"left":i+=h.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function a(){var t=s(r.attr("class")||""),n=l(t,d),t=l(d,t),n=e(u,{to:o(r),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+t,delay:!0});return n.$$willAnimate?n:null}function c(){u.remove(),i.removeClass("ng-animate-shim"),r.removeClass("ng-animate-shim")}var u=L(y(i).cloneNode(!0)),d=s(u.attr("class")||"");i.addClass("ng-animate-shim"),r.addClass("ng-animate-shim"),u.addClass("ng-anchor"),p.append(u);var f;if(t=function(){var t=e(u,{addClass:"ng-anchor-out",delay:!0,from:o(i)});return t.$$willAnimate?t:null}(),!t&&(f=a(),!f))return c();var m=t||f;return{start:function(){function e(){i&&i.end()}var t,i=m.start();return i.done(function(){return i=null,!f&&(f=a())?(i=f.start(),i.done(function(){i=null,c(),t.complete()}),i):(c(),void t.complete())}),t=new n({end:e,cancel:e})}}}function u(e,t,i,r){var o=f(e,R),a=f(t,R),s=[];if(P(r,function(e){(e=c(i,e.out,e["in"]))&&s.push(e)}),o||a||0!==s.length)return{start:function(){function e(){P(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),a&&t.push(a.start()),P(s,function(e){t.push(e.start())});var i=new n({end:e,cancel:e});return n.all(t,function(e){i.complete(e)}),i}}}function f(t){var n=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=$(i.event,i.preparationClasses)),t=e(n,i),t.$$willAnimate?t:null}if(!r.animations&&!r.transitions)return R;var h=a[0].body;t=y(i);var p=L(t.parentNode&&11===t.parentNode.nodeType||h.contains(t)?t:h);return d(o),function(e){return e.from&&e.to?u(e.from,e.to,e.classes,e.anchors):f(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=M(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=d(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(e,t,i,r,o){switch(i){case"animate":t=[t,r.from,r.to,o];break;case"setClass":t=[t,g,v,o];break;case"addClass":t=[t,g,o];break;case"removeClass":t=[t,v,o];break;default:t=[t,o]}if(t.push(r),e=e.apply(e,t))if(V(e.start)&&(e=e.start()),e instanceof n)e.done(o);else if(V(e))return e;return R}function c(e,t,i,r,o){var a=[];return P(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,c=function(e){a||(a=!0,(o||R)(e),r.complete(!e))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,e,t,i,function(e){c(!1===e)}),r})}),a}function u(e,t,i,r,o){var a=c(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&P(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){P(t,function(t){e?t.cancel():t.end()})}}}var d=!1;3===arguments.length&&j(i)&&(a=i,i=null),a=f(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var p,m,g=a.addClass,v=a.removeClass,y=r(i);if(y.length){var b,C;"leave"==t?(C="leave",b="afterLeave"):(C="before"+t.charAt(0).toUpperCase()+t.substr(1),b=t),"enter"!==t&&"move"!==t&&(p=u(e,t,a,y,C)),m=u(e,t,a,y,b)}if(p||m){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(d=!0,s(),h(e,a),w=new n,w.complete(!0)),w},start:function(){function t(t){d=!0,s(),h(e,a),w.complete(t)}if(w)return w;w=new n;var i,r=[];return p&&r.push(function(e){i=p(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),m&&r.push(function(e){i=m(e)}),w.setHost({end:function(){d||((i||R)(void 0),t(void 0))},cancel:function(){d||((i||R)(!0),t(!0))}}),n.chain(r,t),w}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),r=n(e.to);return i||r?{start:function(){function e(){return function(){P(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),function(e,t,n){"use strict";function i(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var r=t.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(s,l,c,u){function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function f(e,t){this.template=e,this.defaults=g({},a.defaults,t),this.urlParams={}}function h(e,d,b,C){function w(e,i){var a={};return i=g({},d,i),m(i,function(i,s){y(i)&&(i=i());var l;if(i&&i.charAt&&"@"==i.charAt(0)){l=e;var c=i.substr(1);if(null==c||""===c||"hasOwnProperty"===c||!o.test("."+c))throw r("badmember",c);for(var c=c.split("."),u=0,d=c.length;u<d&&t.isDefined(l);u++){var f=c[u];l=null!==l?l[f]:n}}else l=i;a[s]=l}),a}function x(e){return e.resource}function $(e){i(e||{},this)}var N=new f(e,C);return b=g({},a.defaults.actions,b),$.prototype.toJSON=function(){var e=g({},this);return delete e.$promise,delete e.$resolved,e},m(b,function(e,o){var d=/^(POST|PUT|PATCH)$/i.test(e.method),f=e.timeout,h=t.isDefined(e.cancellable)?e.cancellable:C&&t.isDefined(C.cancellable)?C.cancellable:a.defaults.cancellable;f&&!t.isNumber(f)&&(l.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,f=null),$[o]=function(a,l,b,C){var E,S,T,k={};switch(arguments.length){case 4:T=C,S=b;case 3:case 2:if(!y(l)){k=a,E=l,S=b;break}if(y(a)){S=a,T=l;break}S=l,T=b;case 1:y(a)?S=a:d?E=a:k=a;break;case 0:break;default:throw r("badargs",arguments.length)}var U,A,_=this instanceof $,B=_?E:e.isArray?[]:new $(E),I={},R=e.interceptor&&e.interceptor.response||x,D=e.interceptor&&e.interceptor.responseError||n;return m(e,function(e,t){switch(t){default:I[t]=v(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!_&&h&&(U=c.defer(),I.timeout=U.promise,f&&(A=u(U.resolve,f))),d&&(I.data=E),N.setUrlParams(I,g({},w(E,e.params||{}),k),e.url),k=s(I).then(function(n){var a=n.data;if(a){if(t.isArray(a)!==!!e.isArray)throw r("badcfg",o,e.isArray?"array":"object",t.isArray(a)?"array":"object",I.method,I.url);if(e.isArray)B.length=0,m(a,function(e){"object"==typeof e?B.push(new $(e)):B.push(e)});else{var s=B.$promise;i(a,B),B.$promise=s}}return n.resource=B,n},function(e){return(T||p)(e),c.reject(e)}),k["finally"](function(){B.$resolved=!0,!_&&h&&(B.$cancelRequest=t.noop,u.cancel(A),U=A=I.timeout=null)}),k=k.then(function(e){var t=R(e);return(S||p)(t,e.headers),t},D),_?k:(B.$promise=k,B.$resolved=!1,h&&(B.$cancelRequest=U.resolve),B)},$.prototype["$"+o]=function(e,t,n){return y(e)&&(n=t,t=e,e={}),e=$[o].call(this,e,this,t,n),e.$promise||e}}),$.bind=function(t){return h(e,g({},d,t),b)},$}var p=t.noop,m=t.forEach,g=t.extend,v=t.copy,y=t.isFunction;return f.prototype={setUrlParams:function(n,i,o){var a,s,l=this,c=o||l.template,u="",f=l.urlParams={};m(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw r("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(f[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(c)})}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return u=e,""}),i=i||{},m(l.urlParams,function(e,n){a=i.hasOwnProperty(n)?i[n]:l.defaults[n],t.isDefined(a)&&null!==a?(s=e.isQueryParamValue?d(a,!0):d(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=u+c.replace(/\/\\\./,"/."),m(i,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},h}]})}(window,window.angular),function(e,t,n){"use strict";function i(e){var n=[];return l(n,t.noop).chars(e),n.join("")}function r(e,n){var i,r={},o=e.split(",");for(i=0;i<o.length;i++)r[n?t.lowercase(o[i]):o[i]]=!0;return r}function o(e,t){null===e||e===n?e="":"string"!=typeof e&&(e=""+e),u.innerHTML=e;var i=5;do{if(0===i)throw d("uinput");i--,11>=document.documentMode&&c(u),e=u.innerHTML,u.innerHTML=e}while(e!==u.innerHTML);for(i=u.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),a(i.attributes));break;case 3:t.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1==i.nodeType&&t.end(i.nodeName.toLowerCase()),r=i.nextSibling,!r))for(;null==r&&(i=i.parentNode,i!==u);)r=i.nextSibling,1==i.nodeType&&t.end(i.nodeName.toLowerCase());i=r}for(;i=u.firstChild;)u.removeChild(i)}function a(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function s(e){return e.replace(/&/g,"&amp;").replace(f,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(h,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o){e=t.lowercase(e),!i&&b[e]&&(i=e),i||!0!==C[e]||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),l="img"===e&&"src"===a||"background"===a;!0!==x[a]||!0===w[a]&&!n(i,l)||(r(" "),r(o),r('="'),r(s(i)),r('"'))}),r(">"))},end:function(e){e=t.lowercase(e),i||!0!==C[e]||!0===p[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(s(e))}}}function c(e){if(e.nodeType===Node.ELEMENT_NODE)for(var t=e.attributes,n=0,i=t.length;n<i;n++){var r=t[n],o=r.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||(e.removeAttributeNode(r),n--,i--)}(t=e.firstChild)&&c(t),(t=e.nextSibling)&&c(t)}var u,d=t.$$minErr("$sanitize"),f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/([^\#-~ |!])/g,p=r("area,br,col,hr,img,wbr"),m=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g=r("rp,rt"),v=t.extend({},g,m),m=t.extend({},m,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),g=t.extend({},g,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),y=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),b=r("script,style"),C=t.extend({},p,m,g,v),w=r("background,cite,href,longdesc,src,xlink:href"),v=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),g=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),x=t.extend({},w,g,v);!function(e){if(!e.document||!e.document.implementation)throw d("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?u=t[0]:(t=e.createElement("html"),u=e.createElement("body"),t.appendChild(u),e.appendChild(t))}(e),t.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(C,y),function(e){var t=[];return o(e,l(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isString;return function(s,l,c){function u(e){e&&m.push(i(e))}function d(e,n){var i;if(m.push("<a "),t.isFunction(c)&&(c=c(e)),t.isObject(c))for(i in c)m.push(i+'="'+c[i]+'" ');else c={};!t.isDefined(l)||"target"in c||m.push('target="',l,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),u(n),m.push("</a>")}if(null==s||""===s)return s;if(!a(s))throw o("notstring",s);for(var f,h,p=s,m=[];s=p.match(n);)f=s[0],s[2]||s[4]||(f=(s[3]?"http://":"mailto:")+f),h=s.index,u(p.substr(0,h)),d(f,s[0].replace(r,"")),p=p.substring(h+s[0].length);return u(p),e(m.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return P(new(P(function(){},{prototype:e})),t)}function r(e){return L(arguments,function(t){t!==e&&L(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=o(n,i),c={},u=[];for(var d in l)if(l[d].params&&(r=a(l[d].params),r.length))for(var f in r)s(u,r[f])>=0||(u.push(r[f]),c[r[f]]=e[r[f]]);return P({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function u(e,t){var n={};return L(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function f(e,t){var n=O(e),i=n?[]:{};return L(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function h(e,t){var n=O(e)?[]:{};return L(e,function(e,i){n[i]=t(e,i)}),n}function p(e,t){var i=1,o=2,l={},c=[],u=l,f=P(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(e,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,R(e))g.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);L(r,function(e){e!==n&&l.hasOwnProperty(e)&&h(l[e],e)}),g.push(n,e,r)}v.pop(),y[n]=o}}function p(e){return D(e)&&e.then&&e.$$promises}if(!D(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],y={};return L(l,h),l=v=y=null,function(i,o,a){function s(){--C||(w||r(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,h.resolve(b))}function l(e){v.$$failure=e,h.reject(e)}function c(n,r,o){function c(e){d.reject(e),l(e)}function u(){if(!B(v.$$failure))try{d.resolve(t.invoke(r,a,b)),d.promise.then(function(e){b[n]=e,s()},c)}catch(e){c(e)}}var d=e.defer(),f=0;L(o,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(f++,y[e].then(function(t){b[e]=t,--f||u()},c))}),f||u(),y[n]=d.promise}if(p(i)&&a===n&&(a=o,o=i,i=null),i){if(!D(i))throw new Error("'locals' must be an object")}else i=u;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var h=e.defer(),v=h.promise,y=v.$$promises={},b=P({},i),C=1+g.length/3,w=!1;if(B(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&r(b,d(o.$$inheritedValues,m)),P(y,o.$$promises),o.$$values?(w=r(b,d(o.$$values,m)),v.$$inheritedValues=d(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,m)),o.then(s,l));for(var x=0,$=g.length;$>x;x+=3)i.hasOwnProperty(g[x])?s():c(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function m(e,t,n){this.fromConfig=function(e,t,n){return B(e.template)?this.fromString(e.template,t):B(e.templateUrl)?this.fromUrl(e.templateUrl,t):B(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return I(e)?e(t):e},this.fromUrl=function(n,i){return I(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function g(e,t,r){function o(t,n,i,r){if(g.push(t),p[t])return p[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new H.Param(t,n,i,r),m[t]}function a(e,t,n){var i=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(n){case!1:i=["(",")"];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return r+i[0]+t+i[1]}function s(n,r){var o,a,s,l,c;return o=n[2]||n[3],c=t.params[o],s=e.substring(f,n.index),a=r?n[4]:n[4]||("*"==n[1]?".*":null),l=H.type(a||"string")||i(H.type("string"),{pattern:new RegExp(a)}),{id:o,regexp:a,segment:s,type:l,cfg:c}}t=P({params:{}},D(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",f=0,h=this.segments=[],p=r?r.params:{},m=this.params=r?r.params.$$new():new H.ParamSet,g=[];this.source=e;for(var v,y,b;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,y.type.pattern.source,y.squash),h.push(v.segment),f=c.lastIndex;b=e.substring(f);var C=b.indexOf("?");if(C>=0){var w=this.sourceSearch=b.substring(C);if(b=b.substring(0,C),this.sourcePath=e.substring(0,f+C),w.length>0)for(f=0;l=u.exec(w);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),f=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(b)+(t.strict===!1?"/?":"")+"$",h.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=g}function v(e){P(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function r(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(e){return this.pattern.test(e)}function l(){return{strict:b,caseInsensitive:m}}function c(e){return I(e)||O(e)&&I(e[e.length-1])}function u(){for(;$.length;){var e=$.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],p.invoke(e.def))}}function d(e){P(this,e||{})}H=this;var p,m=!1,b=!0,C=!1,w={},x=!0,$=[],N={string:{encode:e,decode:r,is:o,pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return B(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!c(e.value))return e.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(e.value)},this.caseInsensitive=function(e){return B(e)&&(m=e),m},this.strictMode=function(e){return B(e)&&(b=e),b},this.defaultSquashPolicy=function(e){if(!B(e))return C;if(e!==!0&&e!==!1&&!R(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return C=e,e},this.compile=function(e,t){return new g(e,P(l(),t))},this.isMatcher=function(e){if(!D(e))return!1;var t=!0;return L(g.prototype,function(n,i){I(n)&&(t=t&&B(e[i])&&I(e[i]))}),t},this.type=function(e,t,n){if(!B(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new v(P({name:e},t)),n&&($.push({name:e,def:n}),x||u()),this},L(N,function(e,t){w[t]=new v(P({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return p=e,x=!1,u(),L(N,function(e,t){w[t]||(w[t]=new v(e))}),this}],this.Param=function(e,t,i,r){function o(e){var t=D(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=c(e.value)?e.value:function(){return e.value},e}function l(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===i?w.any:w.string}function u(){var t={array:"search"===r&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return P(t,n,i).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!B(n)||null==n)return C;if(n===!0||R(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,i,r){var o,a,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=O(e.replace)?e.replace:[],R(r)&&o.push({from:r,to:n}),a=h(o,function(e){return e.from}),f(l,function(e){return-1===s(a,e.from)}).concat(o)}function g(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(i.$$fn)}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(f(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),B(e)?x.type.decode(e):g()}function b(){return"{Param:"+e+" "+t+" squash: '"+E+"' optional: "+N+"}"}var x=this;i=o(i),t=l(i,t,r);var $=u();t=$?t.$asArray($,"search"===r):t,"string"!==t.name||$||"path"!==r||i.value!==n||(i.value="");var N=i.value!==n,E=d(i,N),S=m(i,$,N,E);P(this,{id:e,type:t,location:r,array:$,squash:E,replace:S,isOptional:N,value:y,dynamic:n,config:i,toString:b})},d.prototype={$$new:function(){return i(this,P(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),L(t,function(t){L(a(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return L(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return L(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var t,n,i,r=!0,o=this;return L(this.$$keys(),function(a){i=o[a],n=e[a],t=!n&&i.isOptional,r=r&&(t||!!i.type.is(n))}),r},$$parent:n},this.ParamSet=d}function b(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!B(i)||i}function s(i,r,o,a){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function f(e){function t(e){var t=e(o,i);return!!t&&(R(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){var r=p&&i.url()===p;if(p=n,r)return!0;var a,s=c.length;for(a=0;s>a;a++)if(t(c[a]))return;u&&t(u)}}function h(){return l=l||r.$on("$locationChangeSuccess",f)}var p,m=a.baseHref(),g=i.url();return d||h(),{sync:function(){f()},listen:function(){return h()},update:function(e){return e?void(g=i.url()):void(i.url()!==g&&(i.url(g),i.replace()))},push:function(e,t,r){i.url(e.format(t||{})),p=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;
var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var l=n.format(r);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),l=s(l,a,o.absolute),!o.absolute||!l)return l;var c=!a&&l?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!I(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(R(e)){var t=e;e=function(){return t}}else if(!I(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=R(t);if(R(e)&&(e=i.compile(e)),!s&&!I(t)&&!O(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),P(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:R(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),P(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function C(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var i=R(e),r=i?e:e.name,a=o(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=d(t);for(var s=r.split("."),l=0,c=s.length,u=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),r=u.name+(u.name&&s?".":"")+s}var f=N[r];return!f||!i&&(i||f!==e&&f.self!==e)?n:f}function f(e,t){E[e]||(E[e]=[]),E[e].push(t)}function p(e){for(var t=E[e]||[];t.length;)m(t.shift())}function m(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!R(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(N.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):R(t.parent)?t.parent:D(t.parent)&&R(t.parent.name)?t.parent.name:"";if(r&&!N[r])return f(r,t.self);for(var o in T)I(T[o])&&(t[o]=T[o](t,T.$delegates[o]));return N[n]=t,!t[S]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){$.$current.navigable==t&&c(e,n)||$.transitionTo(t,e,{inherit:!0,location:!1})}]),p(n),t}function g(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=$.$current.name.split(".");if("**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return n.join("")===t.join("")}function y(e,t){return R(e)&&!B(t)?T[e]:I(t)&&R(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function b(e,t){return D(e)?t=e:t.name=e,m(t),this}function C(e,r,o,s,f,p,m){function y(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return m.update(),T;if(!a.retry)return null;if(o.$retry)return m.update(),k;var s=$.transition=r.when(a.retry);return s.then(function(){return s!==$.transition?C:(t.options.$retry=!0,$.transitionTo(t.to,t.toParams,t.options))},function(){return T}),m.update(),s}function b(e,n,i,a,l,c){var d=i?n:u(e.params.$$keys(),n),h={$stateParams:d};l.resolve=f.resolve(e.resolve,h,l.resolve,e);var p=[l.resolve.then(function(e){l.globals=e})];return a&&p.push(a),L(e.views,function(n,i){var r=n.resolve&&n.resolve!==e.resolve?n.resolve:{};r.$template=[function(){return o.load(i,{view:n,locals:h,params:d,notify:c.notify})||""}],p.push(f.resolve(r,h,l.resolve,e).then(function(o){if(I(n.controllerProvider)||O(n.controllerProvider)){var a=t.extend({},r,h);o.$$controller=s.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,l[i]=o}))}),r.all(p).then(function(){return l})}var C=r.reject(new Error("transition superseded")),E=r.reject(new Error("transition prevented")),T=r.reject(new Error("transition aborted")),k=r.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:x.self,$current:x,transition:null},$.reload=function(){return $.transitionTo($.current,p,{reload:!0,inherit:!1,notify:!0})},$.go=function(e,t,n){return $.transitionTo(e,t,P({inherit:!0,relative:$.$current},n))},$.transitionTo=function(t,n,o){n=n||{},o=P({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,c=$.$current,f=$.params,h=c.path,g=d(t,o.relative);if(!B(g)){var v={to:t,toParams:n,options:o},N=y(v,c.self,f,o);if(N)return N;if(t=v.to,n=v.toParams,o=v.options,g=d(t,o.relative),!B(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[S])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(p,n||{},$.$current,g)),!g.params.$$validates(n))return k;n=g.params.$$values(n),t=g;var T=t.path,U=0,A=T[U],_=x.locals,I=[];if(!o.reload)for(;A&&A===h[U]&&A.ownParams.$$equals(n,f);)_=I[U]=A.locals,U++,A=T[U];if(w(t,c,_,o))return t.self.reloadOnSearch!==!1&&m.update(),$.transition=null,r.when($.current);if(n=u(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,f).defaultPrevented)return m.update(),E;for(var R=r.when(_),D=U;D<T.length;D++,A=T[D])_=I[D]=i(_),R=b(A,n,A===t,R,_,o);var O=$.transition=R.then(function(){var i,r,a;if($.transition!==O)return C;for(i=h.length-1;i>=U;i--)a=h[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=U;i<T.length;i++)r=T[i],r.locals=I[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return $.transition!==O?C:($.$current=t,$.current=t.self,$.params=n,M($.params,p),$.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,f),m.update(!0),$.current)},function(i){return $.transition!==O?C:($.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,c.self,f,i),a.defaultPrevented||m.update(),r.reject(i))});return O},$.is=function(e,t,i){i=P({relative:$.$current},i||{});var r=d(e,i.relative);return B(r)?$.$current===r&&(!t||c(r.params.$$values(t),p)):n},$.includes=function(e,t,i){if(i=P({relative:$.$current},i||{}),R(e)&&g(e)){if(!v(e))return!1;e=$.$current.name}var r=d(e,i.relative);return B(r)?!!B($.$current.includes[r.name])&&(!t||c(r.params.$$values(t),p,a(t))):n},$.href=function(e,t,i){i=P({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},i||{});var r=d(e,i.relative);if(!B(r))return null;i.inherit&&(t=l(p,t||{},$.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?m.href(o.url,u(r.params.$$keys(),t||{}),{absolute:i.absolute}):null},$.get=function(e,t){if(0===arguments.length)return h(a(N),function(e){return N[e].self});var n=d(e,t||$.$current);return n&&n.self?n.self:null},$}function w(e,t,n,i){return e===t&&(n===t.locals&&!i.reload||e.self.reloadOnSearch===!1)||void 0}var x,$,N={},E={},S="abstract",T={parent:function(e){if(B(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):x},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=P({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(R(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||x).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new H.ParamSet;return L(e.params||{},function(e,n){t[n]||(t[n]=new H.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?P(e.parent.params.$$new(),e.ownParams):new H.ParamSet},views:function(e){var t={};return L(B(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?P({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};x=m({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=y,this.state=b,this.$get=C,C.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function e(e,t){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=P(o,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function x(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function $(e,n,i,r){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var i=c.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var s=o(),l=s("$animator"),c=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function c(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(v.leave(f,function(){d=null}),d=f,f=null)}function u(a){var u,d=E(n,l,o,r),y=d&&e.$current&&e.$current.locals[d];if(a||y!==p){u=n.$new(),p=e.$current.locals[d];var b=s(u,function(e){v.enter(e,o,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&i(e)}),c()});f=b,h=u,h.$emit("$viewContentLoaded"),h.$eval(m)}}var d,f,h,p,m=l.onload||"",g=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function N(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var l=n.$current,c=E(r,s,a,i),u=l&&l.locals[c];if(u){a.data("$uiView",{name:c,state:u.$$state}),a.html(u.$template?u.$template:o);var d=e(a.contents());if(u.$$controller){u.$scope=r;var f=t(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=f),a.data("$ngControllerController",f),a.children().data("$ngControllerController",f)}d(r)}}}}}function E(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function S(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function k(e,n){var i=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,s){var l=S(a.uiSref,e.current.name),c=null,u=T(o)||e.$current,d=null,f="A"===o.prop("tagName"),h="FORM"===o[0].nodeName,p=h?"action":"href",m=!0,g={relative:u,inherit:!0},v=r.$eval(a.uiSrefOpts)||{};t.forEach(i,function(e){e in v&&(g[e]=v[e])});var y=function(n){if(n&&(c=t.copy(n)),m){d=e.href(l.state,c,g);var i=s[1]||s[0];return i&&i.$$setStateInfo(l.state,c),null===d?(m=!1,!1):void a.$set(p,d)}};l.paramExpr&&(r.$watch(l.paramExpr,function(e){e!==c&&y(e)},!0),c=t.copy(r.$eval(l.paramExpr))),y(),h||o.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var r=n(function(){e.go(l.state,c,g)});t.preventDefault();var a=f&&!d?1:0;t.preventDefault=function(){a--<=0&&n.cancel(r)}}})}}}function U(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,r){function o(){a()?i.addClass(c):i.removeClass(c)}function a(){return"undefined"!=typeof r.uiSrefActiveEq?s&&e.is(s.name,l):s&&e.includes(s.name,l)}var s,l,c;c=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){s=e.get(t,T(i)),l=n,o()},t.$on("$stateChangeSuccess",o)}]}}function A(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function _(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var B=t.isDefined,I=t.isFunction,R=t.isString,D=t.isObject,O=t.isArray,L=t.forEach,P=t.extend,M=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",p),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var H;g.prototype.concat=function(e,t){var n={caseInsensitive:H.caseInsensitive(),strict:H.strictMode(),squash:H.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,P(n,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var i=t(e).split(/-(?!\\)/),r=h(i,t);return h(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,a,s=this.parameters(),l=s.length,c=this.segments.length-1,u={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;c>r;r++){a=s[r];var d=this.params[a],f=i[r+1];for(o=0;o<d.replace;o++)d.replace[o].from===f&&(f=d.replace[o].to);f&&d.array===!0&&(f=n(f)),u[a]=d.value(f)}for(;l>r;r++)a=s[r],u[a]=this.params[a].value(t[a]);return u},g.prototype.parameters=function(e){return B(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=i.length,c=n[0];for(o=0;l>o;o++){var u=s>o,d=i[o],f=r[d],p=f.value(e[d]),m=f.isOptional&&f.type.equals(f.value(),p),g=!!m&&f.squash,v=f.type.encode(p);if(u){var y=n[o+1];if(g===!1)null!=v&&(c+=O(v)?h(v,t).join("-"):encodeURIComponent(v)),c+=y;else if(g===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(b)[1]}else R(g)&&(c+=g+y)}else{if(null==v||m&&g!==!1)continue;O(v)||(v=[v]),v=h(v,encodeURIComponent).join("&"+d+"="),c+=(a?"&":"?")+(d+"="+v),a=!0}}return c},v.prototype.is=function(){return!0},v.prototype.encode=function(e){return e},v.prototype.decode=function(e){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return O(e)?e:B(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=r(n);var i=h(n,e);return t===!0?0===f(i,a).length:o(i)}}function l(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),C.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",C),w.$inject=[],t.module("ui.router.state").provider("$view",w),t.module("ui.router.state").provider("$uiViewScroll",x),$.$inject=["$state","$injector","$uiViewScroll","$interpolate"],N.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",$),t.module("ui.router.state").directive("uiView",N),k.$inject=["$state","$timeout"],U.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",U).directive("uiSrefActiveEq",U),A.$inject=["$state"],_.$inject=["$state"],t.module("ui.router.state").filter("isState",A).filter("includedByState",_)}(window,window.angular),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var r="prev"==e?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=t(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=t(r),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=t(i),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](i):a.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),
this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,f=o[0].offsetHeight;if(c){var h=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+f>p.bottom?"top":"top"==s&&u.top-f<p.top?"bottom":"right"==s&&u.right+d>p.width?"left":"left"==s&&u.left-d<p.left?"right":s,o.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,u,d,f);this.applyPlacement(m,s);var g=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),f=d?2*u.left-r+l:2*u.top-o+c,h=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(f,i[0][h],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=i.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(e-i>=r+a)&&"bottom";var s=null==this.affixed,l=s?r:o.top,c=s?a:t;return null!=n&&n>=r?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),!function(){function getListener(e,t,n){var i;return t=t.toLowerCase(),(i=e.__allListeners||n&&(e.__allListeners={}))&&(i[t]||n&&(i[t]=[]))}function getDomNode(e,t,n,i,r,o){var a,s=i&&e[t];for(!s&&(s=e[n]);!s&&(a=(a||e).parentNode);){if("BODY"==a.tagName||o&&!o(a))return null;s=a[n]}return s&&r&&!r(s)?getDomNode(s,t,n,!1,r):s}UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu,window.UE=baidu.editor=window.UE||{},UE.plugins={},UE.commands={},UE.instants={},UE.I18N={},UE._customizeUI={},UE.version="1.4.3";var dom=UE.dom={},browser=UE.browser=function(){var e=navigator.userAgent.toLowerCase(),t=window.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(e),opera:!!t&&t.version,webkit:e.indexOf(" applewebkit/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.opera&&!n.ie;var i=0;if(n.ie){var r=e.match(/(?:msie\s([\w.]+))/),o=e.match(/(?:trident.*rv:([\w.]+))/);i=r&&o&&r[1]&&o[1]?Math.max(1*r[1],1*o[1]):r&&r[1]?1*r[1]:o&&o[1]?1*o[1]:0,n.ie11Compat=11==document.documentMode,n.ie9Compat=9==document.documentMode,n.ie8=!!document.documentMode,n.ie8Compat=8==document.documentMode,n.ie7Compat=7==i&&!document.documentMode||7==document.documentMode,n.ie6Compat=7>i||n.quirks,n.ie9above=i>8,n.ie9below=9>i,n.ie11above=i>10,n.ie11below=11>i}if(n.gecko){var a=e.match(/rv:([\d\.]+)/);a&&(a=a[1].split("."),i=1e4*a[0]+100*(a[1]||0)+1*(a[2]||0))}return/chrome\/(\d+\.\d)/i.test(e)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(i=parseFloat(t.version())),n.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!n.mobile&&(n.ie&&i>=6||n.gecko&&i>=10801||n.opera&&i>=9.5||n.air&&i>=1||n.webkit&&i>=522||!1),n}(),ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera,utils=UE.utils={each:function(e,t,n){if(null!=e)if(e.length===+e.length){for(var i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e)===!1)return!1}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(n,e[o],o,e)===!1)return!1},makeInstance:function(e){var t=new Function;return t.prototype=e,e=new t,t.prototype=null,e},extend:function(e,t,n){if(t)for(var i in t)n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e},extend2:function(e){for(var t=arguments,n=1;n<t.length;n++){var i=t[n];for(var r in i)e.hasOwnProperty(r)||(e[r]=i[r])}return e},inherits:function(e,t){var n=e.prototype,i=utils.makeInstance(t.prototype);return utils.extend(i,n,!0),e.prototype=i,i.constructor=e},bind:function(e,t){return function(){return e.apply(t,arguments)}},defer:function(e,t,n){var i;return function(){n&&clearTimeout(i),i=setTimeout(e,t)}},indexOf:function(e,t,n){var i=-1;return n=this.isNumber(n)?n:0,this.each(e,function(e,r){return r>=n&&e===t?(i=r,!1):void 0}),i},removeItem:function(e,t){for(var n=0,i=e.length;i>n;n++)e[n]===t&&(e.splice(n,1),n--)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(e){if(!e)return{};e=utils.isArray(e)?e:e.split(",");for(var t,n=0,i={};t=e[n++];)i[t.toUpperCase()]=i[t]=1;return i},unhtml:function(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},unhtmlForUrl:function(e,t){return e?e.replace(t||/[<">']/g,function(e){return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""},html:function(e){return e?e.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(e){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'","&nbsp;":" "}[e]}):""},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t={"float":void 0!=e.cssFloat?"cssFloat":void 0!=e.styleFloat?"styleFloat":"float"};return function(e){return t[e]||(t[e]=e.toLowerCase().replace(/-./g,function(e){return e.charAt(1).toUpperCase()}))}}(),loadFile:function(){function e(e,n){try{for(var i,r=0;i=t[r++];)if(i.doc===e&&i.url==(n.src||n.href))return i}catch(o){return null}}var t=[];return function(n,i,r){var o=e(n,i);if(o)return void(o.ready?r&&r():o.funs.push(r));if(t.push({doc:n,url:i.src||i.href,funs:[r]}),!n.body){var a=[];for(var s in i)"tag"!=s&&a.push(s+'="'+i[s]+'"');return void n.write("<"+i.tag+" "+a.join(" ")+" ></"+i.tag+">")}if(!i.id||!n.getElementById(i.id)){var l=n.createElement(i.tag);delete i.tag;for(var s in i)l.setAttribute(s,i[s]);l.onload=l.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(o=e(n,i),o.funs.length>0){o.ready=1;for(var t;t=o.funs.pop();)t()}l.onload=l.onreadystatechange=null}},l.onerror=function(){throw Error("The load "+(i.href||i.src)+" fails,check the url settings of file ueditor.config.js ")},n.getElementsByTagName("head")[0].appendChild(l)}}}(),isEmptyObject:function(e){if(null==e)return!0;if(this.isArray(e)||this.isString(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},fixColor:function(e,t){if(/color/i.test(e)&&/rgba?/.test(t)){var n=t.split(",");if(n.length>3)return"";t="#";for(var i,r=0;i=n[r++];)i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16),t+=1==i.length?"0"+i:i;t=t.toUpperCase()}return t},optCss:function(e){function t(e,t){if(!e)return"";var n=e.top,i=e.bottom,r=e.left,o=e.right,a="";if(n&&r&&i&&o)a+=";"+t+":"+(n==i&&i==r&&r==o?n:n==i&&r==o?n+" "+r:r==o?n+" "+r+" "+i:n+" "+o+" "+i+" "+r)+";";else for(var s in e)a+=";"+t+"-"+s+":"+e[s]+";";return a}var n,i;return e=e.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(e,t,r,o){if(1==o.split(" ").length)switch(t){case"padding":return!n&&(n={}),n[r]=o,"";case"margin":return!i&&(i={}),i[r]=o,"";case"border":return"initial"==o?"":e}return e}),e+=t(n,"padding")+t(i,"margin"),e.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/(&((l|g)t|quot|#39))?;{2,}/g,function(e,t){return t?t+";;":";"})},clone:function(e,t){var n;t=t||{};for(var i in e)e.hasOwnProperty(i)&&(n=e[i],"object"==typeof n?(t[i]=utils.isArray(n)?[]:{},utils.clone(e[i],t[i])):t[i]=n);return t},transUnitToPx:function(e){if(!/(pt|cm)/.test(e))return e;var t;switch(e.replace(/([\d.]+)(\w+)/,function(n,i,r){e=i,t=r}),t){case"cm":e=25*parseFloat(e);break;case"pt":e=Math.round(96*parseFloat(e)/72)}return e+(e?"px":"")},domReady:function(){function e(e){e.isReady=!0;for(var n;n=t.pop();n());}var t=[];return function(n,i){i=i||window;var r=i.document;n&&t.push(n),"complete"===r.readyState?e(r):(r.isReady&&e(r),browser.ie&&11!=browser.version?(!function(){if(!r.isReady){try{r.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e(r)}}(),i.attachEvent("onload",function(){e(r)})):(r.addEventListener("DOMContentLoaded",function(){r.removeEventListener("DOMContentLoaded",arguments.callee,!1),e(r)},!1),i.addEventListener("load",function(){e(r)},!1)))}}(),cssRule:browser.ie&&11!=browser.version?function(e,t,n){var i,r;if(void 0===t||t&&t.nodeType&&9==t.nodeType){if(n=t&&t.nodeType&&9==t.nodeType?t:n||document,i=n.indexList||(n.indexList={}),r=i[e],void 0!==r)return n.styleSheets[r].cssText}else{if(n=n||document,i=n.indexList||(n.indexList={}),r=i[e],""===t)return void 0!==r&&(n.styleSheets[r].cssText="",delete i[e],!0);void 0!==r?sheetStyle=n.styleSheets[r]:(sheetStyle=n.createStyleSheet("",r=n.styleSheets.length),i[e]=r),sheetStyle.cssText=t}}:function(e,t,n){var i;return void 0===t||t&&t.nodeType&&9==t.nodeType?(n=t&&t.nodeType&&9==t.nodeType?t:n||document,i=n.getElementById(e),i?i.innerHTML:void 0):(n=n||document,i=n.getElementById(e),""===t?!!i&&(i.parentNode.removeChild(i),!0):void(i?i.innerHTML=t:(i=n.createElement("style"),i.id=e,i.innerHTML=t,n.getElementsByTagName("head")[0].appendChild(i))))},sort:function(e,t){t=t||function(e,t){return e.localeCompare(t)};for(var n=0,i=e.length;i>n;n++)for(var r=n,o=e.length;o>r;r++)if(t(e[n],e[r])>0){var a=e[n];e[n]=e[r],e[r]=a}return e},serializeParam:function(e){var t=[];for(var n in e)if("method"!=n&&"timeout"!=n&&"async"!=n)if("function"!=(typeof e[n]).toLowerCase()&&"object"!=(typeof e[n]).toLowerCase())t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));else if(utils.isArray(e[n]))for(var i=0;i<e[n].length;i++)t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e[n][i]));return t.join("&")},formatUrl:function(e){var t=e.replace(/&&/g,"&");return t=t.replace(/\?&/g,"?"),t=t.replace(/&$/g,""),t=t.replace(/&#/g,"#"),t=t.replace(/&+/g,"&")},isCrossDomainUrl:function(e){var t=document.createElement("a");return t.href=e,browser.ie&&(t.href=t.href),!(t.protocol==location.protocol&&t.hostname==location.hostname&&(t.port==location.port||"80"==t.port&&""==location.port||""==t.port&&"80"==location.port))},clearEmptyAttrs:function(e){for(var t in e)""===e[t]&&delete e[t];return e},str2json:function(e){return utils.isString(e)?window.JSON?JSON.parse(e):new Function("return "+utils.trim(e||""))():null},json2str:function(){function e(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=r[e];return t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+e+'"'}function t(e){var t,n,i,r=["["],o=e.length;for(n=0;o>n;n++)switch(i=e[n],typeof i){case"undefined":case"function":case"unknown":break;default:t&&r.push(","),r.push(utils.json2str(i)),t=1}return r.push("]"),r.join("")}function n(e){return 10>e?"0"+e:e}function i(e){return'"'+e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds())+'"'}if(window.JSON)return JSON.stringify;var r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(n){switch(typeof n){case"undefined":return"undefined";case"number":return isFinite(n)?String(n):"null";case"string":return e(n);case"boolean":return String(n);default:if(null===n)return"null";if(utils.isArray(n))return t(n);if(utils.isDate(n))return i(n);var r,o,a=["{"],s=utils.json2str;
for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l))switch(o=n[l],typeof o){case"undefined":case"unknown":case"function":break;default:r&&a.push(","),r=1,a.push(s(l)+":"+s(o))}return a.push("}"),a.join("")}}}()};utils.each(["String","Function","Array","Number","RegExp","Object","Date"],function(e){UE.utils["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}});var EventBase=UE.EventBase=function(){};EventBase.prototype={addListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var n,i=0;n=e[i++];)getListener(this,n,!0).push(t)},on:function(e,t){return this.addListener(e,t)},off:function(e,t){return this.removeListener(e,t)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(e,t){e=utils.trim(e).split(/\s+/);for(var n,i=0;n=e[i++];)utils.removeItem(getListener(this,n)||[],t)},fireEvent:function(){var e=arguments[0];e=utils.trim(e).split(" ");for(var t,n=0;t=e[n++];){var i,r,o,a=getListener(this,t);if(a)for(o=a.length;o--;)if(a[o]){if(r=a[o].apply(this,arguments),r===!0)return r;void 0!==r&&(i=r)}(r=this["on"+t.toLowerCase()])&&(i=r.apply(this,arguments))}return i}};var dtd=dom.dtd=function(){function e(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}var t=utils.extend2,n=e({isindex:1,fieldset:1}),i=e({input:1,button:1,select:1,textarea:1,label:1}),r=t(e({a:1}),i),o=t({iframe:1},r),a=e({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),s=e({ins:1,del:1,script:1,style:1}),l=t(e({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),s),c=t(e({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),l),u=t(e({p:1}),c),d=t(e({iframe:1}),c,i),f=e({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),h=t(e({a:0}),d),p=e({tr:1}),m=e({"#":1}),g=t(e({param:1}),f),v=t(e({form:1}),n,o,a,u),y=e({li:1,ol:1,ul:1}),b=e({style:1,script:1}),C=e({base:1,link:1,meta:1,title:1}),w=t(C,b),x=e({head:1,body:1}),$=e({html:1}),N=e({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),E=e({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return e({$nonBodyContent:t($,x,C),$block:N,$inline:h,$inlineWithA:t(e({a:1}),h),$body:t(e({script:1,style:1}),N),$cdata:e({script:1,style:1}),$empty:E,$nonChild:e({iframe:1,textarea:1}),$listItem:e({dd:1,dt:1,li:1}),$list:e({ul:1,ol:1,dl:1}),$isNotEmpty:e({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:e({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:e({p:1,div:1}),$tableContent:e({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:e({pre:1,script:1,style:1,textarea:1}),html:x,head:w,style:m,script:m,body:v,base:{},link:{},meta:{},title:m,col:{},tr:e({td:1,th:1}),img:{},embed:{},colgroup:e({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:v,td:v,br:{},th:v,center:v,kbd:h,button:t(u,a),basefont:{},h5:h,h4:h,samp:h,h6:h,ol:y,h1:h,h3:h,option:m,h2:h,form:t(n,o,a,u),select:e({optgroup:1,option:1}),font:h,ins:h,menu:y,abbr:h,label:h,table:e({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:h,tfoot:p,cite:h,li:v,input:{},iframe:v,strong:h,textarea:m,noframes:v,big:h,small:h,span:e({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:h,dt:h,sub:h,optgroup:e({option:1}),param:{},bdo:h,"var":h,div:v,object:g,sup:h,dd:v,strike:h,area:{},dir:y,map:t(e({area:1,form:1,p:1}),n,s,a),applet:g,dl:e({dt:1,dd:1}),del:h,isindex:{},fieldset:t(e({legend:1}),f),thead:p,ul:y,acronym:h,b:h,a:t(e({a:1}),d),blockquote:t(e({td:1,tr:1,tbody:1,li:1}),v),caption:h,i:h,u:h,tbody:p,s:h,address:t(o,u),tt:h,legend:h,q:h,pre:t(l,r),p:t(e({a:1}),h),em:h,dfn:h})}(),attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"\ufeff":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(e,t){if(e===t)return 0;var n,i=[e],r=[t];for(n=e;n=n.parentNode;){if(n===t)return 10;i.push(n)}for(n=t;n=n.parentNode;){if(n===e)return 20;r.push(n)}if(i.reverse(),r.reverse(),i[0]!==r[0])return 1;for(var o=-1;o++,i[o]===r[o];);for(e=i[o],t=r[o];e=e.nextSibling;)if(e===t)return 4;return 2},getNodeIndex:function(e,t){for(var n=e,i=0;n=n.previousSibling;)t&&3==n.nodeType?n.nodeType!=n.nextSibling.nodeType&&i++:i++;return i},inDoc:function(e,t){return 10==domUtils.getPosition(e,t)},findParent:function(e,t,n){if(e&&!domUtils.isBody(e))for(e=n?e:e.parentNode;e;){if(!t||t(e)||domUtils.isBody(e))return t&&!t(e)&&domUtils.isBody(e)?null:e;e=e.parentNode}return null},findParentByTagName:function(e,t,n,i){return t=utils.listToMap(utils.isArray(t)?t:[t]),domUtils.findParent(e,function(e){return t[e.tagName]&&!(i&&i(e))},n)},findParents:function(e,t,n,i){for(var r=t&&(n&&n(e)||!n)?[e]:[];e=domUtils.findParent(e,n);)r.push(e);return i?r:r.reverse()},insertAfter:function(e,t){return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},remove:function(e,t){var n,i=e.parentNode;if(i){if(t&&e.hasChildNodes())for(;n=e.firstChild;)i.insertBefore(n,e);i.removeChild(e)}return e},getNextDomNode:function(e,t,n,i){return getDomNode(e,"firstChild","nextSibling",t,n,i)},getPreDomNode:function(e,t,n,i){return getDomNode(e,"lastChild","previousSibling",t,n,i)},isBookmarkNode:function(e){return 1==e.nodeType&&e.id&&/^_baidu_bookmark_/i.test(e.id)},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var n=[e],i=[t],r=e,o=-1;r=r.parentNode;){if(r===t)return r;n.push(r)}for(r=t;r=r.parentNode;){if(r===e)return r;i.push(r)}for(n.reverse(),i.reverse();o++,n[o]===i[o];);return 0==o?null:n[o-1]},clearEmptySibling:function(e,t,n){function i(e,t){for(var n;e&&!domUtils.isBookmarkNode(e)&&(domUtils.isEmptyInlineElement(e)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(e.nodeValue));)n=e[t],domUtils.remove(e),e=n}!t&&i(e.nextSibling,"nextSibling"),!n&&i(e.previousSibling,"previousSibling")},split:function(e,t){var n=e.ownerDocument;if(browser.ie&&t==e.nodeValue.length){var i=n.createTextNode("");return domUtils.insertAfter(e,i)}var r=e.splitText(t);if(browser.ie8){var o=n.createTextNode("");domUtils.insertAfter(r,o),domUtils.remove(o)}return r},isWhitespace:function(e){return!new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(e.nodeValue)},getXY:function(e){for(var t=0,n=0;e.offsetParent;)n+=e.offsetTop,t+=e.offsetLeft,e=e.offsetParent;return{x:t,y:n}},on:function(e,t,n){var i=utils.isArray(t)?t:utils.trim(t).split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.addEventListener)e.addEventListener(t,n,!1);else{n._d||(n._d={els:[]});var o=t+n.toString(),a=utils.indexOf(n._d.els,e);n._d[o]&&-1!=a||(-1==a&&n._d.els.push(e),n._d[o]||(n._d[o]=function(e){return n.call(e.srcElement,e||window.event)}),e.attachEvent("on"+t,n._d[o]))}e=null},un:function(e,t,n){var i=utils.isArray(t)?t:utils.trim(t).split(/\s+/),r=i.length;if(r)for(;r--;)if(t=i[r],e.removeEventListener)e.removeEventListener(t,n,!1);else{var o=t+n.toString();try{e.detachEvent("on"+t,n._d?n._d[o]:n)}catch(a){}if(n._d&&n._d[o]){var s=utils.indexOf(n._d.els,e);-1!=s&&n._d.els.splice(s,1),0==n._d.els.length&&delete n._d[o]}}},isSameElement:function(e,t){if(e.tagName!=t.tagName)return!1;var n=e.attributes,i=t.attributes;if(!ie&&n.length!=i.length)return!1;for(var r,o,a=0,s=0,l=0;r=n[l++];){if("style"==r.nodeName){if(r.specified&&a++,domUtils.isSameStyle(e,t))continue;return!1}if(ie){if(!r.specified)continue;a++,o=i.getNamedItem(r.nodeName)}else o=t.attributes[r.nodeName];if(!o.specified||r.nodeValue!=o.nodeValue)return!1}if(ie){for(l=0;o=i[l++];)o.specified&&s++;if(a!=s)return!1}return!0},isSameStyle:function(e,t){var n=e.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),i=t.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(browser.opera){if(n=e.style,i=t.style,n.length!=i.length)return!1;for(var r in n)if(!/^(\d+|csstext)$/i.test(r)&&n[r]!=i[r])return!1;return!0}if(!n||!i)return n==i;if(n=n.split(";"),i=i.split(";"),n.length!=i.length)return!1;for(var o,a=0;o=n[a++];)if(-1==utils.indexOf(i,o))return!1;return!0},isBlockElm:function(e){return 1==e.nodeType&&(dtd.$block[e.tagName]||styleBlock[domUtils.getComputedStyle(e,"display")])&&!dtd.$nonChild[e.tagName]},isBody:function(e){return e&&1==e.nodeType&&"body"==e.tagName.toLowerCase()},breakParent:function(e,t){var n,i,r,o=e,a=e;do{for(o=o.parentNode,i?(n=o.cloneNode(!1),n.appendChild(i),i=n,n=o.cloneNode(!1),n.appendChild(r),r=n):(i=o.cloneNode(!1),r=i.cloneNode(!1));n=a.previousSibling;)i.insertBefore(n,i.firstChild);for(;n=a.nextSibling;)r.appendChild(n);a=o}while(t!==o);return n=t.parentNode,n.insertBefore(i,t),n.insertBefore(r,t),n.insertBefore(e,r),domUtils.remove(t),e},isEmptyInlineElement:function(e){if(1!=e.nodeType||!dtd.$removeEmpty[e.tagName])return 0;for(e=e.firstChild;e;){if(domUtils.isBookmarkNode(e))return 0;if(1==e.nodeType&&!domUtils.isEmptyInlineElement(e)||3==e.nodeType&&!domUtils.isWhitespace(e))return 0;e=e.nextSibling}return 1},trimWhiteTextNode:function(e){function t(t){for(var n;(n=e[t])&&3==n.nodeType&&domUtils.isWhitespace(n);)e.removeChild(n)}t("firstChild"),t("lastChild")},mergeChild:function(e,t,n){for(var i,r=domUtils.getElementsByTagName(e,e.tagName.toLowerCase()),o=0;i=r[o++];)if(i.parentNode&&!domUtils.isBookmarkNode(i))if("span"!=i.tagName.toLowerCase())domUtils.isSameElement(e,i)&&domUtils.remove(i,!0);else{if(e===i.parentNode&&(domUtils.trimWhiteTextNode(e),1==e.childNodes.length)){e.style.cssText=i.style.cssText+";"+e.style.cssText,domUtils.remove(i,!0);continue}if(i.style.cssText=e.style.cssText+";"+i.style.cssText,n){var a=n.style;if(a){a=a.split(";");for(var s,l=0;s=a[l++];)i.style[utils.cssStyleToDomStyle(s.split(":")[0])]=s.split(":")[1]}}domUtils.isSameStyle(i,e)&&domUtils.remove(i,!0)}},getElementsByTagName:function(e,t,n){if(n&&utils.isString(n)){var i=n;n=function(e){return domUtils.hasClass(e,i)}}t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var r,o=[],a=0;r=t[a++];)for(var s,l=e.getElementsByTagName(r),c=0;s=l[c++];)n&&!n(s)||o.push(s);return o},mergeToParent:function(e){for(var t=e.parentNode;t&&dtd.$removeEmpty[t.tagName];){if(t.tagName==e.tagName||"A"==t.tagName){if(domUtils.trimWhiteTextNode(t),"SPAN"==t.tagName&&!domUtils.isSameStyle(t,e)||"A"==t.tagName&&"SPAN"==e.tagName){if(t.childNodes.length>1||t!==e.parentNode){e.style.cssText=t.style.cssText+";"+e.style.cssText,t=t.parentNode;continue}t.style.cssText+=";"+e.style.cssText,"A"==t.tagName&&(t.style.textDecoration="underline")}if("A"!=t.tagName){t===e.parentNode&&domUtils.remove(e,!0);break}}t=t.parentNode}},mergeSibling:function(e,t,n){function i(e,t,n){var i;if((i=n[e])&&!domUtils.isBookmarkNode(i)&&1==i.nodeType&&domUtils.isSameElement(n,i)){for(;i.firstChild;)"firstChild"==t?n.insertBefore(i.lastChild,n.firstChild):n.appendChild(i.firstChild);domUtils.remove(i)}}!t&&i("previousSibling","firstChild",e),!n&&i("nextSibling","lastChild",e)},unSelectable:ie&&browser.ie9below||browser.opera?function(e){e.onselectstart=function(){return!1},e.onclick=e.onkeyup=e.onkeydown=function(){return!1},e.unselectable="on",e.setAttribute("unselectable","on");for(var t,n=0;t=e.all[n++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on",e.setAttribute("unselectable","on")}}:function(e){e.style.MozUserSelect=e.style.webkitUserSelect=e.style.msUserSelect=e.style.KhtmlUserSelect="none"},removeAttributes:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0;n=t[i++];){switch(n=attrFix[n]||n){case"className":e[n]="";break;case"style":e.style.cssText="";var r=e.getAttributeNode("style");!browser.ie&&r&&e.removeAttributeNode(r)}e.removeAttribute(n)}},createElement:function(e,t,n){return domUtils.setAttributes(e.createElement(t),n)},setAttributes:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];switch(n){case"class":e.className=i;break;case"style":e.style.cssText=e.style.cssText+";"+i;break;case"innerHTML":e[n]=i;break;case"value":e.value=i;break;default:e.setAttribute(attrFix[n]||n,i)}}return e},getComputedStyle:function(e,t){var n="width height top left";if(n.indexOf(t)>-1)return e["offset"+t.replace(/^\w/,function(e){return e.toUpperCase()})]+"px";if(3==e.nodeType&&(e=e.parentNode),browser.ie&&browser.version<9&&"font-size"==t&&!e.style.fontSize&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]){var i=e.ownerDocument.createElement("span");i.style.cssText="padding:0;border:0;font-family:simsun;",i.innerHTML=".",e.appendChild(i);var r=i.offsetHeight;return e.removeChild(i),i=null,r+"px"}try{var o=domUtils.getStyle(e,t)||(window.getComputedStyle?domUtils.getWindow(e).getComputedStyle(e,"").getPropertyValue(t):(e.currentStyle||e.style)[utils.cssStyleToDomStyle(t)])}catch(a){return""}return utils.transUnitToPx(utils.fixColor(t,o))},removeClasses:function(e,t){t=utils.isArray(t)?t:utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)r=r.replace(new RegExp("\\b"+n+"\\b"),"");r=utils.trim(r).replace(/[ ]{2,}/g," "),r?e.className=r:domUtils.removeAttributes(e,["class"])},addClass:function(e,t){if(e){t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)new RegExp("\\b"+n+"\\b").test(r)||(r+=" "+n);e.className=utils.trim(r)}},hasClass:function(e,t){if(utils.isRegExp(t))return t.test(e.className);t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0,r=e.className;n=t[i++];)if(!new RegExp("\\b"+n+"\\b","i").test(r))return!1;return i-1==t.length},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},removeStyle:function(e,t){browser.ie?("color"==t&&(t="(^|;)"+t),e.style.cssText=e.style.cssText.replace(new RegExp(t+"[^:]*:[^;]+;?","ig"),"")):e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(utils.cssStyleToDomStyle(t)),e.style.cssText||domUtils.removeAttributes(e,["style"])},getStyle:function(e,t){var n=e.style[utils.cssStyleToDomStyle(t)];return utils.fixColor(t,n)},setStyle:function(e,t,n){e.style[utils.cssStyleToDomStyle(t)]=n,utils.trim(e.style.cssText)||this.removeAttributes(e,"style")},setStyles:function(e,t){for(var n in t)t.hasOwnProperty(n)&&domUtils.setStyle(e,n,t[n])},removeDirtyAttr:function(e){for(var t,n=0,i=e.getElementsByTagName("*");t=i[n++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var n=0,i=e.firstChild;for(t=t||function(){return 1};i;)t(i)&&n++,i=i.nextSibling;return n},isEmptyNode:function(e){return!e.firstChild||0==domUtils.getChildCount(e,function(e){return!domUtils.isBr(e)&&!domUtils.isBookmarkNode(e)&&!domUtils.isWhitespace(e)})},clearSelectedArr:function(e){for(var t;t=e.pop();)domUtils.removeAttributes(t,["class"])},scrollToView:function(e,t,n){var i=function(){var e=t.document,n="CSS1Compat"==e.compatMode;return{width:(n?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(n?e.documentElement.clientHeight:e.body.clientHeight)||0}},r=function(e){if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},o=i().height,a=-1*o+n;a+=e.offsetHeight||0;var s=domUtils.getXY(e);a+=s.y;var l=r(t).y;(a>l||l-o>a)&&t.scrollTo(0,a+(0>a?-20:20))},isBr:function(e){return 1==e.nodeType&&"BR"==e.tagName},isFillChar:function(e,t){if(3!=e.nodeType)return!1;var n=e.nodeValue;return t?new RegExp("^"+domUtils.fillChar).test(n):!n.replace(new RegExp(domUtils.fillChar,"g"),"").length},isStartInblock:function(e){var t,n=e.cloneRange(),i=0,r=n.startContainer;if(1==r.nodeType&&r.childNodes[n.startOffset]){r=r.childNodes[n.startOffset];for(var o=r.previousSibling;o&&domUtils.isFillChar(o);)r=o,o=o.previousSibling}for(this.isFillChar(r,!0)&&1==n.startOffset&&(n.setStartBefore(r),r=n.startContainer);r&&domUtils.isFillChar(r);)t=r,r=r.previousSibling;for(t&&(n.setStartBefore(t),r=n.startContainer),1==r.nodeType&&domUtils.isEmptyNode(r)&&1==n.startOffset&&n.setStart(r,0).collapse(!0);!n.startOffset;){if(r=n.startContainer,domUtils.isBlockElm(r)||domUtils.isBody(r)){i=1;break}var a,o=n.startContainer.previousSibling;if(o){for(;o&&domUtils.isFillChar(o);)a=o,o=o.previousSibling;a?n.setStartBefore(a):n.setStartBefore(n.startContainer)}else n.setStartBefore(n.startContainer)}return i&&!domUtils.isBody(n.startContainer)?1:0},isEmptyBlock:function(e,t){if(1!=e.nodeType)return 0;if(t=t||new RegExp("[  \t\r\n"+domUtils.fillChar+"]","g"),e[browser.ie?"innerText":"textContent"].replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1},setViewportOffset:function(e,t){var n=0|parseInt(e.style.left),i=0|parseInt(e.style.top),r=e.getBoundingClientRect(),o=t.left-r.left,a=t.top-r.top;o&&(e.style.left=n+o+"px"),a&&(e.style.top=i+a+"px")},fillNode:function(e,t){var n=browser.ie?e.createTextNode(domUtils.fillChar):e.createElement("br");t.innerHTML="",t.appendChild(n)},moveChild:function(e,t,n){for(;e.firstChild;)n&&t.firstChild?t.insertBefore(e.lastChild,t.firstChild):t.appendChild(e.firstChild)},hasNoAttributes:function(e){return browser.ie?/^<\w+\s*?>/.test(e.outerHTML):0==e.attributes.length},isCustomeNode:function(e){return 1==e.nodeType&&e.getAttribute("_ue_custom_node_")},isTagNode:function(e,t){return 1==e.nodeType&&new RegExp("\\b"+e.tagName+"\\b","i").test(t)},filterNodeList:function(e,t,n){var i=[];if(!utils.isFunction(t)){var r=t;t=function(e){return-1!=utils.indexOf(utils.isArray(r)?r:r.split(" "),e.tagName.toLowerCase())}}return utils.each(e,function(e){t(e)&&i.push(e)}),0==i.length?null:1!=i.length&&n?i:i[0]},isInNodeEndBoundary:function(e,t){var n=e.startContainer;if(3==n.nodeType&&e.startOffset!=n.nodeValue.length)return 0;if(1==n.nodeType&&e.startOffset!=n.childNodes.length)return 0;for(;n!==t;){if(n.nextSibling)return 0;n=n.parentNode}return 1},isBoundaryNode:function(e,t){for(var n;!domUtils.isBody(e);)if(n=e,e=e.parentNode,n!==e[t])return!1;return!0},fillHtml:browser.ie11below?"&nbsp;":"<br/>"},fillCharReg=new RegExp(domUtils.fillChar,"g");!function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer===e.endContainer&&e.startOffset==e.endOffset}function t(e){return!e.collapsed&&1==e.startContainer.nodeType&&e.startContainer===e.endContainer&&e.endOffset-e.startOffset==1}function n(t,n,i,r){return 1==n.nodeType&&(dtd.$empty[n.tagName]||dtd.$nonChild[n.tagName])&&(i=domUtils.getNodeIndex(n)+(t?0:1),n=n.parentNode),t?(r.startContainer=n,r.startOffset=i,r.endContainer||r.collapse(!0)):(r.endContainer=n,r.endOffset=i,r.startContainer||r.collapse(!1)),e(r),r}function i(e,t){var n,i,r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,l=e.document,c=l.createDocumentFragment();if(1==r.nodeType&&(r=r.childNodes[a]||(n=r.appendChild(l.createTextNode("")))),1==o.nodeType&&(o=o.childNodes[s]||(i=o.appendChild(l.createTextNode("")))),r===o&&3==r.nodeType)return c.appendChild(l.createTextNode(r.substringData(a,s-a))),t&&(r.deleteData(a,s-a),e.collapse(!0)),c;for(var u,d,f=c,h=domUtils.findParents(r,!0),p=domUtils.findParents(o,!0),m=0;h[m]==p[m];)m++;for(var g,v=m;g=h[v];v++){for(u=g.nextSibling,g==r?n||(3==e.startContainer.nodeType?(f.appendChild(l.createTextNode(r.nodeValue.slice(a))),t&&r.deleteData(a,r.nodeValue.length-a)):f.appendChild(t?r:r.cloneNode(!0))):(d=g.cloneNode(!1),f.appendChild(d));u&&u!==o&&u!==p[v];)g=u.nextSibling,f.appendChild(t?u:u.cloneNode(!0)),u=g;f=d}f=c,h[m]||(f.appendChild(h[m-1].cloneNode(!1)),f=f.firstChild);for(var y,v=m;y=p[v];v++){if(u=y.previousSibling,y==o?i||3!=e.endContainer.nodeType||(f.appendChild(l.createTextNode(o.substringData(0,s))),t&&o.deleteData(0,s)):(d=y.cloneNode(!1),f.appendChild(d)),v!=m||!h[m])for(;u&&u!==r;)y=u.previousSibling,f.insertBefore(t?u:u.cloneNode(!0),f.firstChild),u=y;f=d}return t&&e.setStartBefore(p[m]?h[m]?p[m]:h[m-1]:p[m-1]).collapse(!0),n&&domUtils.remove(n),i&&domUtils.remove(i),c}function r(e,t){try{if(a&&domUtils.inDoc(a,e))if(a.nodeValue.replace(fillCharReg,"").length)a.nodeValue=a.nodeValue.replace(fillCharReg,"");else{var n=a.parentNode;for(domUtils.remove(a);n&&domUtils.isEmptyInlineElement(n)&&(browser.safari?!(domUtils.getPosition(n,t)&domUtils.POSITION_CONTAINS):!n.contains(t));)a=n.parentNode,domUtils.remove(n),n=a}}catch(i){}}function o(e,t){var n;for(e=e[t];e&&domUtils.isFillChar(e);)n=e[t],domUtils.remove(e),e=n}var a,s=0,l=domUtils.fillChar,c=dom.Range=function(e){var t=this;t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.document=e,t.collapsed=!0};c.prototype={cloneContents:function(){return this.collapsed?null:i(this,0)},deleteContents:function(){var e;return this.collapsed||i(this,1),browser.webkit&&(e=this.startContainer,3!=e.nodeType||e.nodeValue.length||(this.setStartBefore(e).collapse(!0),domUtils.remove(e))),this},extractContents:function(){return this.collapsed?null:i(this,2)},setStart:function(e,t){return n(!0,e,t,this)},setEnd:function(e,t){return n(!1,e,t,this)},setStartAfter:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e)+1)},setStartBefore:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e))},setEndAfter:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e)+1)},setEndBefore:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e))},setStartAtFirst:function(e){return this.setStart(e,0)},setStartAtLast:function(e){return this.setStart(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},setEndAtFirst:function(e){return this.setEnd(e,0)},setEndAtLast:function(e){return this.setEnd(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){return this.setStart(e,0).setEndAtLast(e)},cloneRange:function(){var e=this;return new c(e.document).setStart(e.startContainer,e.startOffset).setEnd(e.endContainer,e.endOffset)},collapse:function(e){var t=this;return e?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(e){function t(e){return 1==e.nodeType&&!domUtils.isBookmarkNode(e)&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]}for(var n,i=this,r=i.collapsed;1==i.startContainer.nodeType&&(n=i.startContainer.childNodes[i.startOffset])&&t(n);)i.setStart(n,0);if(r)return i.collapse(!0);if(!e)for(;1==i.endContainer.nodeType&&i.endOffset>0&&(n=i.endContainer.childNodes[i.endOffset-1])&&t(n);)i.setEnd(n,n.childNodes.length);return i},getCommonAncestor:function(e,n){var i=this,r=i.startContainer,o=i.endContainer;return r===o?e&&t(this)&&(r=r.childNodes[i.startOffset],1==r.nodeType)?r:n&&3==r.nodeType?r.parentNode:r:domUtils.getCommonAncestor(r,o)},trimBoundary:function(e){this.txtToElmBoundary();var t=this.startContainer,n=this.startOffset,i=this.collapsed,r=this.endContainer;if(3==t.nodeType){if(0==n)this.setStartBefore(t);else if(n>=t.nodeValue.length)this.setStartAfter(t);else{var o=domUtils.split(t,n);t===r?this.setEnd(o,this.endOffset-n):t.parentNode===r&&(this.endOffset+=1),this.setStartBefore(o)}if(i)return this.collapse(!0)}return e||(n=this.endOffset,r=this.endContainer,3==r.nodeType&&(0==n?this.setEndBefore(r):(n<r.nodeValue.length&&domUtils.split(r,n),this.setEndAfter(r)))),this},txtToElmBoundary:function(e){function t(e,t){var n=e[t+"Container"],i=e[t+"Offset"];3==n.nodeType&&(i?i>=n.nodeValue.length&&e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"After"](n):e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"Before"](n))}return!e&&this.collapsed||(t(this,"start"),t(this,"end")),this},insertNode:function(e){var t=e,n=1;11==e.nodeType&&(t=e.firstChild,n=e.childNodes.length),this.trimBoundary(!0);var i=this.startContainer,r=this.startOffset,o=i.childNodes[r];return o?i.insertBefore(e,o):i.appendChild(e),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+n),this.setStartBefore(t)},setCursor:function(e,t){return this.collapse(!e).select(t)},createBookmark:function(e,t){var n,i=this.document.createElement("span");return i.style.cssText="display:none;line-height:0px;",i.appendChild(this.document.createTextNode("‍")),i.id="_baidu_bookmark_start_"+(t?"":s++),this.collapsed||(n=i.cloneNode(!0),n.id="_baidu_bookmark_end_"+(t?"":s++)),this.insertNode(i),n&&this.collapse().insertNode(n).setEndBefore(n),this.setStartAfter(i),{start:e?i.id:i,end:n?e?n.id:n:null,id:e}},moveToBookmark:function(e){var t=e.id?this.document.getElementById(e.start):e.start,n=e.end&&e.id?this.document.getElementById(e.end):e.end;return this.setStartBefore(t),domUtils.remove(t),n?(this.setEndBefore(n),domUtils.remove(n)):this.collapse(!0),this},enlarge:function(e,t){var n,i,r=domUtils.isBody,o=this.document.createTextNode("");if(e){for(i=this.startContainer,1==i.nodeType?i.childNodes[this.startOffset]?n=i=i.childNodes[this.startOffset]:(i.appendChild(o),n=i=o):n=i;;){if(domUtils.isBlockElm(i)){for(i=n;(n=i.previousSibling)&&!domUtils.isBlockElm(n);)i=n;this.setStartBefore(i);break}n=i,i=i.parentNode}for(i=this.endContainer,1==i.nodeType?((n=i.childNodes[this.endOffset])?i.insertBefore(o,n):i.appendChild(o),n=i=o):n=i;;){if(domUtils.isBlockElm(i)){for(i=n;(n=i.nextSibling)&&!domUtils.isBlockElm(n);)i=n;this.setEndAfter(i);break}n=i,i=i.parentNode}o.parentNode===this.endContainer&&this.endOffset--,domUtils.remove(o)}if(!this.collapsed){for(;!(0!=this.startOffset||t&&t(this.startContainer)||r(this.startContainer));)this.setStartBefore(this.startContainer);for(;!(this.endOffset!=(1==this.endContainer.nodeType?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)||t&&t(this.endContainer)||r(this.endContainer));)this.setEndAfter(this.endContainer)}return this},enlargeToBlockElm:function(e){for(;!domUtils.isBlockElm(this.startContainer);)this.setStartBefore(this.startContainer);if(!e)for(;!domUtils.isBlockElm(this.endContainer);)this.setEndAfter(this.endContainer);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(e,t,n){if(this.collapsed)return this;this.trimBoundary().enlarge(!1,function(e){return 1==e.nodeType&&domUtils.isBlockElm(e)}).adjustmentBoundary();for(var i,r,o=this.createBookmark(),a=o.end,s=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},l=domUtils.getNextDomNode(o.start,!1,s),c=this.cloneRange();l&&domUtils.getPosition(l,a)&domUtils.POSITION_PRECEDING;)if(3==l.nodeType||dtd[e][l.tagName]){for(c.setStartBefore(l),i=l;i&&(3==i.nodeType||dtd[e][i.tagName])&&i!==a;)r=i,i=domUtils.getNextDomNode(i,1==i.nodeType,null,function(t){return dtd[e][t.tagName]});var u,d=c.setEndAfter(r).extractContents();if(n&&n.length>0){var f,h;h=f=n[0].cloneNode(!1);for(var p,m=1;p=n[m++];)f.appendChild(p.cloneNode(!1)),f=f.firstChild;u=f}else u=c.document.createElement(e);t&&domUtils.setAttributes(u,t),u.appendChild(d),c.insertNode(n?h:u);var g;if("span"==e&&t.style&&/text\-decoration/.test(t.style)&&(g=domUtils.findParentByTagName(u,"a",!0))?(domUtils.setAttributes(g,t),domUtils.remove(u,!0),u=g):(domUtils.mergeSibling(u),domUtils.clearEmptySibling(u)),domUtils.mergeChild(u,t),l=domUtils.getNextDomNode(u,!1,s),domUtils.mergeToParent(u),i===a)break}else l=domUtils.getNextDomNode(l,!0,s);return this.moveToBookmark(o)},removeInlineStyle:function(e){if(this.collapsed)return this;e=utils.isArray(e)?e:[e],this.shrinkBoundary().adjustmentBoundary();for(var t=this.startContainer,n=this.endContainer;;){if(1==t.nodeType){if(utils.indexOf(e,t.tagName.toLowerCase())>-1)break;if("body"==t.tagName.toLowerCase()){t=null;break}}t=t.parentNode}for(;;){if(1==n.nodeType){if(utils.indexOf(e,n.tagName.toLowerCase())>-1)break;if("body"==n.tagName.toLowerCase()){n=null;break}}n=n.parentNode}var i,r,o=this.createBookmark();t&&(r=this.cloneRange().setEndBefore(o.start).setStartBefore(t),i=r.extractContents(),r.insertNode(i),domUtils.clearEmptySibling(t,!0),t.parentNode.insertBefore(o.start,t)),n&&(r=this.cloneRange().setStartAfter(o.end).setEndAfter(n),i=r.extractContents(),r.insertNode(i),domUtils.clearEmptySibling(n,!1,!0),n.parentNode.insertBefore(o.end,n.nextSibling));for(var a,s=domUtils.getNextDomNode(o.start,!1,function(e){return 1==e.nodeType});s&&s!==o.end;)a=domUtils.getNextDomNode(s,!0,function(e){return 1==e.nodeType}),utils.indexOf(e,s.tagName.toLowerCase())>-1&&domUtils.remove(s,!0),s=a;return this.moveToBookmark(o)},getClosedNode:function(){var e;if(!this.collapsed){var n=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(t(n)){var i=n.startContainer.childNodes[n.startOffset];i&&1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(e=i)}}return e},select:browser.ie?function(e,t){var n;this.collapsed||this.shrinkBoundary();var i=this.getClosedNode();if(i&&!t){try{n=this.document.body.createControlRange(),n.addElement(i),n.select()}catch(s){}return this}var c,u=this.createBookmark(),d=u.start;if(n=this.document.body.createTextRange(),n.moveToElementText(d),n.moveStart("character",1),this.collapsed){if(!e&&3!=this.startContainer.nodeType){var f=this.document.createTextNode(l),h=this.document.createElement("span");h.appendChild(this.document.createTextNode(l)),d.parentNode.insertBefore(h,d),d.parentNode.insertBefore(f,d),r(this.document,f),a=f,o(h,"previousSibling"),o(d,"nextSibling"),n.moveStart("character",-1),n.collapse(!0)}}else{var p=this.document.body.createTextRange();c=u.end,p.moveToElementText(c),n.setEndPoint("EndToEnd",p)}this.moveToBookmark(u),h&&domUtils.remove(h);try{n.select()}catch(s){}return this}:function(e){function t(e){function t(t,n,i){3==t.nodeType&&t.nodeValue.length<n&&(e[i+"Offset"]=t.nodeValue.length)}t(e.startContainer,e.startOffset,"start"),t(e.endContainer,e.endOffset,"end")}var n,i=domUtils.getWindow(this.document),s=i.getSelection();
if(browser.gecko?this.document.body.focus():i.focus(),s){if(s.removeAllRanges(),this.collapsed&&!e){var c=this.startContainer,u=c;1==c.nodeType&&(u=c.childNodes[this.startOffset]),3==c.nodeType&&this.startOffset||(u?u.previousSibling&&3==u.previousSibling.nodeType:c.lastChild&&3==c.lastChild.nodeType)||(n=this.document.createTextNode(l),this.insertNode(n),r(this.document,n),o(n,"previousSibling"),o(n,"nextSibling"),a=n,this.setStart(n,browser.webkit?1:0).collapse(!0))}var d=this.document.createRange();if(this.collapsed&&browser.opera&&1==this.startContainer.nodeType){var u=this.startContainer.childNodes[this.startOffset];if(u){for(;u&&domUtils.isBlockElm(u)&&1==u.nodeType&&u.childNodes[0];)u=u.childNodes[0];u&&this.setStartBefore(u).collapse(!0)}else u=this.startContainer.lastChild,u&&domUtils.isBr(u)&&this.setStartBefore(u).collapse(!0)}t(this),d.setStart(this.startContainer,this.startOffset),d.setEnd(this.endContainer,this.endOffset),s.addRange(d)}return this},scrollToView:function(e,t){e=e?window:domUtils.getWindow(this.document);var n=this,i=n.document.createElement("span");return i.innerHTML="&nbsp;",n.cloneRange().insertNode(i),domUtils.scrollToView(i,e,t),domUtils.remove(i),n},inFillChar:function(){var e=this.startContainer;return!(!this.collapsed||3!=e.nodeType||e.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1!=e.nodeValue.length)},createAddress:function(e,t){function n(e){for(var n,i=e?r.startContainer:r.endContainer,o=domUtils.findParents(i,!0,function(e){return!domUtils.isBody(e)}),a=[],s=0;n=o[s++];)a.push(domUtils.getNodeIndex(n,t));var l=0;if(t)if(3==i.nodeType){for(var c=i.previousSibling;c&&3==c.nodeType;)l+=c.nodeValue.replace(fillCharReg,"").length,c=c.previousSibling;l+=e?r.startOffset:r.endOffset}else if(i=i.childNodes[e?r.startOffset:r.endOffset])l=domUtils.getNodeIndex(i,t);else{i=e?r.startContainer:r.endContainer;for(var u=i.firstChild;u;)if(domUtils.isFillChar(u))u=u.nextSibling;else if(l++,3==u.nodeType)for(;u&&3==u.nodeType;)u=u.nextSibling;else u=u.nextSibling}else l=e?domUtils.isFillChar(i)?0:r.startOffset:r.endOffset;return 0>l&&(l=0),a.push(l),a}var i={},r=this;return i.startAddress=n(!0),e||(i.endAddress=r.collapsed?[].concat(i.startAddress):n()),i},moveToAddress:function(e,t){function n(e,t){for(var n,r,o,a=i.document.body,s=0,l=e.length;l>s;s++)if(o=e[s],n=a,a=a.childNodes[o],!a){r=o;break}t?a?i.setStartBefore(a):i.setStart(n,r):a?i.setEndBefore(a):i.setEnd(n,r)}var i=this;return n(e.startAddress,!0),!t&&e.endAddress&&n(e.endAddress),i},equals:function(e){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==e[t])return!1;return!0},traversal:function(e,t){if(this.collapsed)return this;for(var n=this.createBookmark(),i=n.end,r=domUtils.getNextDomNode(n.start,!1,t);r&&r!==i&&domUtils.getPosition(r,i)&domUtils.POSITION_PRECEDING;){var o=domUtils.getNextDomNode(r,!1,t);e(r),r=o}return this.moveToBookmark(n)}}}(),function(){function e(e,t){var n=domUtils.getNodeIndex;e=e.duplicate(),e.collapse(t);var i=e.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var r,o,a=i.children,s=e.duplicate(),l=0,c=a.length-1,u=-1;c>=l;){u=Math.floor((l+c)/2),r=a[u],s.moveToElementText(r);var d=s.compareEndPoints("StartToStart",e);if(d>0)c=u-1;else{if(!(0>d))return{container:i,offset:n(r)};l=u+1}}if(-1==u){if(s.moveToElementText(i),s.setEndPoint("StartToStart",e),o=s.text.replace(/(\r\n|\r)/g,"\n").length,a=i.childNodes,!o)return r=a[a.length-1],{container:r,offset:r.nodeValue.length};for(var f=a.length;o>0;)o-=a[--f].nodeValue.length;return{container:a[f],offset:-o}}if(s.collapse(d>0),s.setEndPoint(d>0?"StartToStart":"EndToStart",e),o=s.text.replace(/(\r\n|\r)/g,"\n").length,!o)return dtd.$empty[r.tagName]||dtd.$nonChild[r.tagName]?{container:i,offset:n(r)+(d>0?0:1)}:{container:r,offset:d>0?0:r.childNodes.length};for(;o>0;)try{var h=r;r=r[d>0?"previousSibling":"nextSibling"],o-=r.nodeValue.length}catch(p){return{container:i,offset:n(h)}}return{container:r,offset:d>0?-o:r.nodeValue.length+o}}function t(t,n){if(t.item)n.selectNode(t.item(0));else{var i=e(t,!0);n.setStart(i.container,i.offset),0!=t.compareEndPoints("StartToEnd",t)&&(i=e(t,!1),n.setEnd(i.container,i.offset))}return n}function n(e){var t;try{t=e.getNative().createRange()}catch(n){return null}var i=t.item?t.item(0):t.parentElement();return(i.ownerDocument||i)===e.document?t:null}var i=dom.Selection=function(e){var t,i=this;i.document=e,browser.ie9below&&(t=domUtils.getWindow(e).frameElement,domUtils.on(t,"beforedeactivate",function(){i._bakIERange=i.getIERange()}),domUtils.on(t,"activate",function(){try{!n(i)&&i._bakIERange&&i._bakIERange.select()}catch(e){}i._bakIERange=null})),t=e=null};i.prototype={rangeInBody:function(e,t){var n=browser.ie9below||t?e.item?e.item():e.parentElement():e.startContainer;return n===this.document.body||domUtils.inDoc(n,this.document)},getNative:function(){var e=this.document;try{return e?browser.ie9below?e.selection:domUtils.getWindow(e).getSelection():null}catch(t){return null}},getIERange:function(){var e=n(this);return!e&&this._bakIERange?this._bakIERange:e},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var e=this.getStart();return e?domUtils.findParents(e,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(browser.ie9below){var e=n(this);return!(!e||!this.rangeInBody(e))}return!!this.getNative().rangeCount}catch(t){return!1}},getRange:function(){function e(e){for(var t=n.document.body.firstChild,i=e.collapsed;t&&t.firstChild;)e.setStart(t,0),t=t.firstChild;e.startContainer||e.setStart(n.document.body,0),i&&e.collapse(!0)}var n=this;if(null!=n._cachedRange)return this._cachedRange;var i=new baidu.editor.dom.Range(n.document);if(browser.ie9below){var r=n.getIERange();if(r)try{t(r,i)}catch(o){e(i)}else e(i)}else{var a=n.getNative();if(a&&a.rangeCount){var s=a.getRangeAt(0),l=a.getRangeAt(a.rangeCount-1);i.setStart(s.startContainer,s.startOffset).setEnd(l.endContainer,l.endOffset),i.collapsed&&domUtils.isBody(i.startContainer)&&!i.startOffset&&e(i)}else{if(this._bakRange&&domUtils.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;e(i)}}return this._bakRange=i},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var e,t,n,i,r=browser.ie9below?this.getIERange():this.getRange();if(browser.ie9below){if(!r)return this.document.body.firstChild;if(r.item)return r.item(0);for(e=r.duplicate(),e.text.length>0&&e.moveStart("character",1),e.collapse(1),t=e.parentElement(),i=n=r.parentElement();n=n.parentNode;)if(n==t){t=i;break}}else if(r.shrinkBoundary(),t=r.startContainer,1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,r.startOffset)]),3==t.nodeType)return t.parentNode;return t},getText:function(){var e,t;return this.isFocus()&&(e=this.getNative())?(t=browser.ie9below?e.createRange():e.getRangeAt(0),browser.ie9below?t.text:t.toString()):""},clearRange:function(){this.getNative()[browser.ie9below?"empty":"removeAllRanges"]()}}}(),function(){function e(e,t){var n;if(t.textarea)if(utils.isString(t.textarea)){for(var i,r=0,o=domUtils.getElementsByTagName(e,"textarea");i=o[r++];)if(i.id=="ueditor_textarea_"+t.options.textarea){n=i;break}}else n=t.textarea;n||(e.appendChild(n=domUtils.createElement(document,"textarea",{name:t.options.textarea,id:"ueditor_textarea_"+t.options.textarea,style:"display:none"})),t.textarea=n),!n.getAttribute("name")&&n.setAttribute("name",t.options.textarea),n.value=t.hasContents()?t.options.allHtmlEnabled?t.getAllHtml():t.getContent(null,null,!0):""}function t(e){for(var t in e)return t}function n(e){e.langIsReady=!0,e.fireEvent("langReady")}var i,r=0,o=UE.Editor=function(e){var i=this;i.uid=r++,EventBase.call(i),i.commands={},i.options=utils.extend(utils.clone(e||{}),UEDITOR_CONFIG,!0),i.shortcutkeys={},i.inputRules=[],i.outputRules=[],i.setOpt(o.defaultOptions(i)),i.loadServerConfig(),utils.isEmptyObject(UE.I18N)?utils.loadFile(document,{src:i.options.langPath+i.options.lang+"/"+i.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){UE.plugin.load(i),n(i)}):(i.options.lang=t(UE.I18N),UE.plugin.load(i),n(i)),UE.instants["ueditorInstant"+i.uid]=i};o.prototype={registerCommand:function(e,t){this.commands[e]=t},ready:function(e){var t=this;e&&(t.isReady?e.apply(t):t.addListener("ready",e))},setOpt:function(e,t){var n={};utils.isString(e)?n[e]=t:n=e,utils.extend(this.options,n,!0)},getOpt:function(e){return this.options[e]},destroy:function(){var e=this;e.fireEvent("destroy");var t=e.container.parentNode,n=e.textarea;n?n.style.display="":(n=document.createElement("textarea"),t.parentNode.insertBefore(n,t)),n.style.width=e.iframe.offsetWidth+"px",n.style.height=e.iframe.offsetHeight+"px",n.value=e.getContent(),n.id=e.key,t.innerHTML="",domUtils.remove(t);var i=e.key;for(var r in e)e.hasOwnProperty(r)&&delete this[r];UE.delEditor(i)},render:function(e){var t=this,n=t.options,i=function(t){return parseInt(domUtils.getComputedStyle(e,t))};if(utils.isString(e)&&(e=document.getElementById(e)),e){n.initialFrameWidth?n.minFrameWidth=n.initialFrameWidth:n.minFrameWidth=n.initialFrameWidth=e.offsetWidth,n.initialFrameHeight?n.minFrameHeight=n.initialFrameHeight:n.initialFrameHeight=n.minFrameHeight=e.offsetHeight,e.style.width=/%$/.test(n.initialFrameWidth)?"100%":n.initialFrameWidth-i("padding-left")-i("padding-right")+"px",e.style.height=/%$/.test(n.initialFrameHeight)?"100%":n.initialFrameHeight-i("padding-top")-i("padding-bottom")+"px",e.style.zIndex=n.zIndex;var r=(ie&&browser.version<9?"":"<!DOCTYPE html>")+"<html xmlns='http://www.w3.org/1999/xhtml' class='view' ><head><style type='text/css'>.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}p{margin:5px 0;}</style>"+(n.iframeCssUrl?"<link rel='stylesheet' type='text/css' href='"+utils.unhtml(n.iframeCssUrl)+"'/>":"")+(n.initialStyle?"<style>"+n.initialStyle+"</style>":"")+"</head><body class='view' ></body><script type='text/javascript' "+(ie?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant"+t.uid+"'];editor._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);</script></html>";e.appendChild(domUtils.createElement(document,"iframe",{id:"ueditor_"+t.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(n.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+r+'");document.close();}())'})),e.style.overflow="hidden",setTimeout(function(){/%$/.test(n.initialFrameWidth)&&(n.minFrameWidth=n.initialFrameWidth=e.offsetWidth),/%$/.test(n.initialFrameHeight)&&(n.minFrameHeight=n.initialFrameHeight=e.offsetHeight,e.style.height=n.initialFrameHeight+"px")})}},_setup:function(t){var n=this,i=n.options;ie?(t.body.disabled=!0,t.body.contentEditable=!0,t.body.disabled=!1):t.body.contentEditable=!0,t.body.spellcheck=!1,n.document=t,n.window=t.defaultView||t.parentWindow,n.iframe=n.window.frameElement,n.body=t.body,n.selection=new dom.Selection(t);var r;browser.gecko&&(r=this.selection.getNative())&&r.removeAllRanges(),this._initEvents();for(var o=this.iframe.parentNode;!domUtils.isBody(o);o=o.parentNode)if("FORM"==o.tagName){n.form=o,n.options.autoSyncData?domUtils.on(n.window,"blur",function(){e(o,n)}):domUtils.on(o,"submit",function(){e(this,n)});break}if(i.initialContent)if(i.autoClearinitialContent){var a=n.execCommand;n.execCommand=function(){return n.fireEvent("firstBeforeExecCommand"),a.apply(n,arguments)},this._setDefaultContent(i.initialContent)}else this.setContent(i.initialContent,!1,!0);domUtils.isEmptyNode(n.body)&&(n.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),i.focus&&setTimeout(function(){n.focus(n.options.focusInEnd),!n.options.autoClearinitialContent&&n._selectionChange()},0),n.container||(n.container=this.iframe.parentNode),i.fullscreen&&n.ui&&n.ui.setFullScreen(!0);try{n.document.execCommand("2D-position",!1,!1)}catch(s){}try{n.document.execCommand("enableInlineTableEditing",!1,!1)}catch(s){}try{n.document.execCommand("enableObjectResizing",!1,!1)}catch(s){}n._bindshortcutKeys(),n.isReady=1,n.fireEvent("ready"),i.onready&&i.onready.call(n),browser.ie9below||domUtils.on(n.window,["blur","focus"],function(e){if("blur"==e.type){n._bakRange=n.selection.getRange();try{n._bakNativeRange=n.selection.getNative().getRangeAt(0),n.selection.getNative().removeAllRanges()}catch(e){n._bakNativeRange=null}}else try{n._bakRange&&n._bakRange.select()}catch(e){}}),browser.gecko&&browser.version<=10902&&(n.body.contentEditable=!1,setTimeout(function(){n.body.contentEditable=!0},100),setInterval(function(){n.body.style.height=n.iframe.offsetHeight-20+"px"},100)),!i.isShow&&n.setHide(),i.readonly&&n.setDisabled()},sync:function(t){var n=this,i=t?document.getElementById(t):domUtils.findParent(n.iframe.parentNode,function(e){return"FORM"==e.tagName},!0);i&&e(i,n)},setHeight:function(e,t){e!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=e+"px"),!t&&(this.options.minFrameHeight=this.options.initialFrameHeight=e),this.body.style.height=e+"px",!t&&this.trigger("setHeight")},addshortcutkey:function(e,t){var n={};t?n[e]=t:n=e,utils.extend(this.shortcutkeys,n)},_bindshortcutKeys:function(){var e=this,t=this.shortcutkeys;e.addListener("keydown",function(n,i){var r=i.keyCode||i.which;for(var o in t)for(var a,s=t[o].split(","),l=0;a=s[l++];){a=a.split(":");var c=a[0],u=a[1];(/^(ctrl)(\+shift)?\+(\d+)$/.test(c.toLowerCase())||/^(\d+)$/.test(c))&&(("ctrl"==RegExp.$1?i.ctrlKey||i.metaKey:0)&&(""!=RegExp.$2?i[RegExp.$2.slice(1)+"Key"]:1)&&r==RegExp.$3||r==RegExp.$1)&&(-1!=e.queryCommandState(o,u)&&e.execCommand(o,u),domUtils.preventDefault(i))}})},getContent:function(e,t,n,i,r){var o=this;if(e&&utils.isFunction(e)&&(t=e,e=""),t?!t():!this.hasContents())return"";o.fireEvent("beforegetcontent");var a=UE.htmlparser(o.body.innerHTML,i);return o.filterOutputRule(a),o.fireEvent("aftergetcontent",e,a),a.toHtml(r)},getAllHtml:function(){var e=this,t=[];if(e.fireEvent("getAllHtml",t),browser.ie&&browser.version>8){var n="";utils.each(e.document.styleSheets,function(e){n+=e.href?'<link rel="stylesheet" type="text/css" href="'+e.href+'" />':"<style>"+e.cssText+"</style>"}),utils.each(e.document.getElementsByTagName("script"),function(e){n+=e.outerHTML})}return"<html><head>"+(e.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+e.options.charset+'"/>':"")+(n||e.document.getElementsByTagName("head")[0].innerHTML)+t.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+e.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var e=new RegExp(domUtils.fillChar,"g"),t=this.body.innerHTML.replace(/[\n\r]/g,"");return t=t.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>\/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(e,t,n){return dtd.$block[n]?"\n":t?t:""}),t.replace(e,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var e=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(e,"").replace(/\u00a0/g," ")},setContent:function(t,n,i){function r(e){return"DIV"==e.tagName&&e.getAttribute("cdata_tag")}var o=this;o.fireEvent("beforesetcontent",t);var a=UE.htmlparser(t);if(o.filterInputRule(a),t=a.toHtml(),o.body.innerHTML=(n?o.body.innerHTML:"")+t,"p"==o.options.enterTag){var s,l=this.body.firstChild;if(!l||1==l.nodeType&&(dtd.$cdata[l.tagName]||r(l)||domUtils.isCustomeNode(l))&&l===this.body.lastChild)this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var c=o.document.createElement("p");l;){for(;l&&(3==l.nodeType||1==l.nodeType&&dtd.p[l.tagName]&&!dtd.$cdata[l.tagName]);)s=l.nextSibling,c.appendChild(l),l=s;if(c.firstChild){if(!l){o.body.appendChild(c);break}l.parentNode.insertBefore(c,l),c=o.document.createElement("p")}l=l.nextSibling}}o.fireEvent("aftersetcontent"),o.fireEvent("contentchange"),!i&&o._selectionChange(),o._bakRange=o._bakIERange=o._bakNativeRange=null;var u;browser.gecko&&(u=this.selection.getNative())&&u.removeAllRanges(),o.options.autoSyncData&&o.form&&e(o.form,o)},focus:function(e){try{var t=this,n=t.selection.getRange();if(e){var i=t.body.lastChild;i&&1==i.nodeType&&!dtd.$empty[i.tagName]&&(domUtils.isEmptyBlock(i)?n.setStartAtFirst(i):n.setStartAtLast(i),n.collapse(!0)),n.setCursor(!0)}else{if(!n.collapsed&&domUtils.isBody(n.startContainer)&&0==n.startOffset){var i=t.body.firstChild;i&&1==i.nodeType&&!dtd.$empty[i.tagName]&&n.setStartAtFirst(i).collapse(!0)}n.select(!0)}this.fireEvent("focus selectionchange")}catch(r){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var e=this.selection.getNative();if(e.empty&&browser.ie){var t=document.body.createTextRange();t.moveToElementText(document.body),t.collapse(!0),t.select(),e.empty()}else e.removeAllRanges()},_initEvents:function(){var e=this,t=e.document,n=e.window;e._proxyDomEvent=utils.bind(e._proxyDomEvent,e),domUtils.on(t,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],e._proxyDomEvent),domUtils.on(n,["focus","blur"],e._proxyDomEvent),domUtils.on(e.body,"drop",function(t){browser.gecko&&t.stopPropagation&&t.stopPropagation(),e.fireEvent("contentchange")}),domUtils.on(t,["mouseup","keydown"],function(t){"keydown"==t.type&&(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)||2!=t.button&&e._selectionChange(250,t)})},_proxyDomEvent:function(e){return this.fireEvent("before"+e.type.replace(/^on/,"").toLowerCase())!==!1&&(this.fireEvent(e.type.replace(/^on/,""),e)!==!1&&this.fireEvent("after"+e.type.replace(/^on/,"").toLowerCase()))},_selectionChange:function(e,t){var n,r,o=this,a=!1;if(browser.ie&&browser.version<9&&t&&"mouseup"==t.type){var s=this.selection.getRange();s.collapsed||(a=!0,n=t.clientX,r=t.clientY)}clearTimeout(i),i=setTimeout(function(){if(o.selection&&o.selection.getNative()){var e;if(a&&"None"==o.selection.getNative().type){e=o.document.body.createTextRange();try{e.moveToPoint(n,r)}catch(i){e=null}}var s;e&&(s=o.selection.getIERange,o.selection.getIERange=function(){return e}),o.selection.cache(),s&&(o.selection.getIERange=s),o.selection._cachedRange&&o.selection._cachedStartElement&&(o.fireEvent("beforeselectionchange"),o.fireEvent("selectionchange",!!t),o.fireEvent("afterselectionchange"),o.selection.clear())}},e||50)},_callCmdFn:function(e,t){var n,i,r=t[0].toLowerCase();return n=this.commands[r]||UE.commands[r],i=n&&n[e],n&&i||"queryCommandState"!=e?i?i.apply(this,t):void 0:0},execCommand:function(e){e=e.toLowerCase();var t,n=this,i=n.commands[e]||UE.commands[e];return i&&i.execCommand?(i.notNeedUndo||n.__hasEnterExecCommand?(t=this._callCmdFn("execCommand",arguments),!n.__hasEnterExecCommand&&!i.ignoreContentChange&&!n._ignoreContentChange&&n.fireEvent("contentchange")):(n.__hasEnterExecCommand=!0,-1!=n.queryCommandState.apply(n,arguments)&&(n.fireEvent("saveScene"),n.fireEvent.apply(n,["beforeexeccommand",e].concat(arguments)),t=this._callCmdFn("execCommand",arguments),n.fireEvent.apply(n,["afterexeccommand",e].concat(arguments)),n.fireEvent("saveScene")),n.__hasEnterExecCommand=!1),!n.__hasEnterExecCommand&&!i.ignoreContentChange&&!n._ignoreContentChange&&n._selectionChange(),t):null},queryCommandState:function(e){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(e){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(e){if(e)for(var t,n=0;t=e[n++];)if(this.document.getElementsByTagName(t).length>0)return!0;if(!domUtils.isEmptyBlock(this.body))return!0;for(e=["div"],n=0;t=e[n++];)for(var i,r=domUtils.getElementsByTagName(this.document,t),o=0;i=r[o++];)if(domUtils.isCustomeNode(i))return!0;return!1},reset:function(){this.fireEvent("reset")},setEnabled:function(){var e,t=this;if("false"==t.body.contentEditable){t.body.contentEditable=!0,e=t.selection.getRange();try{e.moveToBookmark(t.lastBk),delete t.lastBk}catch(n){e.setStartAtFirst(t.body).collapse(!0)}e.select(!0),t.bkqueryCommandState&&(t.queryCommandState=t.bkqueryCommandState,delete t.bkqueryCommandState),t.bkqueryCommandValue&&(t.queryCommandValue=t.bkqueryCommandValue,delete t.bkqueryCommandValue),t.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(e){var t=this;e=e?utils.isArray(e)?e:[e]:[],"true"==t.body.contentEditable&&(t.lastBk||(t.lastBk=t.selection.getRange().createBookmark(!0)),t.body.contentEditable=!1,t.bkqueryCommandState=t.queryCommandState,t.bkqueryCommandValue=t.queryCommandValue,t.queryCommandState=function(n){return-1!=utils.indexOf(e,n)?t.bkqueryCommandState.apply(t,arguments):-1},t.queryCommandValue=function(n){return-1!=utils.indexOf(e,n)?t.bkqueryCommandValue.apply(t,arguments):null},t.fireEvent("selectionchange"))},disable:function(e){return this.setDisabled(e)},_setDefaultContent:function(){function e(){var t=this;t.document.getElementById("initContent")&&(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",t.removeListener("firstBeforeExecCommand focus",e),setTimeout(function(){t.focus(),t._selectionChange()},0))}return function(t){var n=this;n.body.innerHTML='<p id="initContent">'+t+"</p>",n.addListener("firstBeforeExecCommand focus",e)}}(),setShow:function(){var e=this,t=e.selection.getRange();if("none"==e.container.style.display){try{t.moveToBookmark(e.lastBk),delete e.lastBk}catch(n){t.setStartAtFirst(e.body).collapse(!0)}setTimeout(function(){t.select(!0)},100),e.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var e=this;e.lastBk||(e.lastBk=e.selection.getRange().createBookmark(!0)),e.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(e){var t=UE.I18N[this.options.lang];if(!t)throw Error("not import language file");e=(e||"").split(".");for(var n,i=0;(n=e[i++])&&(t=t[n]););return t},getContentLength:function(e,t){var n=this.getContent(!1,!1,!0).length;if(e){t=(t||[]).concat(["hr","img","iframe"]),n=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i,r=0;i=t[r++];)n+=this.document.getElementsByTagName(i).length}return n},addInputRule:function(e){this.inputRules.push(e)},filterInputRule:function(e){for(var t,n=0;t=this.inputRules[n++];)t.call(this,e)},addOutputRule:function(e){this.outputRules.push(e)},filterOutputRule:function(e){for(var t,n=0;t=this.outputRules[n++];)t.call(this,e)},getActionUrl:function(e){var t=this.getOpt(e)||e,n=this.getOpt("imageUrl"),i=this.getOpt("serverUrl");return!i&&n&&(i=n.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2")),i?(i=i+(-1==i.indexOf("?")?"?":"&")+"action="+(t||""),utils.formatUrl(i)):""}},utils.inherits(o,EventBase)}(),UE.Editor.defaultOptions=function(e){var t=e.options.UEDITOR_HOME_URL;return{isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,iframeCssUrl:t+"themes/iframe.css",textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:t+"lang/",theme:"default",themePath:t+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0,fileNameFormat:"{time}{rand:6}"}},function(){UE.Editor.prototype.loadServerConfig=function(){function showErrorMsg(e){console&&console.error(e)}var me=this;setTimeout(function(){try{me.options.imageUrl&&me.setOpt("serverUrl",me.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var configUrl=me.getActionUrl("config"),isJsonp=utils.isCrossDomainUrl(configUrl);me._serverConfigLoaded=!1,configUrl&&UE.ajax.request(configUrl,{method:"GET",dataType:isJsonp?"jsonp":"",onsuccess:function(r){try{var config=isJsonp?r:eval("("+r.responseText+")");utils.extend(me.options,config),me.fireEvent("serverConfigLoaded"),me._serverConfigLoaded=!0}catch(e){showErrorMsg(me.getLang("loadconfigFormatError"))}},onerror:function(){showErrorMsg(me.getLang("loadconfigHttpError"))}})}catch(e){showErrorMsg(me.getLang("loadconfigError"))}})},UE.Editor.prototype.isServerConfigLoaded=function(){var e=this;return e._serverConfigLoaded||!1},UE.Editor.prototype.afterConfigReady=function(e){if(e&&utils.isFunction(e)){var t=this,n=function(){e.apply(t,arguments),t.removeListener("serverConfigLoaded",n)};t.isServerConfigLoaded()?e.call(t,"serverConfigLoaded"):t.addListener("serverConfigLoaded",n)}}}(),UE.ajax=function(){function e(e){var t=[];for(var n in e)if("method"!=n&&"timeout"!=n&&"async"!=n&&"dataType"!=n&&"callback"!=n&&void 0!=e[n]&&null!=e[n])if("function"!=(typeof e[n]).toLowerCase()&&"object"!=(typeof e[n]).toLowerCase())t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));else if(utils.isArray(e[n]))for(var i=0;i<e[n].length;i++)t.push(encodeURIComponent(n)+"[]="+encodeURIComponent(e[n][i]));return t.join("&")}function t(t,n){var i=o(),r=!1,a={method:"POST",timeout:5e3,async:!0,data:{},onsuccess:function(){},onerror:function(){}};if("object"==typeof t&&(n=t,t=n.url),i&&t){var s=n?utils.extend(a,n):a,l=e(s);utils.isEmptyObject(s.data)||(l+=(l?"&":"")+e(s.data));var c=setTimeout(function(){4!=i.readyState&&(r=!0,i.abort(),clearTimeout(c))},s.timeout),u=s.method.toUpperCase(),d=t+(-1==t.indexOf("?")?"?":"&")+("POST"==u?"":l+"&noCache="+ +new Date);i.open(u,d,s.async),i.onreadystatechange=function(){4==i.readyState&&(r||200!=i.status?s.onerror(i):s.onsuccess(i))},"POST"==u?(i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(l)):i.send(null)}}function n(t,n){function i(e,t,n){e.setAttribute("type","text/javascript"),e.setAttribute("defer","defer"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)}function r(e){return function(){try{if(e)u.onerror&&u.onerror();else try{clearTimeout(a),l.apply(window,arguments)}catch(t){}}catch(n){u.onerror&&u.onerror.call(window,n)}finally{u.oncomplete&&u.oncomplete.apply(window,arguments),c.parentNode&&c.parentNode.removeChild(c),window[o]=null;try{delete window[o]}catch(t){}}}}var o,a,s,l=n.onsuccess||function(){},c=document.createElement("SCRIPT"),u=n||{},d=u.charset,f=u.jsonp||"callback",h=u.timeOut||0,p=new RegExp("(\\?|&)"+f+"=([^&]*)");utils.isFunction(l)?(o="bd__editor__"+Math.floor(2147483648*Math.random()).toString(36),window[o]=r(0)):utils.isString(l)?o=l:(s=p.exec(t))&&(o=s[2]),t=t.replace(p,"$1"+f+"="+o),t.search(p)<0&&(t+=(t.indexOf("?")<0?"?":"&")+f+"="+o);var m=e(n);utils.isEmptyObject(n.data)||(m+=(m?"&":"")+e(n.data)),m&&(t=t.replace(/\?/,"?"+m+"&")),c.onerror=r(1),h&&(a=setTimeout(r(1),h)),i(c,t,d)}var i="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP"),i="ActiveXObject('Msxml2.XMLHTTP')"}catch(r){try{new ActiveXObject("Microsoft.XMLHTTP"),i="ActiveXObject('Microsoft.XMLHTTP')"}catch(r){}}var o=new Function("return new "+i);return{request:function(e,i){i&&"jsonp"==i.dataType?n(e,i):t(e,i)},getJSONP:function(e,t,i){var r={data:t,oncomplete:i};n(e,r)}}}();var filterWord=UE.filterWord=function(){function e(e){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(e)}function t(e){return e=e.replace(/[\d.]+\w+/g,function(e){return utils.transUnitToPx(e)})}function n(e){return e.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(e){if(browser.opera)return"";try{if(/Bitmap/i.test(e))return"";var n=e.match(/width:([ \d.]*p[tx])/i)[1],i=e.match(/height:([ \d.]*p[tx])/i)[1],r=e.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+t(n)+'" height="'+t(i)+'" src="'+r+'" />'}catch(o){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(e,t,n,i){return"class"==t&&"MsoListParagraph"==i?e:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(e,t,n){return n.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(e,n,i,r){for(var o,a=[],s=r.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").replace(/[\d.]+(cm|pt)/g,function(e){return utils.transUnitToPx(e)}).split(/;\s*/g),l=0;o=s[l];l++){var c,u,d=o.split(":");if(2==d.length){if(c=d[0].toLowerCase(),u=d[1].toLowerCase(),/^(background)\w*/.test(c)&&0==u.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(c)&&/^0\w+$/.test(u))continue;switch(c){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(n)||(a[l]=c.replace(/^mso-|-alt$/g,"")+":"+t(u));continue;case"horiz-align":a[l]="text-align:"+u;continue;case"vert-align":a[l]="vertical-align:"+u;continue;case"font-color":case"mso-foreground":a[l]="color:"+u;continue;case"mso-background":case"mso-highlight":a[l]="background:"+u;continue;case"mso-default-height":a[l]="min-height:"+t(u);continue;case"mso-default-width":a[l]="min-width:"+t(u);continue;case"mso-padding-between-alt":a[l]="border-collapse:separate;border-spacing:"+t(u);continue;case"text-line-through":"single"!=u&&"double"!=u||(a[l]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==u&&(a[l]="display:none");continue;case"margin":if(!/[1-9]/.test(u))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(c)||/text\-indent|padding|margin/.test(c)&&/\-[\d.]+/.test(u))continue;a[l]=c+":"+d[1]}}return n+(a.length?' style="'+a.join(";").replace(/;{2,}/g,";")+'"':"")})}return function(t){return e(t)?n(t):t}}();!function(){function e(e,t,n){return e.push(h),t+(n?1:-1)}function t(e,t){for(var n=0;t>n;n++)e.push(f)}function n(a,s,l,c){switch(a.type){case"root":for(var u,d=0;u=a.children[d++];)l&&"element"==u.type&&!dtd.$inlineWithA[u.tagName]&&d>1&&(e(s,c,!0),t(s,c)),n(u,s,l,c);break;case"text":i(a,s);break;case"element":r(a,s,l,c);break;case"comment":o(a,s,l)}return s}function i(e,t){"pre"==e.parentNode.tagName?t.push(e.data):t.push(d[e.parentNode.tagName]?utils.html(e.data):e.data.replace(/[ ]{2}/g," &nbsp;"))}function r(i,r,o,a){var s="";if(i.attrs){s=[];var l=i.attrs;for(var c in l)s.push(c+(void 0!==l[c]?'="'+(u[c]?utils.html(l[c]).replace(/["]/g,function(e){return"&quot;"}):utils.unhtml(l[c]))+'"':""));s=s.join(" ")}if(r.push("<"+i.tagName+(s?" "+s:"")+(dtd.$empty[i.tagName]?"/":"")+">"),o&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length&&(a=e(r,a,!0),t(r,a)),i.children&&i.children.length)for(var d,f=0;d=i.children[f++];)o&&"element"==d.type&&!dtd.$inlineWithA[d.tagName]&&f>1&&(e(r,a),t(r,a)),n(d,r,o,a);dtd.$empty[i.tagName]||(o&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length&&(a=e(r,a),t(r,a)),r.push("</"+i.tagName+">"))}function o(e,t){t.push("<!--"+e.data+"-->")}function a(e,t){var n;if("element"==e.type&&e.getAttr("id")==t)return e;if(e.children&&e.children.length)for(var i,r=0;i=e.children[r++];)if(n=a(i,t))return n}function s(e,t,n){if("element"==e.type&&e.tagName==t&&n.push(e),e.children&&e.children.length)for(var i,r=0;i=e.children[r++];)s(i,t,n)}function l(e,t){if(e.children&&e.children.length)for(var n,i=0;n=e.children[i];)l(n,t),
n.parentNode&&(n.children&&n.children.length&&t(n),n.parentNode&&i++);else t(e)}var c=UE.uNode=function(e){this.type=e.type,this.data=e.data,this.tagName=e.tagName,this.parentNode=e.parentNode,this.attrs=e.attrs||{},this.children=e.children},u={href:1,src:1,_src:1,_href:1,cdata_data:1},d={style:1,script:1},f="    ",h="\n";c.createElement=function(e){return/[<>]/.test(e)?UE.htmlparser(e).children[0]:new c({type:"element",children:[],tagName:e})},c.createText=function(e,t){return new UE.uNode({type:"text",data:t?e:utils.unhtml(e||"")})},c.prototype={toHtml:function(e){var t=[];return n(this,t,e,0),t.join("")},innerHTML:function(e){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(utils.isString(e)){if(this.children)for(var t,n=0;t=this.children[n++];)t.parentNode=null;this.children=[];for(var t,i=UE.htmlparser(e),n=0;t=i.children[n++];)this.children.push(t),t.parentNode=this;return this}var i=new UE.uNode({type:"root",children:this.children});return i.toHtml()},innerText:function(e,t){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(e){if(this.children)for(var n,i=0;n=this.children[i++];)n.parentNode=null;return this.children=[],this.appendChild(c.createText(e,t)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var e,t=this.parentNode,n=0;e=t.children[n];n++)if(e===this)return 0==n?null:t.children[n-1]},nextSibling:function(){for(var e,t=this.parentNode,n=0;e=t.children[n++];)if(e===this)return t.children[n]},replaceChild:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i,1,e),t.parentNode=null,e.parentNode=this,e}},appendChild:function(e){if("root"==this.type||"element"==this.type&&!dtd.$empty[this.tagName]){this.children||(this.children=[]),e.parentNode&&e.parentNode.removeChild(e);for(var t,n=0;t=this.children[n];n++)if(t===e){this.children.splice(n,1);break}return this.children.push(e),e.parentNode=this,e}},insertBefore:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i,0,e),e.parentNode=this,e}},insertAfter:function(e,t){if(this.children){e.parentNode&&e.parentNode.removeChild(e);for(var n,i=0;n=this.children[i];i++)if(n===t)return this.children.splice(i+1,0,e),e.parentNode=this,e}},removeChild:function(e,t){if(this.children)for(var n,i=0;n=this.children[i];i++)if(n===e){if(this.children.splice(i,1),n.parentNode=null,t&&n.children&&n.children.length)for(var r,o=0;r=n.children[o];o++)this.children.splice(i+o,0,r),r.parentNode=this;return n}},getAttr:function(e){return this.attrs&&this.attrs[e.toLowerCase()]},setAttr:function(e,t){if(!e)return void delete this.attrs;if(this.attrs||(this.attrs={}),utils.isObject(e))for(var n in e)e[n]?this.attrs[n.toLowerCase()]=e[n]:delete this.attrs[n];else t?this.attrs[e.toLowerCase()]=t:delete this.attrs[e]},getIndex:function(){for(var e,t=this.parentNode,n=0;e=t.children[n];n++)if(e===this)return n;return-1},getNodeById:function(e){var t;if(this.children&&this.children.length)for(var n,i=0;n=this.children[i++];)if(t=a(n,e))return t},getNodesByTagName:function(e){e=utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");var t=[],n=this;return utils.each(e,function(e){if(n.children&&n.children.length)for(var i,r=0;i=n.children[r++];)s(i,e,t)}),t},getStyle:function(e){var t=this.getAttr("style");if(!t)return"";var n=new RegExp("(^|;)\\s*"+e+":([^;]+)","i"),i=t.match(n);return i&&i[0]?i[2]:""},setStyle:function(e,t){function n(e,t){var n=new RegExp("(^|;)\\s*"+e+":([^;]+;?)","gi");i=i.replace(n,"$1"),t&&(i=e+":"+utils.unhtml(t)+";"+i)}var i=this.getAttr("style");if(i||(i=""),utils.isObject(e))for(var r in e)n(r,e[r]);else n(e,t);this.setAttr("style",utils.trim(i))},traversal:function(e){return this.children&&this.children.length&&l(this,e),this}}}();var htmlparser=UE.htmlparser=function(e,t){function n(e,t){if(f[e.tagName]){var n=u.createElement(f[e.tagName]);e.appendChild(n),n.appendChild(u.createText(t)),e=n}else e.appendChild(u.createText(t))}function i(e,t,n){var r;if(r=d[t]){for(var o,s=e;"root"!=s.type;){if(utils.isArray(r)?-1!=utils.indexOf(r,s.tagName):r==s.tagName){e=s,o=!0;break}s=s.parentNode}o||(e=i(e,utils.isArray(r)?r[0]:r))}var l=new u({parentNode:e,type:"element",tagName:t.toLowerCase(),children:dtd.$empty[t]?null:[]});if(n){for(var f,h={};f=a.exec(n);)h[f[1].toLowerCase()]=c[f[1].toLowerCase()]?f[2]||f[3]||f[4]:utils.unhtml(f[2]||f[3]||f[4]);l.attrs=h}return e.children.push(l),dtd.$empty[t]?e:l}function r(e,t){e.children.push(new u({type:"comment",data:t,parentNode:e}))}var o=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,a=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,s={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};e=e.replace(new RegExp(domUtils.fillChar,"g"),""),t||(e=e.replace(new RegExp("[\\r\\t\\n"+(t?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(t?"":" ")+"]*","g"),function(e,n){return n&&s[n.toLowerCase()]?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\n"+(t?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(t?"":" ")+"]+$"),"")}));for(var l,c={href:1,src:1},u=UE.uNode,d={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},f={ol:"li",ul:"li"},h=0,p=0,m=new u({type:"root",children:[]}),g=m;l=o.exec(e);){h=l.index;try{if(h>p&&n(g,e.slice(p,h)),l[3])dtd.$cdata[g.tagName]?n(g,l[0]):g=i(g,l[3].toLowerCase(),l[4]);else if(l[1]){if("root"!=g.type)if(dtd.$cdata[g.tagName]&&!dtd.$cdata[l[1]])n(g,l[0]);else{for(var v=g;"element"==g.type&&g.tagName!=l[1].toLowerCase();)if(g=g.parentNode,"root"==g.type)throw g=v,"break";g=g.parentNode}}else l[2]&&r(g,l[2])}catch(y){}p=o.lastIndex}return p<e.length&&n(g,e.slice(p)),m},filterNode=UE.filterNode=function(){function e(t,n){switch(t.type){case"text":break;case"element":var i;if(i=n[t.tagName])if("-"===i)t.parentNode.removeChild(t);else if(utils.isFunction(i)){var r=t.parentNode,o=t.getIndex();if(i(t),t.parentNode){if(t.children)for(var a,s=0;a=t.children[s];)e(a,n),a.parentNode&&s++}else for(var a,s=o;a=r.children[s];)e(a,n),a.parentNode&&s++}else{var l=i.$;if(l&&t.attrs){var c,u={};for(var d in l){if(c=t.getAttr(d),"style"==d&&utils.isArray(l[d])){var f=[];utils.each(l[d],function(e){var n;(n=t.getStyle(e))&&f.push(e+":"+n)}),c=f.join(";")}c&&(u[d]=c)}t.attrs=u}if(t.children)for(var a,s=0;a=t.children[s];)e(a,n),a.parentNode&&s++}else if(dtd.$cdata[t.tagName])t.parentNode.removeChild(t);else{var r=t.parentNode,o=t.getIndex();t.parentNode.removeChild(t,!0);for(var a,s=o;a=r.children[s];)e(a,n),a.parentNode&&s++}break;case"comment":t.parentNode.removeChild(t)}}return function(t,n){if(utils.isEmptyObject(n))return t;var i;(i=n["-"])&&utils.each(i.split(" "),function(e){n[e]="-"});for(var r,o=0;r=t.children[o];)e(r,n),r.parentNode&&o++;return t}}();UE.plugin=function(){var e={};return{register:function(t,n,i,r){i&&utils.isFunction(i)&&(r=i,i=null),e[t]={optionName:i||t,execFn:n,afterDisabled:r}},load:function(t){utils.each(e,function(e){var n=e.execFn.call(t);t.options[e.optionName]!==!1?n&&utils.each(n,function(e,n){switch(n.toLowerCase()){case"shortcutkey":t.addshortcutkey(e);break;case"bindevents":utils.each(e,function(e,n){t.addListener(n,e)});break;case"bindmultievents":utils.each(utils.isArray(e)?e:[e],function(e){var n=utils.trim(e.type).split(/\s+/);utils.each(n,function(n){t.addListener(n,e.handler)})});break;case"commands":utils.each(e,function(e,n){t.commands[n]=e});break;case"outputrule":t.addOutputRule(e);break;case"inputrule":t.addInputRule(e);break;case"defaultoptions":t.setOpt(e)}}):e.afterDisabled&&e.afterDisabled.call(t)}),utils.each(UE.plugins,function(e){e.call(t)})},run:function(t,n){var i=e[t];i&&i.exeFn.call(n)}}}();var keymap=UE.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,"=":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78},LocalStorage=UE.LocalStorage=function(){function e(){var e=document.createElement("div");return e.style.display="none",e.addBehavior?(e.addBehavior("#default#userdata"),{getItem:function(t){var i=null;try{document.body.appendChild(e),e.load(n),i=e.getAttribute(t),document.body.removeChild(e)}catch(r){}return i},setItem:function(t,i){document.body.appendChild(e),e.setAttribute(t,i),e.save(n),document.body.removeChild(e)},removeItem:function(t){document.body.appendChild(e),e.removeAttribute(t),e.save(n),document.body.removeChild(e)}}):null}var t=window.localStorage||e()||null,n="localStorage";return{saveLocalData:function(e,n){return!(!t||!n)&&(t.setItem(e,n),!0)},getLocalData:function(e){return t?t.getItem(e):null},removeItem:function(e){t&&t.removeItem(e)}}}();!function(){var e="ueditor_preference";UE.Editor.prototype.setPreferences=function(t,n){var i={};utils.isString(t)?i[t]=n:i=t;var r=LocalStorage.getLocalData(e);r&&(r=utils.str2json(r))?utils.extend(r,i):r=i,r&&LocalStorage.saveLocalData(e,utils.json2str(r))},UE.Editor.prototype.getPreferences=function(t){var n=LocalStorage.getLocalData(e);return n&&(n=utils.str2json(n))?t?n[t]:n:null},UE.Editor.prototype.removePreferences=function(t){var n=LocalStorage.getLocalData(e);n&&(n=utils.str2json(n))&&(n[t]=void 0,delete n[t]),n&&LocalStorage.saveLocalData(e,utils.json2str(n))}}(),UE.plugins.defaultfilter=function(){var e=this;e.setOpt({allowDivTransToP:!0,disabledTableInTable:!0}),e.addInputRule(function(t){function n(e){for(;e&&"element"==e.type;){if("td"==e.tagName)return!0;e=e.parentNode}return!1}var i,r=this.options.allowDivTransToP;t.traversal(function(t){if("element"==t.type){if(!dtd.$cdata[t.tagName]&&e.options.autoClearEmptyNode&&dtd.$inline[t.tagName]&&!dtd.$empty[t.tagName]&&(!t.attrs||utils.isEmptyObject(t.attrs)))return void(t.firstChild()?"span"!=t.tagName||t.attrs&&!utils.isEmptyObject(t.attrs)||t.parentNode.removeChild(t,!0):t.parentNode.removeChild(t));switch(t.tagName){case"style":case"script":t.setAttr({cdata_tag:t.tagName,cdata_data:t.innerHTML()||"",_ue_custom_node_:"true"}),t.tagName="div",t.innerHTML("");break;case"a":(i=t.getAttr("href"))&&t.setAttr("_href",i);break;case"img":if((i=t.getAttr("src"))&&/^data:/.test(i)){t.parentNode.removeChild(t);break}t.setAttr("_src",t.getAttr("src"));break;case"span":browser.webkit&&(i=t.getStyle("white-space"))&&/nowrap|normal/.test(i)&&(t.setStyle("white-space",""),e.options.autoClearEmptyNode&&utils.isEmptyObject(t.attrs)&&t.parentNode.removeChild(t,!0)),i=t.getAttr("id"),i&&/^_baidu_bookmark_/i.test(i)&&t.parentNode.removeChild(t);break;case"p":(i=t.getAttr("align"))&&(t.setAttr("align"),t.setStyle("text-align",i)),utils.each(t.children,function(e){if("element"==e.type&&"p"==e.tagName){var n=e.nextSibling();t.parentNode.insertAfter(e,t);for(var i=e;n;){var r=n.nextSibling();t.parentNode.insertAfter(n,i),i=n,n=r}return!1}}),t.firstChild()||t.innerHTML(browser.ie?"&nbsp;":"<br/>");break;case"div":if(t.getAttr("cdata_tag"))break;if(i=t.getAttr("class"),i&&/^line number\d+/.test(i))break;if(!r)break;for(var o,a=UE.uNode.createElement("p");o=t.firstChild();)"text"!=o.type&&UE.dom.dtd.$block[o.tagName]?a.firstChild()?(t.parentNode.insertBefore(a,t),a=UE.uNode.createElement("p")):t.parentNode.insertBefore(o,t):a.appendChild(o);a.firstChild()&&t.parentNode.insertBefore(a,t),t.parentNode.removeChild(t);break;case"dl":t.tagName="ul";break;case"dt":case"dd":t.tagName="li";break;case"li":var s=t.getAttr("class");s&&/list\-/.test(s)||t.setAttr();var l=t.getNodesByTagName("ol ul");UE.utils.each(l,function(e){t.parentNode.insertAfter(e,t)});break;case"td":case"th":case"caption":t.children&&t.children.length||t.appendChild(browser.ie11below?UE.uNode.createText(" "):UE.uNode.createElement("br"));break;case"table":e.options.disabledTableInTable&&n(t)&&(t.parentNode.insertBefore(UE.uNode.createText(t.innerText()),t),t.parentNode.removeChild(t))}}})}),e.addOutputRule(function(t){var n;t.traversal(function(t){if("element"==t.type){if(e.options.autoClearEmptyNode&&dtd.$inline[t.tagName]&&!dtd.$empty[t.tagName]&&(!t.attrs||utils.isEmptyObject(t.attrs)))return void(t.firstChild()?"span"!=t.tagName||t.attrs&&!utils.isEmptyObject(t.attrs)||t.parentNode.removeChild(t,!0):t.parentNode.removeChild(t));switch(t.tagName){case"div":(n=t.getAttr("cdata_tag"))&&(t.tagName=n,t.appendChild(UE.uNode.createText(t.getAttr("cdata_data"))),t.setAttr({cdata_tag:"",cdata_data:"",_ue_custom_node_:""}));break;case"a":(n=t.getAttr("_href"))&&t.setAttr({href:utils.html(n),_href:""});break;case"span":n=t.getAttr("id"),n&&/^_baidu_bookmark_/i.test(n)&&t.parentNode.removeChild(t);break;case"img":(n=t.getAttr("_src"))&&t.setAttr({src:t.getAttr("_src"),_src:""})}}})})},UE.commands.inserthtml={execCommand:function(e,t,n){var i,r,o=this;if(t&&o.fireEvent("beforeinserthtml",t)!==!0){if(i=o.selection.getRange(),r=i.document.createElement("div"),r.style.display="inline",!n){var a=UE.htmlparser(t);o.options.filterRules&&UE.filterNode(a,o.options.filterRules),o.filterInputRule(a),t=a.toHtml()}if(r.innerHTML=utils.trim(t),!i.collapsed){var s=i.startContainer;if(domUtils.isFillChar(s)&&i.setStartBefore(s),s=i.endContainer,domUtils.isFillChar(s)&&i.setEndAfter(s),i.txtToElmBoundary(),i.endContainer&&1==i.endContainer.nodeType&&(s=i.endContainer.childNodes[i.endOffset],s&&domUtils.isBr(s)&&i.setEndAfter(s)),0==i.startOffset&&(s=i.startContainer,domUtils.isBoundaryNode(s,"firstChild")&&(s=i.endContainer,i.endOffset==(3==s.nodeType?s.nodeValue.length:s.childNodes.length)&&domUtils.isBoundaryNode(s,"lastChild")&&(o.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",i.setStart(o.body.firstChild,0).collapse(!0)))),!i.collapsed&&i.deleteContents(),1==i.startContainer.nodeType){var l,c=i.startContainer.childNodes[i.startOffset];if(c&&domUtils.isBlockElm(c)&&(l=c.previousSibling)&&domUtils.isBlockElm(l)){for(i.setEnd(l,l.childNodes.length).collapse();c.firstChild;)l.appendChild(c.firstChild);domUtils.remove(c)}}}var c,u,l,d,f,h=0;i.inFillChar()&&(c=i.startContainer,domUtils.isFillChar(c)?(i.setStartBefore(c).collapse(!0),domUtils.remove(c)):domUtils.isFillChar(c,!0)&&(c.nodeValue=c.nodeValue.replace(fillCharReg,""),i.startOffset--,i.collapsed&&i.collapse(!0)));var p=domUtils.findParentByTagName(i.startContainer,"li",!0);if(p){for(var m,g;c=r.firstChild;){for(;c&&(3==c.nodeType||!domUtils.isBlockElm(c)||"HR"==c.tagName);)m=c.nextSibling,i.insertNode(c).collapse(),g=c,c=m;if(c)if(/^(ol|ul)$/i.test(c.tagName)){for(;c.firstChild;)g=c.firstChild,domUtils.insertAfter(p,c.firstChild),p=p.nextSibling;domUtils.remove(c)}else{var v;m=c.nextSibling,v=o.document.createElement("li"),domUtils.insertAfter(p,v),v.appendChild(c),g=c,c=m,p=v}}p=domUtils.findParentByTagName(i.startContainer,"li",!0),domUtils.isEmptyBlock(p)&&domUtils.remove(p),g&&i.setStartAfter(g).collapse(!0).select(!0)}else{for(;c=r.firstChild;){if(h){for(var y=o.document.createElement("p");c&&(3==c.nodeType||!dtd.$block[c.tagName]);)f=c.nextSibling,y.appendChild(c),c=f;y.firstChild&&(c=y)}if(i.insertNode(c),f=c.nextSibling,!h&&c.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(c)&&(u=domUtils.findParent(c,function(e){return domUtils.isBlockElm(e)}),u&&"body"!=u.tagName.toLowerCase()&&(!dtd[u.tagName][c.nodeName]||c.parentNode!==u))){if(dtd[u.tagName][c.nodeName])for(d=c.parentNode;d!==u;)l=d,d=d.parentNode;else l=u;domUtils.breakParent(c,l||d);var l=c.previousSibling;domUtils.trimWhiteTextNode(l),l.childNodes.length||domUtils.remove(l),!browser.ie&&(m=c.nextSibling)&&domUtils.isBlockElm(m)&&m.lastChild&&!domUtils.isBr(m.lastChild)&&m.appendChild(o.document.createElement("br")),h=1}var m=c.nextSibling;if(!r.firstChild&&m&&domUtils.isBlockElm(m)){i.setStart(m,0).collapse(!0);break}i.setEndAfter(c).collapse()}if(c=i.startContainer,f&&domUtils.isBr(f)&&domUtils.remove(f),domUtils.isBlockElm(c)&&domUtils.isEmptyNode(c))if(f=c.nextSibling)domUtils.remove(c),1==f.nodeType&&dtd.$block[f.tagName]&&i.setStart(f,0).collapse(!0).shrinkBoundary();else try{c.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(b){i.setStartBefore(c),domUtils.remove(c)}try{i.select(!0)}catch(b){}}setTimeout(function(){i=o.selection.getRange(),i.scrollToView(o.autoHeightEnabled,o.autoHeightEnabled?domUtils.getXY(o.iframe).y:0),o.fireEvent("afterinserthtml",t)},200)}}},UE.plugins.autotypeset=function(){function e(e,t){return e&&3!=e.nodeType?domUtils.isBr(e)?1:e&&e.parentNode&&d[e.tagName.toLowerCase()]?a&&a.contains(e)||e.getAttribute("pagebreak")?0:t?!domUtils.isEmptyBlock(e):domUtils.isEmptyBlock(e,new RegExp("[\\s"+domUtils.fillChar+"]","g")):void 0:0}function t(e){e.style.cssText||(domUtils.removeAttributes(e,["style"]),"span"==e.tagName.toLowerCase()&&domUtils.hasNoAttributes(e)&&domUtils.remove(e,!0))}function n(n,o){var s,d=this;if(o){if(!l.pasteFilter)return;s=d.document.createElement("div"),s.innerHTML=o.html}else s=d.document.body;for(var f,h=domUtils.getElementsByTagName(s,"*"),p=0;f=h[p++];)if(d.fireEvent("excludeNodeinautotype",f)!==!0){if(l.clearFontSize&&f.style.fontSize&&(domUtils.removeStyle(f,"font-size"),t(f)),l.clearFontFamily&&f.style.fontFamily&&(domUtils.removeStyle(f,"font-family"),t(f)),e(f)){if(l.mergeEmptyline)for(var m,g=f.nextSibling,v=domUtils.isBr(f);e(g)&&(m=g,g=m.nextSibling,!v||g&&(!g||domUtils.isBr(g)));)domUtils.remove(m);if(l.removeEmptyline&&domUtils.inDoc(f,s)&&!u[f.parentNode.tagName.toLowerCase()]){if(domUtils.isBr(f)&&(g=f.nextSibling,g&&!domUtils.isBr(g)))continue;domUtils.remove(f);continue}}if(e(f,!0)&&"SPAN"!=f.tagName&&(l.indent&&(f.style.textIndent=l.indentValue),l.textAlign&&(f.style.textAlign=l.textAlign)),l.removeClass&&f.className&&!c[f.className.toLowerCase()]){if(a&&a.contains(f))continue;domUtils.removeAttributes(f,["class"])}if(l.imageBlockLine&&"img"==f.tagName.toLowerCase()&&!f.getAttribute("emotion"))if(o){var y=f;switch(l.imageBlockLine){case"left":case"right":case"none":for(var m,b,g,C=y.parentNode;dtd.$inline[C.tagName]||"A"==C.tagName;)C=C.parentNode;if(m=C,"P"==m.tagName&&"center"==domUtils.getStyle(m,"text-align")&&!domUtils.isBody(m)&&1==domUtils.getChildCount(m,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(b=m.previousSibling,g=m.nextSibling,b&&g&&1==b.nodeType&&1==g.nodeType&&b.tagName==g.tagName&&domUtils.isBlockElm(b)){for(b.appendChild(m.firstChild);g.firstChild;)b.appendChild(g.firstChild);domUtils.remove(m),domUtils.remove(g)}else domUtils.setStyle(m,"text-align","");domUtils.setStyle(y,"float",l.imageBlockLine);break;case"center":if("center"!=d.queryCommandValue("imagefloat")){for(C=y.parentNode,domUtils.setStyle(y,"float","none"),m=y;C&&1==domUtils.getChildCount(C,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[C.tagName]||"A"==C.tagName);)m=C,C=C.parentNode;var w=d.document.createElement("p");domUtils.setAttributes(w,{style:"text-align:center"}),m.parentNode.insertBefore(w,m),w.appendChild(m),domUtils.setStyle(m,"float","")}}}else{var x=d.selection.getRange();x.selectNode(f).select(),d.execCommand("imagefloat",l.imageBlockLine)}l.removeEmptyNode&&l.removeTagNames[f.tagName.toLowerCase()]&&domUtils.hasNoAttributes(f)&&domUtils.isEmptyBlock(f)&&domUtils.remove(f)}if(l.tobdc){var $=UE.htmlparser(s.innerHTML);$.traversal(function(e){"text"==e.type&&(e.data=r(e.data))}),s.innerHTML=$.toHtml()}if(l.bdc2sb){var $=UE.htmlparser(s.innerHTML);$.traversal(function(e){"text"==e.type&&(e.data=i(e.data))}),s.innerHTML=$.toHtml()}o&&(o.html=s.innerHTML)}function i(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);t+=i>=65281&&65373>=i?String.fromCharCode(e.charCodeAt(n)-65248):12288==i?String.fromCharCode(e.charCodeAt(n)-12288+32):e.charAt(n)}return t}function r(e){e=utils.html(e);for(var t="",n=0;n<e.length;n++)t+=32==e.charCodeAt(n)?String.fromCharCode(12288):e.charCodeAt(n)<127?String.fromCharCode(e.charCodeAt(n)+65248):e.charAt(n);return t}function o(){var e=s.getPreferences("autotypeset");utils.extend(s.options.autotypeset,e)}this.setOpt({autotypeset:{mergeEmptyline:!0,removeClass:!0,removeEmptyline:!1,textAlign:"left",imageBlockLine:"center",pasteFilter:!1,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:utils.extend({div:1},dtd.$removeEmpty),indent:!1,indentValue:"2em",bdc2sb:!1,tobdc:!1}});var a,s=this,l=s.options.autotypeset,c={selectTdClass:1,pagebreak:1,anchorclass:1},u={li:1},d={div:1,p:1,blockquote:1,center:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,span:1};l&&(o(),l.pasteFilter&&s.addListener("beforepaste",n),s.commands.autotypeset={execCommand:function(){s.removeListener("beforepaste",n),l.pasteFilter&&s.addListener("beforepaste",n),n.call(s)}})},UE.plugin.register("autosubmit",function(){return{shortcutkey:{autosubmit:"ctrl+13"},commands:{autosubmit:{execCommand:function(){var e=this,t=domUtils.findParentByTagName(e.iframe,"form",!1);if(t){if(e.fireEvent("beforesubmit")===!1)return;e.sync(),t.submit()}}}}}}),UE.plugin.register("background",function(){function e(e){var t={},n=e.split(";");return utils.each(n,function(e){var n=e.indexOf(":"),i=utils.trim(e.substr(0,n)).toLowerCase();i&&(t[i]=utils.trim(e.substr(n+1)||""))}),t}function t(e){if(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]+"; ");utils.cssRule(r,t.length?"body{"+t.join("")+"}":"",i.document)}else utils.cssRule(r,"",i.document)}var n,i=this,r="editor_background",o=new RegExp("body[\\s]*\\{(.+)\\}","i"),a=i.hasContents;return i.hasContents=function(){return!!i.queryCommandValue("background")||a.apply(i,arguments)},{bindEvents:{getAllHtml:function(e,t){var n=this.body,r=domUtils.getComputedStyle(n,"background-image"),o="";o=r.indexOf(i.options.imagePath)>0?r.substring(r.indexOf(i.options.imagePath),r.length-1).replace(/"|\(|\)/gi,""):"none"!=r?r.replace(/url\("?|"?\)/gi,""):"";var a='<style type="text/css">body{',s={"background-color":domUtils.getComputedStyle(n,"background-color")||"#ffffff","background-image":o?"url("+o+")":"","background-repeat":domUtils.getComputedStyle(n,"background-repeat")||"","background-position":browser.ie?domUtils.getComputedStyle(n,"background-position-x")+" "+domUtils.getComputedStyle(n,"background-position-y"):domUtils.getComputedStyle(n,"background-position"),height:domUtils.getComputedStyle(n,"height")};for(var l in s)s.hasOwnProperty(l)&&(a+=l+":"+s[l]+"; ");a+="}</style> ",t.push(a)},aftersetcontent:function(){0==n&&t()}},inputRule:function(i){n=!1,utils.each(i.getNodesByTagName("p"),function(i){var r=i.getAttr("data-background");r&&(n=!0,t(e(r)),i.parentNode.removeChild(i))})},outputRule:function(e){var t=this,n=(utils.cssRule(r,t.document)||"").replace(/[\n\r]+/g,"").match(o);n&&e.appendChild(UE.uNode.createElement('<p style="display:none;" data-background="'+utils.trim(n[1].replace(/"/g,"").replace(/[\s]+/g," "))+'"><br/></p>'))},commands:{background:{execCommand:function(e,n){t(n)},queryCommandValue:function(){var t=this,n=(utils.cssRule(r,t.document)||"").replace(/[\n\r]+/g,"").match(o);return n?e(n[1]):null},notNeedUndo:!0}}}}),UE.commands.imagefloat={execCommand:function(e,t){var n=this,i=n.selection.getRange();if(!i.collapsed){var r=i.getClosedNode();if(r&&"IMG"==r.tagName)switch(t){case"left":case"right":case"none":for(var o,a,s,l=r.parentNode;dtd.$inline[l.tagName]||"A"==l.tagName;)l=l.parentNode;if(o=l,"P"==o.tagName&&"center"==domUtils.getStyle(o,"text-align")){if(!domUtils.isBody(o)&&1==domUtils.getChildCount(o,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)}))if(a=o.previousSibling,s=o.nextSibling,a&&s&&1==a.nodeType&&1==s.nodeType&&a.tagName==s.tagName&&domUtils.isBlockElm(a)){for(a.appendChild(o.firstChild);s.firstChild;)a.appendChild(s.firstChild);domUtils.remove(o),domUtils.remove(s)}else domUtils.setStyle(o,"text-align","");i.selectNode(r).select()}domUtils.setStyle(r,"float","none"==t?"":t),"none"==t&&domUtils.removeAttributes(r,"align");break;case"center":if("center"!=n.queryCommandValue("imagefloat")){for(l=r.parentNode,domUtils.setStyle(r,"float",""),domUtils.removeAttributes(r,"align"),o=r;l&&1==domUtils.getChildCount(l,function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)})&&(dtd.$inline[l.tagName]||"A"==l.tagName);)o=l,l=l.parentNode;i.setStartBefore(o).setCursor(!1),l=n.document.createElement("div"),l.appendChild(o),domUtils.setStyle(o,"float",""),n.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+l.innerHTML+"</p>"),o=n.document.getElementById("_img_parent_tmp"),o.removeAttribute("id"),o=o.firstChild,i.selectNode(o).select(),s=o.parentNode.nextSibling,s&&domUtils.isEmptyNode(s)&&domUtils.remove(s)}}}},queryCommandValue:function(){var e,t,n=this.selection.getRange();return n.collapsed?"none":(e=n.getClosedNode(),e&&1==e.nodeType&&"IMG"==e.tagName?(t=domUtils.getComputedStyle(e,"float")||e.getAttribute("align"),"none"==t&&(t="center"==domUtils.getComputedStyle(e.parentNode,"text-align")?"center":t),{left:1,right:1,center:1}[t]?t:"none"):"none")},queryCommandState:function(){var e,t=this.selection.getRange();return t.collapsed?-1:(e=t.getClosedNode(),e&&1==e.nodeType&&"IMG"==e.tagName?0:-1)}},UE.commands.insertimage={execCommand:function(e,t){function n(e){utils.each("width,height,border,hspace,vspace".split(","),function(t){e[t]&&(e[t]=parseInt(e[t],10)||0)}),utils.each("src,_src".split(","),function(t){e[t]&&(e[t]=utils.unhtmlForUrl(e[t]))}),utils.each("title,alt".split(","),function(t){e[t]&&(e[t]=utils.unhtml(e[t]))})}if(t=utils.isArray(t)?t:[t],t.length){var i=this,r=i.selection.getRange(),o=r.getClosedNode();if(i.fireEvent("beforeinsertimage",t)!==!0){if(!o||!/img/i.test(o.tagName)||"edui-faked-video"==o.className&&-1==o.className.indexOf("edui-upload-video")||o.getAttribute("word_img")){var a,s=[],l="";if(a=t[0],1==t.length)n(a),l='<img src="'+a.src+'" '+(a._src?' _src="'+a._src+'" ':"")+(a.width?'width="'+a.width+'" ':"")+(a.height?' height="'+a.height+'" ':"")+("left"==a.floatStyle||"right"==a.floatStyle?' style="float:'+a.floatStyle+';"':"")+(a.title&&""!=a.title?' title="'+a.title+'"':"")+(a.border&&"0"!=a.border?' border="'+a.border+'"':"")+(a.alt&&""!=a.alt?' alt="'+a.alt+'"':"")+(a.hspace&&"0"!=a.hspace?' hspace = "'+a.hspace+'"':"")+(a.vspace&&"0"!=a.vspace?' vspace = "'+a.vspace+'"':"")+"/>","center"==a.floatStyle&&(l='<p style="text-align: center">'+l+"</p>"),s.push(l);else for(var c=0;a=t[c++];)n(a),l="<p "+("center"==a.floatStyle?'style="text-align: center" ':"")+'><img src="'+a.src+'" '+(a.width?'width="'+a.width+'" ':"")+(a._src?' _src="'+a._src+'" ':"")+(a.height?' height="'+a.height+'" ':"")+' style="'+(a.floatStyle&&"center"!=a.floatStyle?"float:"+a.floatStyle+";":"")+(a.border||"")+'" '+(a.title?' title="'+a.title+'"':"")+" /></p>",s.push(l);i.execCommand("insertHtml",s.join(""))}else{var u=t.shift(),d=u.floatStyle;delete u.floatStyle,domUtils.setAttributes(o,u),i.execCommand("imagefloat",d),t.length>0&&(r.setStartAfter(o).setCursor(!1,!0),i.execCommand("insertimage",t))}i.fireEvent("afterinsertimage",t)}}}},UE.plugins.justify=function(){var e=domUtils.isBlockElm,t={left:1,right:1,center:1,justify:1},n=function(t,n){var i=t.createBookmark(),r=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};t.enlarge(!0);for(var o,a=t.createBookmark(),s=domUtils.getNextDomNode(a.start,!1,r),l=t.cloneRange();s&&!(domUtils.getPosition(s,a.end)&domUtils.POSITION_FOLLOWING);)if(3!=s.nodeType&&e(s))s=domUtils.getNextDomNode(s,!0,r);else{for(l.setStartBefore(s);s&&s!==a.end&&!e(s);)o=s,s=domUtils.getNextDomNode(s,!1,null,function(t){return!e(t)});l.setEndAfter(o);var c=l.getCommonAncestor();if(!domUtils.isBody(c)&&e(c))domUtils.setStyles(c,utils.isString(n)?{"text-align":n}:n),s=c;else{var u=t.document.createElement("p");domUtils.setStyles(u,utils.isString(n)?{"text-align":n}:n);var d=l.extractContents();u.appendChild(d),l.insertNode(u),s=u}s=domUtils.getNextDomNode(s,!1,r)}return t.moveToBookmark(a).moveToBookmark(i)};UE.commands.justify={execCommand:function(e,t){var i,r=this.selection.getRange();return r.collapsed&&(i=this.document.createTextNode("p"),r.insertNode(i)),n(r,t),i&&(r.setStartBefore(i).collapse(!0),domUtils.remove(i)),r.select(),!0},queryCommandValue:function(){var e=this.selection.getStart(),n=domUtils.getComputedStyle(e,"text-align");return t[n]?n:"left"},queryCommandState:function(){var e=this.selection.getStart(),t=e&&domUtils.findParentByTagName(e,["td","th","caption"],!0);return t?-1:0}}},UE.plugins.font=function(){function e(e){for(var t;(t=e.parentNode)&&"SPAN"==t.tagName&&1==domUtils.getChildCount(t,function(e){return!domUtils.isBookmarkNode(e)&&!domUtils.isBr(e)});)t.style.cssText+=e.style.cssText,domUtils.remove(e,!0),e=t}function t(e,t,n){if(a[t]&&(e.adjustmentBoundary(),!e.collapsed&&1==e.startContainer.nodeType)){var i=e.startContainer.childNodes[e.startOffset];if(i&&domUtils.isTagNode(i,"span")){var r=e.createBookmark();utils.each(domUtils.getElementsByTagName(i,"span"),function(e){e.parentNode&&!domUtils.isBookmarkNode(e)&&("backcolor"==t&&domUtils.getComputedStyle(e,"background-color").toLowerCase()===n||(domUtils.removeStyle(e,a[t]),0==e.style.cssText.replace(/^\s+$/,"").length&&domUtils.remove(e,!0)))}),e.moveToBookmark(r)}}}function n(n,i,r){var o,a=n.collapsed,s=n.createBookmark();if(a)for(o=s.start.parentNode;dtd.$inline[o.tagName];)o=o.parentNode;else o=domUtils.getCommonAncestor(s.start,s.end);utils.each(domUtils.getElementsByTagName(o,"span"),function(t){if(t.parentNode&&!domUtils.isBookmarkNode(t)){if(/\s*border\s*:\s*none;?\s*/i.test(t.style.cssText))return void(/^\s*border\s*:\s*none;?\s*$/.test(t.style.cssText)?domUtils.remove(t,!0):domUtils.removeStyle(t,"border"));if(/border/i.test(t.style.cssText)&&"SPAN"==t.parentNode.tagName&&/border/i.test(t.parentNode.style.cssText)&&(t.style.cssText=t.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")),"fontborder"!=i||"none"!=r)for(var n=t.nextSibling;n&&1==n.nodeType&&"SPAN"==n.tagName;)if(domUtils.isBookmarkNode(n)&&"fontborder"==i)t.appendChild(n),n=t.nextSibling;else{if(n.style.cssText==t.style.cssText&&(domUtils.moveChild(n,t),domUtils.remove(n)),t.nextSibling===n)break;n=t.nextSibling}if(e(t),browser.ie&&browser.version>8){var o=domUtils.findParent(t,function(e){return"SPAN"==e.tagName&&/background-color/.test(e.style.cssText)});o&&!/background-color/.test(t.style.cssText)&&(t.style.backgroundColor=o.style.backgroundColor)}}}),n.moveToBookmark(s),t(n,i,r)}var i=this,r={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family",underline:"text-decoration",strikethrough:"text-decoration",fontborder:"border"},o={underline:1,strikethrough:1,fontborder:1},a={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"};i.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}],fontsize:[10,11,12,14,16,18,20,24,36]}),i.addInputRule(function(e){utils.each(e.getNodesByTagName("u s del font strike"),function(e){if("font"==e.tagName){var t=[];for(var n in e.attrs)switch(n){case"size":t.push("font-size:"+({1:"10",2:"12",3:"16",4:"18",5:"24",6:"32",7:"48"}[e.attrs[n]]||e.attrs[n])+"px");break;case"color":t.push("color:"+e.attrs[n]);
break;case"face":t.push("font-family:"+e.attrs[n]);break;case"style":t.push(e.attrs[n])}e.attrs={style:t.join(";")}}else{var i="u"==e.tagName?"underline":"line-through";e.attrs={style:(e.getAttr("style")||"")+"text-decoration:"+i+";"}}e.tagName="span"})});for(var s in r)!function(e,t){UE.commands[e]={execCommand:function(i,r){r=r||(this.queryCommandState(i)?"none":"underline"==i?"underline":"fontborder"==i?"1px solid #000":"line-through");var a,s=this,l=this.selection.getRange();if("default"==r)l.collapsed&&(a=s.document.createTextNode("font"),l.insertNode(a).select()),s.execCommand("removeFormat","span,a",t),a&&(l.setStartBefore(a).collapse(!0),domUtils.remove(a)),n(l,i,r),l.select();else if(l.collapsed){var c=domUtils.findParentByTagName(l.startContainer,"span",!0);if(a=s.document.createTextNode("font"),!c||c.children.length||c[browser.ie?"innerText":"textContent"].replace(fillCharReg,"").length){if(l.insertNode(a),l.selectNode(a).select(),c=l.document.createElement("span"),o[e]){if(domUtils.findParentByTagName(a,"a",!0))return l.setStartBefore(a).setCursor(),void domUtils.remove(a);s.execCommand("removeFormat","span,a",t)}if(c.style.cssText=t+":"+r,a.parentNode.insertBefore(c,a),!browser.ie||browser.ie&&9==browser.version)for(var u=c.parentNode;!domUtils.isBlockElm(u);)"SPAN"==u.tagName&&(c.style.cssText=u.style.cssText+";"+c.style.cssText),u=u.parentNode;opera?setTimeout(function(){l.setStart(c,0).collapse(!0),n(l,i,r),l.select()}):(l.setStart(c,0).collapse(!0),n(l,i,r),l.select())}else l.insertNode(a),o[e]&&(l.selectNode(a).select(),s.execCommand("removeFormat","span,a",t,null),c=domUtils.findParentByTagName(a,"span",!0),l.setStartBefore(a)),c&&(c.style.cssText+=";"+t+":"+r),l.collapse(!0).select();domUtils.remove(a)}else o[e]&&s.queryCommandValue(e)&&s.execCommand("removeFormat","span,a",t),l=s.selection.getRange(),l.applyInlineStyle("span",{style:t+":"+r}),n(l,i,r),l.select();return!0},queryCommandValue:function(e){var n=this.selection.getStart();if("underline"==e||"strikethrough"==e){for(var i,r=n;r&&!domUtils.isBlockElm(r)&&!domUtils.isBody(r);){if(1==r.nodeType&&(i=domUtils.getComputedStyle(r,t),"none"!=i))return i;r=r.parentNode}return"none"}if("fontborder"==e){for(var o,a=n;a&&dtd.$inline[a.tagName];){if((o=domUtils.getComputedStyle(a,"border"))&&/1px/.test(o)&&/solid/.test(o))return o;a=a.parentNode}return""}if("FontSize"==e){var s=domUtils.getComputedStyle(n,t),a=/^([\d\.]+)(\w+)$/.exec(s);return a?Math.floor(a[1])+a[2]:s}return domUtils.getComputedStyle(n,t)},queryCommandState:function(e){if(!o[e])return 0;var t=this.queryCommandValue(e);return"fontborder"==e?/1px/.test(t)&&/solid/.test(t):"underline"==e?/underline/.test(t):/line\-through/.test(t)}}}(s,r[s])},UE.plugins.link=function(){function e(e){var t=e.startContainer,n=e.endContainer;(t=domUtils.findParentByTagName(t,"a",!0))&&e.setStartBefore(t),(n=domUtils.findParentByTagName(n,"a",!0))&&e.setEndAfter(n)}function t(t,n,i){var r=t.cloneRange(),o=i.queryCommandValue("link");e(t=t.adjustmentBoundary());var a=t.startContainer;if(1==a.nodeType&&o&&(a=a.childNodes[t.startOffset],a&&1==a.nodeType&&"A"==a.tagName&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(a[browser.ie?"innerText":"textContent"])&&(a[browser.ie?"innerText":"textContent"]=utils.html(n.textValue||n.href))),r.collapsed&&!o||(t.removeInlineStyle("a"),r=t.cloneRange()),r.collapsed){var s=t.document.createElement("a"),l="";n.textValue?(l=utils.html(n.textValue),delete n.textValue):l=utils.html(n.href),domUtils.setAttributes(s,n),a=domUtils.findParentByTagName(r.startContainer,"a",!0),a&&domUtils.isInNodeEndBoundary(r,a)&&t.setStartAfter(a).collapse(!0),s[browser.ie?"innerText":"textContent"]=l,t.insertNode(s).selectNode(s)}else t.applyInlineStyle("a",n)}UE.commands.unlink={execCommand:function(){var t,n=this.selection.getRange();n.collapsed&&!domUtils.findParentByTagName(n.startContainer,"a",!0)||(t=n.createBookmark(),e(n),n.removeInlineStyle("a").moveToBookmark(t).select())},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}},UE.commands.link={execCommand:function(e,n){var i;n._href&&(n._href=utils.unhtml(n._href,/[<">]/g)),n.href&&(n.href=utils.unhtml(n.href,/[<">]/g)),n.textValue&&(n.textValue=utils.unhtml(n.textValue,/[<">]/g)),t(i=this.selection.getRange(),n,this),i.collapse().select(!0)},queryCommandValue:function(){var e,t=this.selection.getRange();if(!t.collapsed){t.shrinkBoundary();var n=3!=t.startContainer.nodeType&&t.startContainer.childNodes[t.startOffset]?t.startContainer.childNodes[t.startOffset]:t.startContainer,i=3==t.endContainer.nodeType||0==t.endOffset?t.endContainer:t.endContainer.childNodes[t.endOffset-1],r=t.getCommonAncestor();if(e=domUtils.findParentByTagName(r,"a",!0),!e&&1==r.nodeType)for(var o,a,s,l=r.getElementsByTagName("a"),c=0;s=l[c++];)if(o=domUtils.getPosition(s,n),a=domUtils.getPosition(s,i),(o&domUtils.POSITION_FOLLOWING||o&domUtils.POSITION_CONTAINS)&&(a&domUtils.POSITION_PRECEDING||a&domUtils.POSITION_CONTAINS)){e=s;break}return e}return e=t.startContainer,e=1==e.nodeType?e:e.parentNode,e&&(e=domUtils.findParentByTagName(e,"a",!0))&&!domUtils.isInNodeEndBoundary(t,e)?e:void 0},queryCommandState:function(){var e=this.selection.getRange().getClosedNode(),t=e&&("edui-faked-video"==e.className||-1!=e.className.indexOf("edui-upload-video"));return t?-1:0}}},UE.plugins.insertframe=function(){function e(){t._iframe&&delete t._iframe}var t=this;t.addListener("selectionchange",function(){e()})},UE.commands.scrawl={queryCommandState:function(){return browser.ie&&browser.version<=8?-1:0}},UE.plugins.removeformat=function(){var e=this;e.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"}),e.commands.removeformat={execCommand:function(e,t,n,i,r){function o(e){if(3==e.nodeType||"span"!=e.tagName.toLowerCase())return 0;if(browser.ie){var t=e.attributes;if(t.length){for(var n=0,i=t.length;i>n;n++)if(t[n].specified)return 0;return 1}}return!e.attributes.length}function a(e){var t=e.createBookmark();if(e.collapsed&&e.enlarge(!0),!r){var i=domUtils.findParentByTagName(e.startContainer,"a",!0);i&&e.setStartBefore(i),i=domUtils.findParentByTagName(e.endContainer,"a",!0),i&&e.setEndAfter(i)}for(s=e.createBookmark(),m=s.start;(l=m.parentNode)&&!domUtils.isBlockElm(l);)domUtils.breakParent(m,l),domUtils.clearEmptySibling(m);if(s.end){for(m=s.end;(l=m.parentNode)&&!domUtils.isBlockElm(l);)domUtils.breakParent(m,l),domUtils.clearEmptySibling(m);for(var a,d=domUtils.getNextDomNode(s.start,!1,f);d&&d!=s.end;)a=domUtils.getNextDomNode(d,!0,f),dtd.$empty[d.tagName.toLowerCase()]||domUtils.isBookmarkNode(d)||(c.test(d.tagName)?n?(domUtils.removeStyle(d,n),o(d)&&"text-decoration"!=n&&domUtils.remove(d,!0)):domUtils.remove(d,!0):dtd.$tableContent[d.tagName]||dtd.$list[d.tagName]||(domUtils.removeAttributes(d,u),o(d)&&domUtils.remove(d,!0))),d=a}var h=s.start.parentNode;!domUtils.isBlockElm(h)||dtd.$tableContent[h.tagName]||dtd.$list[h.tagName]||domUtils.removeAttributes(h,u),h=s.end.parentNode,s.end&&domUtils.isBlockElm(h)&&!dtd.$tableContent[h.tagName]&&!dtd.$list[h.tagName]&&domUtils.removeAttributes(h,u),e.moveToBookmark(s).moveToBookmark(t);for(var p,m=e.startContainer,g=e.collapsed;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)p=m.parentNode,e.setStartBefore(m),e.startContainer===e.endContainer&&e.endOffset--,domUtils.remove(m),m=p;if(!g)for(m=e.endContainer;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)p=m.parentNode,e.setEndBefore(m),domUtils.remove(m),m=p}var s,l,c=new RegExp("^(?:"+(t||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),u=n?[]:(i||this.options.removeFormatAttributes).split(","),d=new dom.Range(this.document),f=function(e){return 1==e.nodeType};d=this.selection.getRange(),a(d),d.select()}}},UE.plugins.blockquote=function(){function e(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),"blockquote")}var t=this;t.commands.blockquote={execCommand:function(t,n){var i=this.selection.getRange(),r=e(this),o=dtd.blockquote,a=i.createBookmark();if(r){var s=i.startContainer,l=domUtils.isBlockElm(s)?s:domUtils.findParent(s,function(e){return domUtils.isBlockElm(e)}),c=i.endContainer,u=domUtils.isBlockElm(c)?c:domUtils.findParent(c,function(e){return domUtils.isBlockElm(e)});l=domUtils.findParentByTagName(l,"li",!0)||l,u=domUtils.findParentByTagName(u,"li",!0)||u,"LI"==l.tagName||"TD"==l.tagName||l===r||domUtils.isBody(l)?domUtils.remove(r,!0):domUtils.breakParent(l,r),l!==u&&(r=domUtils.findParentByTagName(u,"blockquote"),r&&("LI"==u.tagName||"TD"==u.tagName||domUtils.isBody(u)?r.parentNode&&domUtils.remove(r,!0):domUtils.breakParent(u,r)));for(var d,f=domUtils.getElementsByTagName(this.document,"blockquote"),h=0;d=f[h++];)d.childNodes.length?domUtils.getPosition(d,l)&domUtils.POSITION_FOLLOWING&&domUtils.getPosition(d,u)&domUtils.POSITION_PRECEDING&&domUtils.remove(d,!0):domUtils.remove(d)}else{for(var p=i.cloneRange(),m=1==p.startContainer.nodeType?p.startContainer:p.startContainer.parentNode,g=m,v=1;;){if(domUtils.isBody(m)){g!==m?i.collapsed?(p.selectNode(g),v=0):p.setStartBefore(g):p.setStart(m,0);break}if(!o[m.tagName]){i.collapsed?p.selectNode(g):p.setStartBefore(g);break}g=m,m=m.parentNode}if(v)for(g=m=m=1==p.endContainer.nodeType?p.endContainer:p.endContainer.parentNode;;){if(domUtils.isBody(m)){g!==m?p.setEndAfter(g):p.setEnd(m,m.childNodes.length);break}if(!o[m.tagName]){p.setEndAfter(g);break}g=m,m=m.parentNode}m=i.document.createElement("blockquote"),domUtils.setAttributes(m,n),m.appendChild(p.extractContents()),p.insertNode(m);for(var y,b=domUtils.getElementsByTagName(m,"blockquote"),h=0;y=b[h++];)y.parentNode&&domUtils.remove(y,!0)}i.moveToBookmark(a).select()},queryCommandState:function(){return e(this)?1:0}}},UE.commands.touppercase=UE.commands.tolowercase={execCommand:function(e){var t=this,n=t.selection.getRange();if(n.collapsed)return n;for(var i=n.createBookmark(),r=i.end,o=function(e){return!domUtils.isBr(e)&&!domUtils.isWhitespace(e)},a=domUtils.getNextDomNode(i.start,!1,o);a&&domUtils.getPosition(a,r)&domUtils.POSITION_PRECEDING&&(3==a.nodeType&&(a.nodeValue=a.nodeValue["touppercase"==e?"toUpperCase":"toLowerCase"]()),a=domUtils.getNextDomNode(a,!0,o),a!==r););n.moveToBookmark(i).select()}},UE.commands.indent={execCommand:function(){var e=this,t=e.queryCommandState("indent")?"0em":e.options.indentValue||"2em";e.execCommand("Paragraph","p",{style:"text-indent:"+t})},queryCommandState:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e&&e.style.textIndent&&parseInt(e.style.textIndent)?1:0}},UE.commands.print={execCommand:function(){this.window.print()},notNeedUndo:1},UE.commands.preview={execCommand:function(){var e=window.open("","_blank",""),t=e.document;t.open(),t.write('<!DOCTYPE html><html><head><meta charset="utf-8"/><script src="'+this.options.UEDITOR_HOME_URL+"ueditor.parse.js\"></script><script>setTimeout(function(){uParse('div',{rootPath: '"+this.options.UEDITOR_HOME_URL+"'})},300)</script></head><body><div>"+this.getContent(null,null,!0)+"</div></body></html>"),t.close()},notNeedUndo:1},UE.plugins.selectall=function(){var e=this;e.commands.selectall={execCommand:function(){var e=this,t=e.body,n=e.selection.getRange();n.selectNodeContents(t),domUtils.isEmptyBlock(t)&&(browser.opera&&t.firstChild&&1==t.firstChild.nodeType&&n.setStartAtFirst(t.firstChild),n.collapse(!0)),n.select(!0)},notNeedUndo:1},e.addshortcutkey({selectAll:"ctrl+65"})},UE.plugins.paragraph=function(){var e=this,t=domUtils.isBlockElm,n=["TD","LI","PRE"],i=function(e,i,r,o){var a,s=e.createBookmark(),l=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};e.enlarge(!0);for(var c,u=e.createBookmark(),d=domUtils.getNextDomNode(u.start,!1,l),f=e.cloneRange();d&&!(domUtils.getPosition(d,u.end)&domUtils.POSITION_FOLLOWING);)if(3!=d.nodeType&&t(d))d=domUtils.getNextDomNode(d,!0,l);else{for(f.setStartBefore(d);d&&d!==u.end&&!t(d);)c=d,d=domUtils.getNextDomNode(d,!1,null,function(e){return!t(e)});f.setEndAfter(c),a=e.document.createElement(i),r&&(domUtils.setAttributes(a,r),o&&"customstyle"==o&&r.style&&(a.style.cssText=r.style)),a.appendChild(f.extractContents()),domUtils.isEmptyNode(a)&&domUtils.fillChar(e.document,a),f.insertNode(a);var h=a.parentNode;t(h)&&!domUtils.isBody(a.parentNode)&&-1==utils.indexOf(n,h.tagName)&&(o&&"customstyle"==o||(h.getAttribute("dir")&&a.setAttribute("dir",h.getAttribute("dir")),h.style.cssText&&(a.style.cssText=h.style.cssText+";"+a.style.cssText),h.style.textAlign&&!a.style.textAlign&&(a.style.textAlign=h.style.textAlign),h.style.textIndent&&!a.style.textIndent&&(a.style.textIndent=h.style.textIndent),h.style.padding&&!a.style.padding&&(a.style.padding=h.style.padding)),r&&/h\d/i.test(h.tagName)&&!/h\d/i.test(a.tagName)?(domUtils.setAttributes(h,r),o&&"customstyle"==o&&r.style&&(h.style.cssText=r.style),domUtils.remove(a,!0),a=h):domUtils.remove(a.parentNode,!0)),d=-1!=utils.indexOf(n,h.tagName)?h:a,d=domUtils.getNextDomNode(d,!1,l)}return e.moveToBookmark(u).moveToBookmark(s)};e.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}),e.commands.paragraph={execCommand:function(e,t,n,r){var o=this.selection.getRange();if(o.collapsed){var a=this.document.createTextNode("p");if(o.insertNode(a),browser.ie){var s=a.previousSibling;s&&domUtils.isWhitespace(s)&&domUtils.remove(s),s=a.nextSibling,s&&domUtils.isWhitespace(s)&&domUtils.remove(s)}}if(o=i(o,t,n,r),a&&(o.setStartBefore(a).collapse(!0),pN=a.parentNode,domUtils.remove(a),domUtils.isBlockElm(pN)&&domUtils.isEmptyNode(pN)&&domUtils.fillNode(this.document,pN)),browser.gecko&&o.collapsed&&1==o.startContainer.nodeType){var l=o.startContainer.childNodes[o.startOffset];l&&1==l.nodeType&&l.tagName.toLowerCase()==t&&o.setStart(l,0).collapse(!0)}return o.select(),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return e?e.tagName.toLowerCase():""}}},function(){var e=domUtils.isBlockElm,t=function(e){return domUtils.filterNodeList(e.selection.getStartElementPath(),function(e){return e&&1==e.nodeType&&e.getAttribute("dir")})},n=function(n,i,r){var o,a=function(e){return 1==e.nodeType?!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)},s=t(i);if(s&&n.collapsed)return s.setAttribute("dir",r),n;o=n.createBookmark(),n.enlarge(!0);for(var l,c=n.createBookmark(),u=domUtils.getNextDomNode(c.start,!1,a),d=n.cloneRange();u&&!(domUtils.getPosition(u,c.end)&domUtils.POSITION_FOLLOWING);)if(3!=u.nodeType&&e(u))u=domUtils.getNextDomNode(u,!0,a);else{for(d.setStartBefore(u);u&&u!==c.end&&!e(u);)l=u,u=domUtils.getNextDomNode(u,!1,null,function(t){return!e(t)});d.setEndAfter(l);var f=d.getCommonAncestor();if(!domUtils.isBody(f)&&e(f))f.setAttribute("dir",r),u=f;else{var h=n.document.createElement("p");h.setAttribute("dir",r);var p=d.extractContents();h.appendChild(p),d.insertNode(h),u=h}u=domUtils.getNextDomNode(u,!1,a)}return n.moveToBookmark(c).moveToBookmark(o)};UE.commands.directionality={execCommand:function(e,t){var i=this.selection.getRange();if(i.collapsed){var r=this.document.createTextNode("d");i.insertNode(r)}return n(i,this,t),r&&(i.setStartBefore(r).collapse(!0),domUtils.remove(r)),i.select(),!0},queryCommandValue:function(){var e=t(this);return e?e.getAttribute("dir"):"ltr"}}}(),UE.plugins.horizontal=function(){var e=this;e.commands.horizontal={execCommand:function(e){var t=this;if(-1!==t.queryCommandState(e)){t.execCommand("insertHtml","<hr>");var n=t.selection.getRange(),i=n.startContainer;if(1==i.nodeType&&!i.childNodes[n.startOffset]){var r;(r=i.childNodes[n.startOffset-1])&&1==r.nodeType&&"HR"==r.tagName&&("p"==t.options.enterTag?(r=t.document.createElement("p"),n.insertNode(r),n.setStart(r,0).setCursor()):(r=t.document.createElement("br"),n.insertNode(r),n.setStartBefore(r).setCursor()))}return!0}},queryCommandState:function(){return domUtils.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}},e.addListener("delkeydown",function(e,t){var n=this.selection.getRange();if(n.txtToElmBoundary(!0),domUtils.isStartInblock(n)){var i=n.startContainer,r=i.previousSibling;if(r&&domUtils.isTagNode(r,"hr"))return domUtils.remove(r),n.select(),domUtils.preventDefault(t),!0}})},UE.commands.time=UE.commands.date={execCommand:function(e,t){function n(e,t){var n=("0"+e.getHours()).slice(-2),i=("0"+e.getMinutes()).slice(-2),r=("0"+e.getSeconds()).slice(-2);return t=t||"hh:ii:ss",t.replace(/hh/gi,n).replace(/ii/gi,i).replace(/ss/gi,r)}function i(e,t){var n=("000"+e.getFullYear()).slice(-4),i=n.slice(-2),r=("0"+(e.getMonth()+1)).slice(-2),o=("0"+e.getDate()).slice(-2);return t=t||"yyyy-mm-dd",t.replace(/yyyy/gi,n).replace(/yy/gi,i).replace(/mm/gi,r).replace(/dd/gi,o)}var r=new Date;this.execCommand("insertHtml","time"==e?n(r,t):i(r,t))}},UE.plugins.rowspacing=function(){var e=this;e.setOpt({rowspacingtop:["5","10","15","20","25"],rowspacingbottom:["5","10","15","20","25"]}),e.commands.rowspacing={execCommand:function(e,t,n){return this.execCommand("paragraph","p",{style:"margin-"+n+":"+t+"px"}),!0},queryCommandValue:function(e,t){var n,i=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});return i?(n=domUtils.getComputedStyle(i,"margin-"+t).replace(/[^\d]/g,""),n?n:0):0}}},UE.plugins.lineheight=function(){var e=this;e.setOpt({lineheight:["1","1.5","1.75","2","3","4","5"]}),e.commands.lineheight={execCommand:function(e,t){return this.execCommand("paragraph","p",{style:"line-height:"+("1"==t?"normal":t+"em")}),!0},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return domUtils.isBlockElm(e)});if(e){var t=domUtils.getComputedStyle(e,"line-height");return"normal"==t?1:t.replace(/[^\d.]*/gi,"")}}}},UE.plugins.insertcode=function(){var e=this;e.ready(function(){utils.cssRule("pre","pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}",e.document)}),e.setOpt("insertcode",{as3:"ActionScript3",bash:"Bash/Shell",cpp:"C/C++",css:"Css",cf:"CodeFunction","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"Html",java:"Java",jfx:"JavaFx",js:"Javascript",pl:"Perl",php:"Php",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"Sql",vb:"Vb",xml:"Xml"}),e.commands.insertcode={execCommand:function(e,t){var n=this,i=n.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"pre",!0);if(r)r.className="brush:"+t+";toolbar:false;";else{var o="";if(i.collapsed)o=browser.ie&&browser.ie11below?browser.version<=8?"&nbsp;":"":"<br/>";else{var a=i.extractContents(),s=n.document.createElement("div");s.appendChild(a),utils.each(UE.filterNode(UE.htmlparser(s.innerHTML.replace(/[\r\t]/g,"")),n.options.filterTxtRules).children,function(e){if(browser.ie&&browser.ie11below&&browser.version>8)"element"==e.type?"br"==e.tagName?o+="\n":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?o+="\n":dtd.$empty[e.tagName]||(o+=t.innerText()):o+=t.data}),/\n$/.test(o)||(o+="\n")):o+=e.data+"\n",!e.nextSibling()&&/\n$/.test(o)&&(o=o.replace(/\n$/,""));else if(browser.ie&&browser.ie11below)"element"==e.type?"br"==e.tagName?o+="<br>":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?o+="<br>":dtd.$empty[e.tagName]||(o+=t.innerText()):o+=t.data}),/br>$/.test(o)||(o+="<br>")):o+=e.data+"<br>",!e.nextSibling()&&/<br>$/.test(o)&&(o=o.replace(/<br>$/,""));else if(o+="element"==e.type?dtd.$empty[e.tagName]?"":e.innerText():e.data,!/br\/?\s*>$/.test(o)){if(!e.nextSibling())return;o+="<br>"}})}n.execCommand("inserthtml",'<pre id="coder"class="brush:'+t+';toolbar:false">'+o+"</pre>",!0),r=n.document.getElementById("coder"),domUtils.removeAttributes(r,"id");var l=r.previousSibling;l&&(3==l.nodeType&&1==l.nodeValue.length&&browser.ie&&6==browser.version||domUtils.isEmptyBlock(l))&&domUtils.remove(l);var i=n.selection.getRange();domUtils.isEmptyBlock(r)?i.setStart(r,0).setCursor(!1,!0):i.selectNodeContents(r).select()}},queryCommandValue:function(){var e=this.selection.getStartElementPath(),t="";return utils.each(e,function(e){if("PRE"==e.nodeName){var n=e.className.match(/brush:([^;]+)/);return t=n&&n[1]?n[1]:"",!1}}),t}},e.addInputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t=e.getNodesByTagName("br");if(t.length)return void(browser.ie&&browser.ie11below&&browser.version>8&&utils.each(t,function(e){var t=UE.uNode.createText("\n");e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}));if(!(browser.ie&&browser.ie11below&&browser.version>8)){var n=e.innerText().split(/\n/);e.innerHTML(""),utils.each(n,function(t){t.length&&e.appendChild(UE.uNode.createText(t)),e.appendChild(UE.uNode.createElement("br"))})}})}),e.addOutputRule(function(e){utils.each(e.getNodesByTagName("pre"),function(e){var t="";utils.each(e.children,function(e){t+="text"==e.type?e.data.replace(/[ ]/g,"&nbsp;").replace(/\n$/,""):"br"==e.tagName?"\n":dtd.$empty[e.tagName]?e.innerText():""}),e.innerText(t.replace(/(&nbsp;|\n)+$/,""))})}),e.notNeedCodeQuery={help:1,undo:1,redo:1,source:1,print:1,searchreplace:1,fullscreen:1,preview:1,insertparagraph:1,elementpath:1,insertcode:1,inserthtml:1,selectall:1},e.queryCommandState,e.queryCommandState=function(e){var t=this;return!t.notNeedCodeQuery[e.toLowerCase()]&&t.selection&&t.queryCommandValue("insertcode")?-1:UE.Editor.prototype.queryCommandState.apply(this,arguments)},e.addListener("beforeenterkeydown",function(){var t=e.selection.getRange(),n=domUtils.findParentByTagName(t.startContainer,"pre",!0);if(n){if(e.fireEvent("saveScene"),t.collapsed||t.deleteContents(),!browser.ie||browser.ie9above){var n,i=e.document.createElement("br");t.insertNode(i).setStartAfter(i).collapse(!0);var r=i.nextSibling;r||browser.ie&&!(browser.version>10)?t.setStartAfter(i):t.insertNode(i.cloneNode(!1)),n=i.previousSibling;for(var o;n;)if(o=n,n=n.previousSibling,!n||"BR"==n.nodeName){n=o;break}if(n){for(var a="";n&&"BR"!=n.nodeName&&new RegExp("^[\\s"+domUtils.fillChar+"]*$").test(n.nodeValue);)a+=n.nodeValue,n=n.nextSibling;if("BR"!=n.nodeName){var s=n.nodeValue.match(new RegExp("^([\\s"+domUtils.fillChar+"]+)"));s&&s[1]&&(a+=s[1])}a&&(a=e.document.createTextNode(a),t.insertNode(a).setStartAfter(a))}t.collapse(!0).select(!0)}else if(browser.version>8){var l=e.document.createTextNode("\n"),c=t.startContainer;if(0==t.startOffset){var u=c.previousSibling;if(u){t.insertNode(l);var d=e.document.createTextNode(" ");t.setStartAfter(l).insertNode(d).setStart(d,0).collapse(!0).select(!0)}}else{t.insertNode(l).setStartAfter(l);var d=e.document.createTextNode(" ");c=t.startContainer.childNodes[t.startOffset],c&&!/^\n/.test(c.nodeValue)&&t.setStartBefore(l),t.insertNode(d).setStart(d,0).collapse(!0).select(!0)}}else{var i=e.document.createElement("br");t.insertNode(i),t.insertNode(e.document.createTextNode(domUtils.fillChar)),t.setStartAfter(i),n=i.previousSibling;for(var o;n;)if(o=n,n=n.previousSibling,!n||"BR"==n.nodeName){n=o;break}if(n){for(var a="";n&&"BR"!=n.nodeName&&new RegExp("^[ "+domUtils.fillChar+"]*$").test(n.nodeValue);)a+=n.nodeValue,n=n.nextSibling;if("BR"!=n.nodeName){var s=n.nodeValue.match(new RegExp("^([ "+domUtils.fillChar+"]+)"));s&&s[1]&&(a+=s[1])}a=e.document.createTextNode(a),t.insertNode(a).setStartAfter(a)}t.collapse(!0).select()}return e.fireEvent("saveScene"),!0}}),e.addListener("tabkeydown",function(t,n){var i=e.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"pre",!0);if(r){if(e.fireEvent("saveScene"),n.shiftKey);else if(i.collapsed){var o=e.document.createTextNode("    ");i.insertNode(o).setStartAfter(o).collapse(!0).select(!0)}else{for(var a=i.createBookmark(),s=a.start.previousSibling;s;){if(r.firstChild===s&&!domUtils.isBr(s)){r.insertBefore(e.document.createTextNode("    "),s);break}if(domUtils.isBr(s)){r.insertBefore(e.document.createTextNode("    "),s.nextSibling);break}s=s.previousSibling}var l=a.end;for(s=a.start.nextSibling,r.firstChild===a.start&&r.insertBefore(e.document.createTextNode("    "),s.nextSibling);s&&s!==l;){if(domUtils.isBr(s)&&s.nextSibling){if(s.nextSibling===l)break;r.insertBefore(e.document.createTextNode("    "),s.nextSibling)}s=s.nextSibling}i.moveToBookmark(a).select()}return e.fireEvent("saveScene"),!0}}),e.addListener("beforeinserthtml",function(e,t){var n=this,i=n.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"pre",!0);if(r){i.collapsed||i.deleteContents();var o="";if(browser.ie&&browser.version>8){utils.each(UE.filterNode(UE.htmlparser(t),n.options.filterTxtRules).children,function(e){"element"==e.type?"br"==e.tagName?o+="\n":dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?o+="\n":dtd.$empty[e.tagName]||(o+=t.innerText()):o+=t.data}),/\n$/.test(o)||(o+="\n")):o+=e.data+"\n",!e.nextSibling()&&/\n$/.test(o)&&(o=o.replace(/\n$/,""))});var a=n.document.createTextNode(utils.html(o.replace(/&nbsp;/g," ")));i.insertNode(a).selectNode(a).select()}else{var s=n.document.createDocumentFragment();utils.each(UE.filterNode(UE.htmlparser(t),n.options.filterTxtRules).children,function(e){"element"==e.type?"br"==e.tagName?s.appendChild(n.document.createElement("br")):dtd.$empty[e.tagName]||(utils.each(e.children,function(t){"element"==t.type?"br"==t.tagName?s.appendChild(n.document.createElement("br")):dtd.$empty[e.tagName]||s.appendChild(n.document.createTextNode(utils.html(t.innerText().replace(/&nbsp;/g," ")))):s.appendChild(n.document.createTextNode(utils.html(t.data.replace(/&nbsp;/g," "))))}),"BR"!=s.lastChild.nodeName&&s.appendChild(n.document.createElement("br"))):s.appendChild(n.document.createTextNode(utils.html(e.data.replace(/&nbsp;/g," ")))),e.nextSibling()||"BR"!=s.lastChild.nodeName||s.removeChild(s.lastChild)}),i.insertNode(s).select()}return!0}}),e.addListener("keydown",function(e,t){var n=this,i=t.keyCode||t.which;if(40==i){var r,o=n.selection.getRange(),a=o.startContainer;if(o.collapsed&&(r=domUtils.findParentByTagName(o.startContainer,"pre",!0))&&!r.nextSibling){for(var s=r.lastChild;s&&"BR"==s.nodeName;)s=s.previousSibling;(s===a||o.startContainer===r&&o.startOffset==r.childNodes.length)&&(n.execCommand("insertparagraph"),domUtils.preventDefault(t))}}}),e.addListener("delkeydown",function(t,n){var i=this.selection.getRange();i.txtToElmBoundary(!0);var r=i.startContainer;if(domUtils.isTagNode(r,"pre")&&i.collapsed&&domUtils.isStartInblock(i)){var o=e.document.createElement("p");return domUtils.fillNode(e.document,o),r.parentNode.insertBefore(o,r),domUtils.remove(r),i.setStart(o,0).setCursor(!1,!0),domUtils.preventDefault(n),!0}})},UE.commands.cleardoc={execCommand:function(e){var t=this,n=t.options.enterTag,i=t.selection.getRange();"br"==n?(t.body.innerHTML="<br/>",i.setStart(t.body,0).setCursor()):(t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",i.setStart(t.body.firstChild,0).setCursor(!1,!0)),setTimeout(function(){t.fireEvent("clearDoc")},0)}},UE.plugin.register("anchor",function(){return{bindEvents:{ready:function(){utils.cssRule("anchor",".anchorclass{background: url('"+this.options.themePath+this.options.theme+"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 15px;}",this.document)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){var t;(t=e.getAttr("anchorname"))&&(e.tagName="a",e.setAttr({anchorname:"",name:t,"class":""}))})},inputRule:function(e){utils.each(e.getNodesByTagName("a"),function(e){var t;(t=e.getAttr("name"))&&!e.getAttr("href")&&(e.tagName="img",e.setAttr({anchorname:e.getAttr("name"),"class":"anchorclass"}),e.setAttr("name"))})},commands:{anchor:{execCommand:function(e,t){var n=this.selection.getRange(),i=n.getClosedNode();if(i&&i.getAttribute("anchorname"))t?i.setAttribute("anchorname",t):(n.setStartBefore(i).setCursor(),domUtils.remove(i));else if(t){var r=this.document.createElement("img");n.collapse(!0),domUtils.setAttributes(r,{anchorname:t,"class":"anchorclass"}),n.insertNode(r).setStartAfter(r).setCursor(!1,!0)}}}}}}),UE.plugins.wordcount=function(){var e=this;e.setOpt("wordCount",!0),e.addListener("contentchange",function(){e.fireEvent("wordcount")});var t;e.addListener("ready",function(){var e=this;domUtils.on(e.body,"keyup",function(n){var i=n.keyCode||n.which,r={16:1,18:1,20:1,37:1,38:1,39:1,40:1};i in r||(clearTimeout(t),t=setTimeout(function(){e.fireEvent("wordcount")},200))})})},UE.plugins.pagebreak=function(){function e(e){if(domUtils.isEmptyBlock(e)){for(var t,i=e.firstChild;i&&1==i.nodeType&&domUtils.isEmptyBlock(i);)t=i,i=i.firstChild;!t&&(t=e),domUtils.fillNode(n.document,t)}}function t(e){return e&&1==e.nodeType&&"HR"==e.tagName&&"pagebreak"==e.className}var n=this,i=["td"];n.setOpt("pageBreakTag","_ueditor_page_break_tag_"),n.ready(function(){utils.cssRule("pagebreak",".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}",n.document)}),n.addInputRule(function(e){e.traversal(function(e){if("text"==e.type&&e.data==n.options.pageBreakTag){var t=UE.uNode.createElement('<hr class="pagebreak" noshade="noshade" size="5" style="-webkit-user-select: none;">');e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}})}),n.addOutputRule(function(e){utils.each(e.getNodesByTagName("hr"),function(e){if("pagebreak"==e.getAttr("class")){var t=UE.uNode.createText(n.options.pageBreakTag);e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}})}),n.commands.pagebreak={execCommand:function(){var r=n.selection.getRange(),o=n.document.createElement("hr");domUtils.setAttributes(o,{"class":"pagebreak",noshade:"noshade",size:"5"}),domUtils.unSelectable(o);var a,s=domUtils.findParentByTagName(r.startContainer,i,!0),l=[];if(s)switch(s.tagName){case"TD":if(a=s.parentNode,a.previousSibling)a.parentNode.insertBefore(o,a),l=domUtils.findParents(o);else{var c=domUtils.findParentByTagName(a,"table");c.parentNode.insertBefore(o,c),l=domUtils.findParents(o,!0)}a=l[1],o!==a&&domUtils.breakParent(o,a),n.fireEvent("afteradjusttable",n.document)}else{if(!r.collapsed){r.deleteContents();for(var u=r.startContainer;!domUtils.isBody(u)&&domUtils.isBlockElm(u)&&domUtils.isEmptyNode(u);)r.setStartBefore(u).collapse(!0),domUtils.remove(u),u=r.startContainer}r.insertNode(o);for(var d,a=o.parentNode;!domUtils.isBody(a);)domUtils.breakParent(o,a),d=o.nextSibling,d&&domUtils.isEmptyBlock(d)&&domUtils.remove(d),a=o.parentNode;d=o.nextSibling;var f=o.previousSibling;if(t(f)?domUtils.remove(f):f&&e(f),d)t(d)?domUtils.remove(d):e(d),r.setEndAfter(o).collapse(!1);else{var h=n.document.createElement("p");o.parentNode.appendChild(h),domUtils.fillNode(n.document,h),r.setStart(h,0).collapse(!0)}r.select(!0)}}}},UE.plugin.register("wordimage",function(){var e=this,t=[];return{commands:{wordimage:{execCommand:function(){for(var t,n=domUtils.getElementsByTagName(e.body,"img"),i=[],r=0;t=n[r++];){var o=t.getAttribute("word_img");o&&i.push(o)}return i},queryCommandState:function(){t=domUtils.getElementsByTagName(e.body,"img");for(var n,i=0;n=t[i++];)if(n.getAttribute("word_img"))return 1;return-1},notNeedUndo:!0}},inputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var n=t.attrs,i=parseInt(n.width)<128||parseInt(n.height)<43,r=e.options,o=r.UEDITOR_HOME_URL+"themes/default/images/spacer.gif";n.src&&/^(?:(file:\/+))/.test(n.src)&&t.setAttr({width:n.width,height:n.height,alt:n.alt,word_img:n.src,src:o,style:"background:url("+(i?r.themePath+r.theme+"/images/word.gif":r.langPath+r.lang+"/images/localimage.png")+") no-repeat center center;border:1px solid #ddd"})})}}}),UE.plugins.dragdrop=function(){var e=this;e.ready(function(){domUtils.on(this.body,"dragend",function(){var t=e.selection.getRange(),n=t.getClosedNode()||e.selection.getStart();
if(n&&"IMG"==n.tagName){for(var i,r=n.previousSibling;(i=n.nextSibling)&&1==i.nodeType&&"SPAN"==i.tagName&&!i.firstChild;)domUtils.remove(i);(!r||1!=r.nodeType||domUtils.isEmptyBlock(r))&&r||i&&(!i||domUtils.isEmptyBlock(i))||(r&&"P"==r.tagName&&!domUtils.isEmptyBlock(r)?(r.appendChild(n),domUtils.moveChild(i,r),domUtils.remove(i)):i&&"P"==i.tagName&&!domUtils.isEmptyBlock(i)&&i.insertBefore(n,i.firstChild),r&&"P"==r.tagName&&domUtils.isEmptyBlock(r)&&domUtils.remove(r),i&&"P"==i.tagName&&domUtils.isEmptyBlock(i)&&domUtils.remove(i),t.selectNode(n).select(),e.fireEvent("saveScene"))}})}),e.addListener("keyup",function(t,n){var i=n.keyCode||n.which;if(13==i){var r,o=e.selection.getRange();(r=domUtils.findParentByTagName(o.startContainer,"p",!0))&&"center"==domUtils.getComputedStyle(r,"text-align")&&domUtils.removeStyle(r,"text-align")}})},UE.plugins.undo=function(){function e(e,t){if(e.length!=t.length)return 0;for(var n=0,i=e.length;i>n;n++)if(e[n]!=t[n])return 0;return 1}function t(t,n){return t.collapsed!=n.collapsed?0:e(t.startAddress,n.startAddress)&&e(t.endAddress,n.endAddress)?1:0}function n(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&1==this.list.length)return void this.reset();for(;this.list[this.index].content==this.list[this.index-1].content;)if(this.index--,0==this.index)return this.restore(0);this.restore(--this.index)}},this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}},this.restore=function(){var e=this.editor,t=this.list[this.index],n=UE.htmlparser(t.content.replace(s,""));e.options.autoClearEmptyNode=!1,e.filterInputRule(n),e.options.autoClearEmptyNode=c,e.document.body.innerHTML=n.toHtml(),e.fireEvent("afterscencerestore"),browser.ie&&utils.each(domUtils.getElementsByTagName(e.document,"td th caption p"),function(t){domUtils.isEmptyNode(t)&&domUtils.fillNode(e.document,t)});try{var i=new dom.Range(e.document).moveToAddress(t.address);i.select(l[i.startContainer.nodeName.toLowerCase()])}catch(r){}this.update(),this.clearKey(),e.fireEvent("reset",!0)},this.getScene=function(){var e=this.editor,t=e.selection.getRange(),n=t.createAddress(!1,!0);e.fireEvent("beforegetscene");var i=UE.htmlparser(e.body.innerHTML);e.options.autoClearEmptyNode=!1,e.filterOutputRule(i),e.options.autoClearEmptyNode=c;var r=i.toHtml();return e.fireEvent("aftergetscene"),{address:n,content:r}},this.save=function(e,n){clearTimeout(i);var a=this.getScene(n),s=this.list[this.index];s&&s.content!=a.content&&r.trigger("contentchange"),s&&s.content==a.content&&(e?1:t(s.address,a.address))||(this.list=this.list.slice(0,this.index+1),this.list.push(a),this.list.length>o&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())},this.update=function(){this.hasRedo=!!this.list[this.index+1],this.hasUndo=!!this.list[this.index-1]},this.reset=function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.clearKey()},this.clearKey=function(){f=0,u=null}}var i,r=this,o=r.options.maxUndoCount||20,a=r.options.maxInputCount||20,s=new RegExp(domUtils.fillChar+"|</hr>","gi"),l={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},c=r.options.autoClearEmptyNode;r.undoManger=new n,r.undoManger.editor=r,r.addListener("saveScene",function(){var e=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,e)}),r.addListener("reset",function(e,t){t||this.undoManger.reset()}),r.commands.redo=r.commands.undo={execCommand:function(e){this.undoManger[e]()},queryCommandState:function(e){return this.undoManger["has"+("undo"==e.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var u,d={16:1,17:1,18:1,37:1,38:1,39:1,40:1},f=0,h=!1;r.addListener("ready",function(){domUtils.on(this.body,"compositionstart",function(){h=!0}),domUtils.on(this.body,"compositionend",function(){h=!1})}),r.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89"});var p=!0;r.addListener("keydown",function(e,t){function n(e){e.undoManger.save(!1,!0),e.fireEvent("selectionchange")}var r=this,o=t.keyCode||t.which;if(!(d[o]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){if(h)return;if(!r.selection.getRange().collapsed)return r.undoManger.save(!1,!0),void(p=!1);0==r.undoManger.list.length&&r.undoManger.save(!0),clearTimeout(i),i=setTimeout(function(){if(h)var e=setInterval(function(){h||(n(r),clearInterval(e))},300);else n(r)},200),u=o,f++,f>=a&&n(r)}}),r.addListener("keyup",function(e,t){var n=t.keyCode||t.which;if(!(d[n]||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){if(h)return;p||(this.undoManger.save(!1,!0),p=!0)}}),r.stopCmdUndo=function(){r.__hasEnterExecCommand=!0},r.startCmdUndo=function(){r.__hasEnterExecCommand=!1}},UE.plugin.register("copy",function(){function e(){ZeroClipboard.config({debug:!1,swfPath:t.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.swf"});var e=t.zeroclipboard=new ZeroClipboard;e.on("copy",function(e){var n=e.client,i=t.selection.getRange(),r=document.createElement("div");r.appendChild(i.cloneContents()),n.setText(r.innerText||r.textContent),n.setHtml(r.innerHTML),i.select()}),e.on("mouseover mouseout",function(e){var t=e.target;"mouseover"==e.type?domUtils.addClass(t,"edui-state-hover"):"mouseout"==e.type&&domUtils.removeClasses(t,"edui-state-hover")}),e.on("wrongflash noflash",function(){ZeroClipboard.destroy()})}var t=this;return{bindEvents:{ready:function(){browser.ie||(window.ZeroClipboard?e():utils.loadFile(document,{src:t.options.UEDITOR_HOME_URL+"third-party/zeroclipboard/ZeroClipboard.js",tag:"script",type:"text/javascript",defer:"defer"},function(){e()}))}},commands:{copy:{execCommand:function(e){t.document.execCommand("copy")||alert(t.getLang("copymsg"))}}}}}),UE.plugins.paste=function(){function e(e){var t=this.document;if(!t.getElementById("baidu_pastebin")){var n=this.selection.getRange(),i=n.createBookmark(),r=t.createElement("div");r.id="baidu_pastebin",browser.webkit&&r.appendChild(t.createTextNode(domUtils.fillChar+domUtils.fillChar)),t.body.appendChild(r),i.start.style.display="",r.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(i.start).y+"px",n.selectNodeContents(r).select(!0),setTimeout(function(){if(browser.webkit)for(var o,a=0,s=t.querySelectorAll("#baidu_pastebin");o=s[a++];){if(!domUtils.isEmptyNode(o)){r=o;break}domUtils.remove(o)}try{r.parentNode.removeChild(r)}catch(l){}n.moveToBookmark(i).select(!0),e(r)},0)}}function t(e){return e.replace(/<(\/?)([\w\-]+)([^>]*)>/gi,function(e,t,n,i){return n=n.toLowerCase(),{img:1}[n]?e:(i=i.replace(/([\w\-]*?)\s*=\s*(("([^"]*)")|('([^']*)')|([^\s>]+))/gi,function(e,t,n){return{src:1,href:1,name:1}[t.toLowerCase()]?t+"="+n+" ":""}),{span:1,div:1}[n]?"":"<"+t+n+" "+utils.trim(i)+">")})}function n(e){var n;if(e.firstChild){for(var s,l=domUtils.getElementsByTagName(e,"span"),c=0;s=l[c++];)"_baidu_cut_start"!=s.id&&"_baidu_cut_end"!=s.id||domUtils.remove(s);if(browser.webkit){for(var u,d=e.querySelectorAll("div br"),c=0;u=d[c++];){var f=u.parentNode;"DIV"==f.tagName&&1==f.childNodes.length&&(f.innerHTML="<p><br/></p>",domUtils.remove(f))}for(var h,p=e.querySelectorAll("#baidu_pastebin"),c=0;h=p[c++];){var m=i.document.createElement("p");for(h.parentNode.insertBefore(m,h);h.firstChild;)m.appendChild(h.firstChild);domUtils.remove(h)}for(var g,v=e.querySelectorAll("meta"),c=0;g=v[c++];)domUtils.remove(g);var d=e.querySelectorAll("br");for(c=0;g=d[c++];)/^apple-/i.test(g.className)&&domUtils.remove(g)}if(browser.gecko){var y=e.querySelectorAll("[_moz_dirty]");for(c=0;g=y[c++];)g.removeAttribute("_moz_dirty")}if(!browser.ie)for(var g,b=e.querySelectorAll("span.Apple-style-span"),c=0;g=b[c++];)domUtils.remove(g,!0);n=e.innerHTML,n=UE.filterWord(n);var C=UE.htmlparser(n);if(i.options.filterRules&&UE.filterNode(C,i.options.filterRules),i.filterInputRule(C),browser.webkit){var w=C.lastChild();w&&"element"==w.type&&"br"==w.tagName&&C.removeChild(w),utils.each(i.body.querySelectorAll("div"),function(e){domUtils.isEmptyBlock(e)&&domUtils.remove(e,!0)})}if(n={html:C.toHtml()},i.fireEvent("beforepaste",n,C),!n.html)return;C=UE.htmlparser(n.html,!0),1===i.queryCommandState("pasteplain")?i.execCommand("insertHtml",UE.filterNode(C,i.options.filterTxtRules).toHtml(),!0):(UE.filterNode(C,i.options.filterTxtRules),r=C.toHtml(),o=n.html,a=i.selection.getRange().createAddress(!0),i.execCommand("insertHtml",i.getOpt("retainOnlyLabelPasted")===!0?t(o):o,!0)),i.fireEvent("afterpaste",n)}}var i=this;i.setOpt({retainOnlyLabelPasted:!1});var r,o,a;i.addListener("pasteTransfer",function(e,n){if(a&&r&&o&&r!=o){var s=i.selection.getRange();if(s.moveToAddress(a,!0),!s.collapsed){for(;!domUtils.isBody(s.startContainer);){var l=s.startContainer;if(1==l.nodeType){if(l=l.childNodes[s.startOffset],!l){s.setStartBefore(s.startContainer);continue}var c=l.previousSibling;c&&3==c.nodeType&&new RegExp("^[\n\r\t "+domUtils.fillChar+"]*$").test(c.nodeValue)&&s.setStartBefore(c)}if(0!=s.startOffset)break;s.setStartBefore(s.startContainer)}for(;!domUtils.isBody(s.endContainer);){var u=s.endContainer;if(1==u.nodeType){if(u=u.childNodes[s.endOffset],!u){s.setEndAfter(s.endContainer);continue}var d=u.nextSibling;d&&3==d.nodeType&&new RegExp("^[\n\r\t"+domUtils.fillChar+"]*$").test(d.nodeValue)&&s.setEndAfter(d)}if(s.endOffset!=s.endContainer[3==s.endContainer.nodeType?"nodeValue":"childNodes"].length)break;s.setEndAfter(s.endContainer)}}s.deleteContents(),s.select(!0),i.__hasEnterExecCommand=!0;var f=o;2===n?f=t(f):n&&(f=r),i.execCommand("inserthtml",f,!0),i.__hasEnterExecCommand=!1;for(var h=i.selection.getRange();!domUtils.isBody(h.startContainer)&&!h.startOffset&&h.startContainer[3==h.startContainer.nodeType?"nodeValue":"childNodes"].length;)h.setStartBefore(h.startContainer);var p=h.createAddress(!0);a.endAddress=p.startAddress}}),i.addListener("ready",function(){domUtils.on(i.body,"cut",function(){var e=i.selection.getRange();!e.collapsed&&i.undoManger&&i.undoManger.save()}),domUtils.on(i.body,browser.ie||browser.opera?"keydown":"paste",function(t){(!browser.ie&&!browser.opera||(t.ctrlKey||t.metaKey)&&"86"==t.keyCode)&&e.call(i,function(e){n(e)})})}),i.commands.paste={execCommand:function(t){browser.ie?(e.call(i,function(e){n(e)}),i.document.execCommand("paste")):alert(i.getLang("pastemsg"))}}},UE.plugins.pasteplain=function(){var e=this;e.setOpt({pasteplain:!1,filterTxtRules:function(){function e(e){e.tagName="p",e.setStyle()}function t(e){e.parentNode.removeChild(e,!0)}return{"-":"script style object iframe embed input select",p:{$:{}},br:{$:{}},div:function(e){for(var t,n=UE.uNode.createElement("p");t=e.firstChild();)"text"!=t.type&&UE.dom.dtd.$block[t.tagName]?n.firstChild()?(e.parentNode.insertBefore(n,e),n=UE.uNode.createElement("p")):e.parentNode.insertBefore(t,e):n.appendChild(t);n.firstChild()&&e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)},ol:t,ul:t,dl:t,dt:t,dd:t,li:t,caption:e,th:e,tr:e,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,td:function(e){var t=!!e.innerText();t&&e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),e),e.parentNode.removeChild(e,e.innerText())}}}()});var t=e.options.pasteplain;e.commands.pasteplain={queryCommandState:function(){return t?1:0},execCommand:function(){t=0|!t},notNeedUndo:1}},UE.plugins.list=function(){function e(e){var t=[];for(var n in e)t.push(n);return t}function t(e){var t=e.className;return domUtils.hasClass(e,/custom_/)?t.match(/custom_(\w+)/)[1]:domUtils.getStyle(e,"list-style-type")}function n(e,n){utils.each(domUtils.getElementsByTagName(e,"ol ul"),function(o){if(domUtils.inDoc(o,e)){var a=o.parentNode;if(a.tagName==o.tagName){var s=t(o)||("OL"==o.tagName?"decimal":"disc"),l=t(a)||("OL"==a.tagName?"decimal":"disc");if(s==l){var d=utils.indexOf(u[o.tagName],s);d=d+1==u[o.tagName].length?0:d+1,r(o,u[o.tagName][d])}}var f=0,h=2;domUtils.hasClass(o,/custom_/)?/[ou]l/i.test(a.tagName)&&domUtils.hasClass(a,/custom_/)||(h=1):/[ou]l/i.test(a.tagName)&&domUtils.hasClass(a,/custom_/)&&(h=3);var p=domUtils.getStyle(o,"list-style-type");p&&(o.style.cssText="list-style-type:"+p),o.className=utils.trim(o.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+h,utils.each(domUtils.getElementsByTagName(o,"li"),function(e){if(e.style.cssText&&(e.style.cssText=""),!e.firstChild)return void domUtils.remove(e);if(e.parentNode===o){if(f++,domUtils.hasClass(o,/custom_/)){var n=1,i=t(o);if("OL"==o.tagName){if(i)switch(i){case"cn":case"cn1":case"cn2":f>10&&(f%10==0||f>10&&20>f)?n=2:f>20&&(n=3);break;case"num2":f>9&&(n=2)}e.className="list-"+c[i]+f+" list-"+i+"-paddingleft-"+n}else e.className="list-"+c[i]+" list-"+i+"-paddingleft"}else e.className=e.className.replace(/list-[\w\-]+/gi,"");var r=e.getAttribute("class");null===r||r.replace(/\s/g,"")||domUtils.removeAttributes(e,"class")}}),!n&&i(o,o.tagName.toLowerCase(),t(o)||domUtils.getStyle(o,"list-style-type"),!0)}})}function i(e,i,r,o){var a=e.nextSibling;a&&1==a.nodeType&&a.tagName.toLowerCase()==i&&(t(a)||domUtils.getStyle(a,"list-style-type")||("ol"==i?"decimal":"disc"))==r&&(domUtils.moveChild(a,e),0==a.childNodes.length&&domUtils.remove(a)),a&&domUtils.isFillChar(a)&&domUtils.remove(a);var s=e.previousSibling;s&&1==s.nodeType&&s.tagName.toLowerCase()==i&&(t(s)||domUtils.getStyle(s,"list-style-type")||("ol"==i?"decimal":"disc"))==r&&domUtils.moveChild(e,s),s&&domUtils.isFillChar(s)&&domUtils.remove(s),!o&&domUtils.isEmptyBlock(e)&&domUtils.remove(e),t(e)&&n(e.ownerDocument,!0)}function r(e,t){c[t]&&(e.className="custom_"+t);try{domUtils.setStyle(e,"list-style-type",t)}catch(n){}}function o(e){var t=e.previousSibling;t&&domUtils.isEmptyBlock(t)&&domUtils.remove(t),t=e.nextSibling,t&&domUtils.isEmptyBlock(t)&&domUtils.remove(t)}function a(e){for(;e&&!domUtils.isBody(e);){if("TABLE"==e.nodeName)return null;if("LI"==e.nodeName)return e;e=e.parentNode}}var s=this,l={TD:1,PRE:1,BLOCKQUOTE:1},c={cn:"cn-1-",cn1:"cn-2-",cn2:"cn-3-",num:"num-1-",num1:"num-2-",num2:"num-3-",dash:"dash",dot:"dot"};s.setOpt({autoTransWordToList:!1,insertorderedlist:{num:"",num1:"",num2:"",cn:"",cn1:"",cn2:"",decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:"",dash:"",dot:""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1,disablePInList:!1});var u={OL:e(s.options.insertorderedlist),UL:e(s.options.insertunorderedlist)},d=s.options.listiconpath;for(var f in c)s.options.insertorderedlist.hasOwnProperty(f)||s.options.insertunorderedlist.hasOwnProperty(f)||delete c[f];s.ready(function(){var e=[];for(var t in c){if("dash"==t||"dot"==t)e.push("li.list-"+c[t]+"{background-image:url("+d+c[t]+".gif)}"),e.push("ul.custom_"+t+"{list-style:none;}ul.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}");else{for(var n=0;99>n;n++)e.push("li.list-"+c[t]+n+"{background-image:url("+d+"list-"+c[t]+n+".gif)}");e.push("ol.custom_"+t+"{list-style:none;}ol.custom_"+t+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(t){case"cn":e.push("li.list-"+t+"-paddingleft-1{padding-left:25px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn1":e.push("li.list-"+t+"-paddingleft-1{padding-left:30px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:55px}");break;case"cn2":e.push("li.list-"+t+"-paddingleft-1{padding-left:40px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:55px}"),e.push("li.list-"+t+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":e.push("li.list-"+t+"-paddingleft-1{padding-left:25px}");break;case"num2":e.push("li.list-"+t+"-paddingleft-1{padding-left:35px}"),e.push("li.list-"+t+"-paddingleft-2{padding-left:40px}");break;case"dash":e.push("li.list-"+t+"-paddingleft{padding-left:35px}");break;case"dot":e.push("li.list-"+t+"-paddingleft{padding-left:20px}")}}e.push(".list-paddingleft-1{padding-left:0}"),e.push(".list-paddingleft-2{padding-left:"+s.options.listDefaultPaddingLeft+"px}"),e.push(".list-paddingleft-3{padding-left:"+2*s.options.listDefaultPaddingLeft+"px}"),utils.cssRule("list","ol,ul{margin:0;pading:0;"+(browser.ie?"":"width:95%")+"}li{clear:both;}"+e.join("\n"),s.document)}),s.ready(function(){domUtils.on(s.body,"cut",function(){setTimeout(function(){var e,t=s.selection.getRange();if(!t.collapsed&&(e=domUtils.findParentByTagName(t.startContainer,"li",!0))&&!e.nextSibling&&domUtils.isEmptyBlock(e)){var n,i=e.parentNode;if(n=i.previousSibling)domUtils.remove(i),t.setStartAtLast(n).collapse(!0),t.select(!0);else if(n=i.nextSibling)domUtils.remove(i),t.setStartAtFirst(n).collapse(!0),t.select(!0);else{var r=s.document.createElement("p");domUtils.fillNode(s.document,r),i.parentNode.insertBefore(r,i),domUtils.remove(i),t.setStart(r,0).collapse(!0),t.select(!0)}}})})}),s.addListener("beforepaste",function(e,n){var i,r=this,o=r.selection.getRange(),a=UE.htmlparser(n.html,!0);if(i=domUtils.findParentByTagName(o.startContainer,"li",!0)){var s=i.parentNode,l="OL"==s.tagName?"ul":"ol";utils.each(a.getNodesByTagName(l),function(n){if(n.tagName=s.tagName,n.setAttr(),n.parentNode===a)e=t(s)||("OL"==s.tagName?"decimal":"disc");else{var i=n.parentNode.getAttr("class");e=i&&/custom_/.test(i)?i.match(/custom_(\w+)/)[1]:n.parentNode.getStyle("list-style-type"),e||(e="OL"==s.tagName?"decimal":"disc")}var r=utils.indexOf(u[s.tagName],e);n.parentNode!==a&&(r=r+1==u[s.tagName].length?0:r+1);var o=u[s.tagName][r];c[o]?n.setAttr("class","custom_"+o):n.setStyle("list-style-type",o)})}n.html=a.toHtml()}),s.getOpt("disablePInList")===!0&&s.addOutputRule(function(e){utils.each(e.getNodesByTagName("li"),function(e){var t=[],n=0;utils.each(e.children,function(i){if("p"==i.tagName){for(var r;r=i.children.pop();)t.splice(n,0,r),r.parentNode=e,lastNode=r;if(r=t[t.length-1],!r||"element"!=r.type||"br"!=r.tagName){var o=UE.uNode.createElement("br");o.parentNode=e,t.push(o)}n=t.length}}),t.length&&(e.children=t)})}),s.addInputRule(function(e){function t(e,t){var r=t.firstChild();if(r&&"element"==r.type&&"span"==r.tagName&&/Wingdings|Symbol/.test(r.getStyle("font-family"))){for(var o in i)if(i[o]==r.data)return o;return"disc"}for(var o in n)if(n[o].test(e))return o}if(utils.each(e.getNodesByTagName("li"),function(e){for(var t,n=UE.uNode.createElement("p"),i=0;t=e.children[i];)"text"==t.type||dtd.p[t.tagName]?n.appendChild(t):n.firstChild()?(e.insertBefore(n,t),n=UE.uNode.createElement("p"),i+=2):i++;(n.firstChild()&&!n.parentNode||!e.firstChild())&&e.appendChild(n),n.firstChild()||n.innerHTML(browser.ie?"&nbsp;":"<br/>");var r=e.firstChild(),o=r.lastChild();o&&"text"==o.type&&/^\s*$/.test(o.data)&&r.removeChild(o)}),s.options.autoTransWordToList){var n={num1:/^\d+\)/,decimal:/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,cn:/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,cn2:/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},i={square:"n"};utils.each(e.getNodesByTagName("p"),function(e){function i(e,t,i){if("ol"==e.tagName)if(browser.ie){var r=t.firstChild();"element"==r.type&&"span"==r.tagName&&n[i].test(r.innerText())&&t.removeChild(r)}else t.innerHTML(t.innerHTML().replace(n[i],""));else t.removeChild(t.firstChild());var o=UE.uNode.createElement("li");o.appendChild(t),e.appendChild(o)}if("MsoListParagraph"==e.getAttr("class")){e.setStyle("margin",""),e.setStyle("margin-left",""),e.setAttr("class","");var r,o=e,a=e;if("li"!=e.parentNode.tagName&&(r=t(e.innerText(),e))){var l=UE.uNode.createElement(s.options.insertorderedlist.hasOwnProperty(r)?"ol":"ul");for(c[r]?l.setAttr("class","custom_"+r):l.setStyle("list-style-type",r);e&&"li"!=e.parentNode.tagName&&t(e.innerText(),e);)o=e.nextSibling(),o||e.parentNode.insertBefore(l,e),i(l,e,r),e=o;!l.parentNode&&e&&e.parentNode&&e.parentNode.insertBefore(l,e)}var u=a.firstChild();u&&"element"==u.type&&"span"==u.tagName&&/^\s*(&nbsp;)+\s*$/.test(u.innerText())&&u.parentNode.removeChild(u)}})}}),s.addListener("contentchange",function(){n(s.document)}),s.addListener("keydown",function(e,t){function n(){t.preventDefault?t.preventDefault():t.returnValue=!1,s.fireEvent("contentchange"),s.undoManger&&s.undoManger.save()}function i(e,t){for(;e&&!domUtils.isBody(e);){if(t(e))return null;if(1==e.nodeType&&/[ou]l/i.test(e.tagName))return e;e=e.parentNode}return null}var r=t.keyCode||t.which;if(13==r&&!t.shiftKey){var a=s.selection.getRange(),l=domUtils.findParent(a.startContainer,function(e){return domUtils.isBlockElm(e)},!0),c=domUtils.findParentByTagName(a.startContainer,"li",!0);if(l&&"PRE"!=l.tagName&&!c){var u=l.innerHTML.replace(new RegExp(domUtils.fillChar,"g"),"");/^\s*1\s*\.[^\d]/.test(u)&&(l.innerHTML=u.replace(/^\s*1\s*\./,""),a.setStartAtLast(l).collapse(!0).select(),s.__hasEnterExecCommand=!0,s.execCommand("insertorderedlist"),s.__hasEnterExecCommand=!1)}var d=s.selection.getRange(),f=i(d.startContainer,function(e){return"TABLE"==e.tagName}),h=d.collapsed?f:i(d.endContainer,function(e){return"TABLE"==e.tagName});if(f&&h&&f===h){if(!d.collapsed){if(f=domUtils.findParentByTagName(d.startContainer,"li",!0),h=domUtils.findParentByTagName(d.endContainer,"li",!0),!f||!h||f!==h){var p=d.cloneRange(),m=p.collapse(!1).createBookmark();d.deleteContents(),p.moveToBookmark(m);var c=domUtils.findParentByTagName(p.startContainer,"li",!0);return o(c),p.select(),void n()}if(d.deleteContents(),c=domUtils.findParentByTagName(d.startContainer,"li",!0),c&&domUtils.isEmptyBlock(c))return w=c.previousSibling,next=c.nextSibling,y=s.document.createElement("p"),domUtils.fillNode(s.document,y),g=c.parentNode,w&&next?(d.setStart(next,0).collapse(!0).select(!0),domUtils.remove(c)):((w||next)&&w?c.parentNode.parentNode.insertBefore(y,g.nextSibling):g.parentNode.insertBefore(y,g),domUtils.remove(c),g.firstChild||domUtils.remove(g),d.setStart(y,0).setCursor()),void n()}if(c=domUtils.findParentByTagName(d.startContainer,"li",!0)){if(domUtils.isEmptyBlock(c)){m=d.createBookmark();var g=c.parentNode;if(c!==g.lastChild?(domUtils.breakParent(c,g),o(c)):(g.parentNode.insertBefore(c,g.nextSibling),domUtils.isEmptyNode(g)&&domUtils.remove(g)),!dtd.$list[c.parentNode.tagName])if(domUtils.isBlockElm(c.firstChild))domUtils.remove(c,!0);else{for(y=s.document.createElement("p"),c.parentNode.insertBefore(y,c);c.firstChild;)y.appendChild(c.firstChild);domUtils.remove(c)}d.moveToBookmark(m).select()}else{var v=c.firstChild;if(!v||!domUtils.isBlockElm(v)){var y=s.document.createElement("p");for(!c.firstChild&&domUtils.fillNode(s.document,y);c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),v=y}var b=s.document.createElement("span");d.insertNode(b),domUtils.breakParent(b,c);var C=b.nextSibling;v=C.firstChild,v||(y=s.document.createElement("p"),domUtils.fillNode(s.document,y),C.appendChild(y),v=y),domUtils.isEmptyNode(v)&&(v.innerHTML="",domUtils.fillNode(s.document,v)),d.setStart(v,0).collapse(!0).shrinkBoundary().select(),domUtils.remove(b);var w=C.previousSibling;w&&domUtils.isEmptyBlock(w)&&(w.innerHTML="<p></p>",domUtils.fillNode(s.document,w.firstChild))}n()}}}if(8==r&&(d=s.selection.getRange(),d.collapsed&&domUtils.isStartInblock(d)&&(p=d.cloneRange().trimBoundary(),c=domUtils.findParentByTagName(d.startContainer,"li",!0),c&&domUtils.isStartInblock(p)))){if(f=domUtils.findParentByTagName(d.startContainer,"p",!0),f&&f!==c.firstChild){var g=domUtils.findParentByTagName(f,["ol","ul"]);return domUtils.breakParent(f,g),o(f),s.fireEvent("contentchange"),d.setStart(f,0).setCursor(!1,!0),s.fireEvent("saveScene"),void domUtils.preventDefault(t)}if(c&&(w=c.previousSibling)){if(46==r&&c.childNodes.length)return;if(dtd.$list[w.tagName]&&(w=w.lastChild),s.undoManger&&s.undoManger.save(),v=c.firstChild,domUtils.isBlockElm(v))if(domUtils.isEmptyNode(v))for(w.appendChild(v),d.setStart(v,0).setCursor(!1,!0);c.firstChild;)w.appendChild(c.firstChild);else b=s.document.createElement("span"),d.insertNode(b),domUtils.isEmptyBlock(w)&&(w.innerHTML=""),domUtils.moveChild(c,w),d.setStartBefore(b).collapse(!0).select(!0),domUtils.remove(b);else if(domUtils.isEmptyNode(c)){var y=s.document.createElement("p");w.appendChild(y),d.setStart(y,0).setCursor()}else for(d.setEnd(w,w.childNodes.length).collapse().select(!0);c.firstChild;)w.appendChild(c.firstChild);return domUtils.remove(c),s.fireEvent("contentchange"),s.fireEvent("saveScene"),void domUtils.preventDefault(t)}if(c&&!c.previousSibling){var g=c.parentNode,m=d.createBookmark();if(domUtils.isTagNode(g.parentNode,"ol ul"))g.parentNode.insertBefore(c,g),domUtils.isEmptyNode(g)&&domUtils.remove(g);else{for(;c.firstChild;)g.parentNode.insertBefore(c.firstChild,g);domUtils.remove(c),domUtils.isEmptyNode(g)&&domUtils.remove(g)}return d.moveToBookmark(m).setCursor(!1,!0),s.fireEvent("contentchange"),s.fireEvent("saveScene"),void domUtils.preventDefault(t)}}}),s.addListener("keyup",function(e,n){var r=n.keyCode||n.which;if(8==r){var o,a=s.selection.getRange();(o=domUtils.findParentByTagName(a.startContainer,["ol","ul"],!0))&&i(o,o.tagName.toLowerCase(),t(o)||domUtils.getComputedStyle(o,"list-style-type"),!0)}}),s.addListener("tabkeydown",function(){function e(e){if(-1!=s.options.maxListLevel){for(var t=e.parentNode,n=0;/[ou]l/i.test(t.tagName);)n++,t=t.parentNode;if(n>=s.options.maxListLevel)return!0}}var n=s.selection.getRange(),o=domUtils.findParentByTagName(n.startContainer,"li",!0);if(o){var a;if(!n.collapsed){s.fireEvent("saveScene"),a=n.createBookmark();for(var l,c,d=0,f=domUtils.findParents(o);c=f[d++];)if(domUtils.isTagNode(c,"ol ul")){l=c;break}var h=o;if(a.end)for(;h&&!(domUtils.getPosition(h,a.end)&domUtils.POSITION_FOLLOWING);)if(e(h))h=domUtils.getNextDomNode(h,!1,null,function(e){return e!==l});else{var p=h.parentNode,m=s.document.createElement(p.tagName),g=utils.indexOf(u[m.tagName],t(p)||domUtils.getComputedStyle(p,"list-style-type")),v=g+1==u[m.tagName].length?0:g+1,y=u[m.tagName][v];for(r(m,y),p.insertBefore(m,h);h&&!(domUtils.getPosition(h,a.end)&domUtils.POSITION_FOLLOWING);){if(o=h.nextSibling,m.appendChild(h),!o||domUtils.isTagNode(o,"ol ul")){if(o)for(;(o=o.firstChild)&&"LI"!=o.tagName;);else o=domUtils.getNextDomNode(h,!1,null,function(e){return e!==l});break}h=o}i(m,m.tagName.toLowerCase(),y),h=o}return s.fireEvent("contentchange"),n.moveToBookmark(a).select(),!0}if(e(o))return!0;var p=o.parentNode,m=s.document.createElement(p.tagName),g=utils.indexOf(u[m.tagName],t(p)||domUtils.getComputedStyle(p,"list-style-type"));g=g+1==u[m.tagName].length?0:g+1;var y=u[m.tagName][g];if(r(m,y),domUtils.isStartInblock(n))return s.fireEvent("saveScene"),a=n.createBookmark(),p.insertBefore(m,o),m.appendChild(o),i(m,m.tagName.toLowerCase(),y),s.fireEvent("contentchange"),n.moveToBookmark(a).select(!0),!0}}),s.commands.insertorderedlist=s.commands.insertunorderedlist={execCommand:function(e,n){n||(n="insertorderedlist"==e.toLowerCase()?"decimal":"disc");var o=this,s=this.selection.getRange(),c=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},u="insertorderedlist"==e.toLowerCase()?"ol":"ul",d=o.document.createDocumentFragment();s.adjustmentBoundary().shrinkBoundary();var f,h,p,m,g=s.createBookmark(!0),v=a(o.document.getElementById(g.start)),y=0,b=a(o.document.getElementById(g.end)),C=0;if(v||b){if(v&&(f=v.parentNode),g.end||(b=v),b&&(h=b.parentNode),f===h){for(;v!==b;){if(m=v,v=v.nextSibling,!domUtils.isBlockElm(m.firstChild)){for(var w=o.document.createElement("p");m.firstChild;)w.appendChild(m.firstChild);m.appendChild(w)}d.appendChild(m)}if(m=o.document.createElement("span"),f.insertBefore(m,b),!domUtils.isBlockElm(b.firstChild)){for(w=o.document.createElement("p");b.firstChild;)w.appendChild(b.firstChild);b.appendChild(w)}d.appendChild(b),domUtils.breakParent(m,f),domUtils.isEmptyNode(m.previousSibling)&&domUtils.remove(m.previousSibling),domUtils.isEmptyNode(m.nextSibling)&&domUtils.remove(m.nextSibling);var x=t(f)||domUtils.getComputedStyle(f,"list-style-type")||("insertorderedlist"==e.toLowerCase()?"decimal":"disc");if(f.tagName.toLowerCase()==u&&x==n){for(var $,N=0,E=o.document.createDocumentFragment();$=d.firstChild;)if(domUtils.isTagNode($,"ol ul"))E.appendChild($);else for(;$.firstChild;)E.appendChild($.firstChild),domUtils.remove($);m.parentNode.insertBefore(E,m)}else p=o.document.createElement(u),r(p,n),p.appendChild(d),m.parentNode.insertBefore(p,m);return domUtils.remove(m),p&&i(p,u,n),void s.moveToBookmark(g).select()}if(v){for(;v;){if(m=v.nextSibling,domUtils.isTagNode(v,"ol ul"))d.appendChild(v);else{for(var S=o.document.createDocumentFragment(),T=0;v.firstChild;)domUtils.isBlockElm(v.firstChild)&&(T=1),S.appendChild(v.firstChild);if(T)d.appendChild(S);else{var k=o.document.createElement("p");k.appendChild(S),d.appendChild(k)}domUtils.remove(v)}v=m}f.parentNode.insertBefore(d,f.nextSibling),domUtils.isEmptyNode(f)?(s.setStartBefore(f),domUtils.remove(f)):s.setStartAfter(f),y=1}if(b&&domUtils.inDoc(h,o.document)){for(v=h.firstChild;v&&v!==b;){if(m=v.nextSibling,domUtils.isTagNode(v,"ol ul"))d.appendChild(v);else{for(S=o.document.createDocumentFragment(),T=0;v.firstChild;)domUtils.isBlockElm(v.firstChild)&&(T=1),S.appendChild(v.firstChild);T?d.appendChild(S):(k=o.document.createElement("p"),k.appendChild(S),d.appendChild(k)),domUtils.remove(v)}v=m}var U=domUtils.createElement(o.document,"div",{tmpDiv:1});domUtils.moveChild(b,U),d.appendChild(U),domUtils.remove(b),h.parentNode.insertBefore(d,h),s.setEndBefore(h),domUtils.isEmptyNode(h)&&domUtils.remove(h),C=1}}y||s.setStartBefore(o.document.getElementById(g.start)),g.end&&!C&&s.setEndAfter(o.document.getElementById(g.end)),s.enlarge(!0,function(e){return l[e.tagName]}),d=o.document.createDocumentFragment();for(var A,_=s.createBookmark(),B=domUtils.getNextDomNode(_.start,!1,c),I=s.cloneRange(),R=domUtils.isBlockElm;B&&B!==_.end&&domUtils.getPosition(B,_.end)&domUtils.POSITION_PRECEDING;)if(3==B.nodeType||dtd.li[B.tagName]){if(1==B.nodeType&&dtd.$list[B.tagName]){for(;B.firstChild;)d.appendChild(B.firstChild);A=domUtils.getNextDomNode(B,!1,c),domUtils.remove(B),B=A;continue}for(A=B,I.setStartBefore(B);B&&B!==_.end&&(!R(B)||domUtils.isBookmarkNode(B));)A=B,B=domUtils.getNextDomNode(B,!1,null,function(e){return!l[e.tagName]});B&&R(B)&&(m=domUtils.getNextDomNode(A,!1,c),m&&domUtils.isBookmarkNode(m)&&(B=domUtils.getNextDomNode(m,!1,c),A=m)),I.setEndAfter(A),B=domUtils.getNextDomNode(A,!1,c);var D=s.document.createElement("li");if(D.appendChild(I.extractContents()),domUtils.isEmptyNode(D)){for(var A=s.document.createElement("p");D.firstChild;)A.appendChild(D.firstChild);D.appendChild(A)}d.appendChild(D)}else B=domUtils.getNextDomNode(B,!0,c);s.moveToBookmark(_).collapse(!0),p=o.document.createElement(u),r(p,n),p.appendChild(d),s.insertNode(p),i(p,u,n);for(var $,N=0,O=domUtils.getElementsByTagName(p,"div");$=O[N++];)$.getAttribute("tmpDiv")&&domUtils.remove($,!0);s.moveToBookmark(g).select()},queryCommandState:function(e){for(var t,n="insertorderedlist"==e.toLowerCase()?"ol":"ul",i=this.selection.getStartElementPath(),r=0;t=i[r++];){if("TABLE"==t.nodeName)return 0;if(n==t.nodeName.toLowerCase())return 1}return 0},queryCommandValue:function(e){for(var n,i,r="insertorderedlist"==e.toLowerCase()?"ol":"ul",o=this.selection.getStartElementPath(),a=0;i=o[a++];){if("TABLE"==i.nodeName){n=null;break}if(r==i.nodeName.toLowerCase()){n=i;break}}return n?t(n)||domUtils.getComputedStyle(n,"list-style-type"):null}}},function(){var e={textarea:function(e,t){var n=t.ownerDocument.createElement("textarea");return n.style.cssText="position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;",browser.ie&&browser.version<8&&(n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px",t.onresize=function(){n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px"}),t.appendChild(n),{setContent:function(e){
n.value=e},getContent:function(){return n.value},select:function(){var e;browser.ie?(e=n.createTextRange(),e.collapse(!0),e.select()):(n.setSelectionRange(0,0),n.focus())},dispose:function(){t.removeChild(n),t.onresize=null,n=null,t=null}}},codemirror:function(e,t){var n=window.CodeMirror(t,{mode:"text/html",tabMode:"indent",lineNumbers:!0,lineWrapping:!0}),i=n.getWrapperElement();return i.style.cssText='position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,"Courier new",monospace;font-size:13px;',n.getScrollerElement().style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;",n.refresh(),{getCodeMirror:function(){return n},setContent:function(e){n.setValue(e)},getContent:function(){return n.getValue()},select:function(){n.focus()},dispose:function(){t.removeChild(i),i=null,n=null}}}};UE.plugins.source=function(){function t(t){return e["codemirror"==o.sourceEditor&&window.CodeMirror?"codemirror":"textarea"](r,t)}var n,i,r=this,o=this.options,a=!1;o.sourceEditor=browser.ie?"textarea":o.sourceEditor||"codemirror",r.setOpt({sourceEditorFirst:!1});var s,l,c;r.commands.source={execCommand:function(){if(a=!a){c=r.selection.getRange().createAddress(!1,!0),r.undoManger&&r.undoManger.save(!0),browser.gecko&&(r.body.contentEditable=!1),s=r.iframe.style.cssText,r.iframe.style.cssText+="position:absolute;left:-32768px;top:-32768px;",r.fireEvent("beforegetcontent");var e=UE.htmlparser(r.body.innerHTML);r.filterOutputRule(e),e.traversal(function(e){if("element"==e.type)switch(e.tagName){case"td":case"th":case"caption":e.children&&1==e.children.length&&"br"==e.firstChild().tagName&&e.removeChild(e.firstChild());break;case"pre":e.innerText(e.innerText().replace(/&nbsp;/g," "))}}),r.fireEvent("aftergetcontent");var o=e.toHtml(!0);n=t(r.iframe.parentNode),n.setContent(o),i=r.setContent,r.setContent=function(e){var t=UE.htmlparser(e);r.filterInputRule(t),e=t.toHtml(),n.setContent(e)},setTimeout(function(){n.select(),r.addListener("fullscreenchanged",function(){try{n.getCodeMirror().refresh()}catch(e){}})}),l=r.getContent,r.getContent=function(){return n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{r.iframe.style.cssText=s;var u=n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";u=u.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(e,t){return t&&!dtd.$inlineWithA[t.toLowerCase()]?e.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):e.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),r.setContent=i,r.setContent(u),n.dispose(),n=null,r.getContent=l;var d=r.body.firstChild;if(d||(r.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",d=r.body.firstChild),r.undoManger&&r.undoManger.save(!0),browser.gecko){var f=document.createElement("input");f.style.cssText="position:absolute;left:0;top:-32768px",document.body.appendChild(f),r.body.contentEditable=!1,setTimeout(function(){domUtils.setViewportOffset(f,{left:-32768,top:0}),f.focus(),setTimeout(function(){r.body.contentEditable=!0,r.selection.getRange().moveToAddress(c).select(!0),domUtils.remove(f)})})}else try{r.selection.getRange().moveToAddress(c).select(!0)}catch(h){}}this.fireEvent("sourcemodechanged",a)},queryCommandState:function(){return 0|a},notNeedUndo:1};var u=r.queryCommandState;r.queryCommandState=function(e){return e=e.toLowerCase(),a?e in{source:1,fullscreen:1}?1:-1:u.apply(this,arguments)},"codemirror"==o.sourceEditor&&r.addListener("ready",function(){utils.loadFile(document,{src:o.codeMirrorJsUrl||o.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.js",tag:"script",type:"text/javascript",defer:"defer"},function(){o.sourceEditorFirst&&setTimeout(function(){r.execCommand("source")},0)}),utils.loadFile(document,{tag:"link",rel:"stylesheet",type:"text/css",href:o.codeMirrorCssUrl||o.UEDITOR_HOME_URL+"third-party/codemirror/codemirror.css"})})}}(),UE.plugins.enterkey=function(){var e,t=this,n=t.options.enterTag;t.addListener("keyup",function(n,i){var r=i.keyCode||i.which;if(13==r){var o,a=t.selection.getRange(),s=a.startContainer;if(browser.ie)t.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(e)){if(browser.gecko){var l=domUtils.findParentByTagName(s,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0);l||(t.document.execCommand("formatBlock",!1,"<p>"),o=1)}else if(1==s.nodeType){var c,u=t.document.createTextNode("");if(a.insertNode(u),c=domUtils.findParentByTagName(u,"div",!0)){for(var d=t.document.createElement("p");c.firstChild;)d.appendChild(c.firstChild);c.parentNode.insertBefore(d,c),domUtils.remove(c),a.setStartBefore(u).setCursor(),o=1}domUtils.remove(u)}t.undoManger&&o&&t.undoManger.save()}browser.opera&&a.select()}}}),t.addListener("keydown",function(i,r){var o=r.keyCode||r.which;if(13==o){if(t.fireEvent("beforeenterkeydown"))return void domUtils.preventDefault(r);t.fireEvent("saveScene",!0,!0),e="";var a=t.selection.getRange();if(!a.collapsed){var s=a.startContainer,l=a.endContainer,c=domUtils.findParentByTagName(s,"td",!0),u=domUtils.findParentByTagName(l,"td",!0);if(c&&u&&c!==u||!c&&u||c&&!u)return void(r.preventDefault?r.preventDefault():r.returnValue=!1)}if("p"==n)browser.ie||(s=domUtils.findParentByTagName(a.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0),s||browser.opera?(e=s.tagName,"p"==s.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(s)):(t.document.execCommand("formatBlock",!1,"<p>"),browser.gecko&&(a=t.selection.getRange(),s=domUtils.findParentByTagName(a.startContainer,"p",!0),s&&domUtils.removeDirtyAttr(s))));else if(r.preventDefault?r.preventDefault():r.returnValue=!1,a.collapsed){f=a.document.createElement("br"),a.insertNode(f);var d=f.parentNode;d.lastChild===f?(f.parentNode.insertBefore(f.cloneNode(!0),f),a.setStartBefore(f)):a.setStartAfter(f),a.setCursor()}else if(a.deleteContents(),s=a.startContainer,1==s.nodeType&&(s=s.childNodes[a.startOffset])){for(;1==s.nodeType;){if(dtd.$empty[s.tagName])return a.setStartBefore(s).setCursor(),t.undoManger&&t.undoManger.save(),!1;if(!s.firstChild){var f=a.document.createElement("br");return s.appendChild(f),a.setStart(s,0).setCursor(),t.undoManger&&t.undoManger.save(),!1}s=s.firstChild}s===a.startContainer.childNodes[a.startOffset]?(f=a.document.createElement("br"),a.insertNode(f).setCursor()):a.setStart(s,0).setCursor()}else f=a.document.createElement("br"),a.insertNode(f).setStartAfter(f).setCursor()}})},UE.plugins.keystrokes=function(){var e=this,t=!0;e.addListener("keydown",function(n,i){var r=i.keyCode||i.which,o=e.selection.getRange();if(!o.collapsed&&!(i.ctrlKey||i.shiftKey||i.altKey||i.metaKey)&&(r>=65&&90>=r||r>=48&&57>=r||r>=96&&111>=r||{13:1,8:1,46:1}[r])){var a=o.startContainer;if(domUtils.isFillChar(a)&&o.setStartBefore(a),a=o.endContainer,domUtils.isFillChar(a)&&o.setEndAfter(a),o.txtToElmBoundary(),o.endContainer&&1==o.endContainer.nodeType&&(a=o.endContainer.childNodes[o.endOffset],a&&domUtils.isBr(a)&&o.setEndAfter(a)),0==o.startOffset&&(a=o.startContainer,domUtils.isBoundaryNode(a,"firstChild")&&(a=o.endContainer,o.endOffset==(3==a.nodeType?a.nodeValue.length:a.childNodes.length)&&domUtils.isBoundaryNode(a,"lastChild"))))return e.fireEvent("saveScene"),e.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",o.setStart(e.body.firstChild,0).setCursor(!1,!0),void e._selectionChange()}if(r==keymap.Backspace){if(o=e.selection.getRange(),t=o.collapsed,e.fireEvent("delkeydown",i))return;var s,l;if(o.collapsed&&o.inFillChar()&&(s=o.startContainer,domUtils.isFillChar(s)?(o.setStartBefore(s).shrinkBoundary(!0).collapse(!0),domUtils.remove(s)):(s.nodeValue=s.nodeValue.replace(new RegExp("^"+domUtils.fillChar),""),o.startOffset--,o.collapse(!0).select(!0))),s=o.getClosedNode())return e.fireEvent("saveScene"),o.setStartBefore(s),domUtils.remove(s),o.setCursor(),e.fireEvent("saveScene"),void domUtils.preventDefault(i);if(!browser.ie&&(s=domUtils.findParentByTagName(o.startContainer,"table",!0),l=domUtils.findParentByTagName(o.endContainer,"table",!0),s&&!l||!s&&l||s!==l))return void i.preventDefault()}if(r==keymap.Tab){var c={ol:1,ul:1,table:1};if(e.fireEvent("tabkeydown",i))return void domUtils.preventDefault(i);var u=e.selection.getRange();e.fireEvent("saveScene");for(var d=0,f="",h=e.options.tabSize||4,p=e.options.tabNode||"&nbsp;";h>d;d++)f+=p;var m=e.document.createElement("span");if(m.innerHTML=f+domUtils.fillChar,u.collapsed)u.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var g=function(e){return domUtils.isBlockElm(e)&&!c[e.tagName.toLowerCase()]};if(s=domUtils.findParent(u.startContainer,g,!0),l=domUtils.findParent(u.endContainer,g,!0),s&&l&&s===l)u.deleteContents(),u.insertNode(m.cloneNode(!0).firstChild).setCursor(!0);else{var v=u.createBookmark();u.enlarge(!0);for(var y=u.createBookmark(),b=domUtils.getNextDomNode(y.start,!1,g);b&&!(domUtils.getPosition(b,y.end)&domUtils.POSITION_FOLLOWING);)b.insertBefore(m.cloneNode(!0).firstChild,b.firstChild),b=domUtils.getNextDomNode(b,!1,g);u.moveToBookmark(y).moveToBookmark(v).select()}}domUtils.preventDefault(i)}if(browser.gecko&&46==r&&(u=e.selection.getRange(),u.collapsed&&(s=u.startContainer,domUtils.isEmptyBlock(s)))){for(var C=s.parentNode;1==domUtils.getChildCount(C)&&!domUtils.isBody(C);)s=C,C=C.parentNode;return void(s===C.lastChild&&i.preventDefault())}}),e.addListener("keyup",function(e,n){var i,r=n.keyCode||n.which,o=this;if(r==keymap.Backspace){if(o.fireEvent("delkeyup"))return;if(i=o.selection.getRange(),i.collapsed){var a,s=["h1","h2","h3","h4","h5","h6"];if((a=domUtils.findParentByTagName(i.startContainer,s,!0))&&domUtils.isEmptyBlock(a)){var l=a.previousSibling;if(l&&"TABLE"!=l.nodeName)return domUtils.remove(a),void i.setStartAtLast(l).setCursor(!1,!0);var c=a.nextSibling;if(c&&"TABLE"!=c.nodeName)return domUtils.remove(a),void i.setStartAtFirst(c).setCursor(!1,!0)}if(domUtils.isBody(i.startContainer)){var a=domUtils.createElement(o.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});i.insertNode(a).setStart(a,0).setCursor(!1,!0)}}if(!t&&(3==i.startContainer.nodeType||1==i.startContainer.nodeType&&domUtils.isEmptyBlock(i.startContainer)))if(browser.ie){var u=i.document.createElement("span");i.insertNode(u).setStartBefore(u).collapse(!0),i.select(),domUtils.remove(u)}else i.select()}})},UE.plugins.fiximgclick=function(){function e(){this.editor=null,this.resizer=null,this.cover=null,this.doc=document,this.prePos={x:0,y:0},this.startPos={x:0,y:0}}var t=!1;return function(){var n=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];e.prototype={init:function(e){var t=this;t.editor=e,t.startPos=this.prePos={x:0,y:0},t.dragId=-1;var n=[],r=t.cover=document.createElement("div"),o=t.resizer=document.createElement("div");for(r.id=t.editor.ui.id+"_imagescale_cover",r.style.cssText="position:absolute;display:none;z-index:"+t.editor.options.zIndex+";filter:alpha(opacity=0); opacity:0;background:#CCC;",domUtils.on(r,"mousedown click",function(){t.hide()}),i=0;i<8;i++)n.push('<span class="edui-editor-imagescale-hand'+i+'"></span>');o.id=t.editor.ui.id+"_imagescale",o.className="edui-editor-imagescale",o.innerHTML=n.join(""),o.style.cssText+=";display:none;border:1px solid #3b77ff;z-index:"+t.editor.options.zIndex+";",t.editor.ui.getDom().appendChild(r),t.editor.ui.getDom().appendChild(o),t.initStyle(),t.initEvents()},initStyle:function(){utils.cssRule("imagescale",".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}.edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},initEvents:function(){var e=this;e.startPos.x=e.startPos.y=0,e.isDraging=!1},_eventHandler:function(e){var n=this;switch(e.type){case"mousedown":var i,i=e.target||e.srcElement;-1!=i.className.indexOf("edui-editor-imagescale-hand")&&-1==n.dragId&&(n.dragId=i.className.slice(-1),n.startPos.x=n.prePos.x=e.clientX,n.startPos.y=n.prePos.y=e.clientY,domUtils.on(n.doc,"mousemove",n.proxy(n._eventHandler,n)));break;case"mousemove":-1!=n.dragId&&(n.updateContainerStyle(n.dragId,{x:e.clientX-n.prePos.x,y:e.clientY-n.prePos.y}),n.prePos.x=e.clientX,n.prePos.y=e.clientY,t=!0,n.updateTargetElement());break;case"mouseup":-1!=n.dragId&&(n.updateContainerStyle(n.dragId,{x:e.clientX-n.prePos.x,y:e.clientY-n.prePos.y}),n.updateTargetElement(),n.target.parentNode&&n.attachTo(n.target),n.dragId=-1),domUtils.un(n.doc,"mousemove",n.proxy(n._eventHandler,n)),t&&(t=!1,n.editor.fireEvent("contentchange"))}},updateTargetElement:function(){var e=this;domUtils.setStyles(e.target,{width:e.resizer.style.width,height:e.resizer.style.height}),e.target.width=parseInt(e.resizer.style.width),e.target.height=parseInt(e.resizer.style.height),e.attachTo(e.target)},updateContainerStyle:function(e,t){var i,r=this,o=r.resizer;0!=n[e][0]&&(i=parseInt(o.style.left)+t.x,o.style.left=r._validScaledProp("left",i)+"px"),0!=n[e][1]&&(i=parseInt(o.style.top)+t.y,o.style.top=r._validScaledProp("top",i)+"px"),0!=n[e][2]&&(i=o.clientWidth+n[e][2]*t.x,o.style.width=r._validScaledProp("width",i)+"px"),0!=n[e][3]&&(i=o.clientHeight+n[e][3]*t.y,o.style.height=r._validScaledProp("height",i)+"px")},_validScaledProp:function(e,t){var n=this.resizer,i=document;switch(t=isNaN(t)?0:t,e){case"left":return 0>t?0:t+n.clientWidth>i.clientWidth?i.clientWidth-n.clientWidth:t;case"top":return 0>t?0:t+n.clientHeight>i.clientHeight?i.clientHeight-n.clientHeight:t;case"width":return 0>=t?1:t+n.offsetLeft>i.clientWidth?i.clientWidth-n.offsetLeft:t;case"height":return 0>=t?1:t+n.offsetTop>i.clientHeight?i.clientHeight-n.offsetTop:t}},hideCover:function(){this.cover.style.display="none"},showCover:function(){var e=this,t=domUtils.getXY(e.editor.ui.getDom()),n=domUtils.getXY(e.editor.iframe);domUtils.setStyles(e.cover,{width:e.editor.iframe.offsetWidth+"px",height:e.editor.iframe.offsetHeight+"px",top:n.y-t.y+"px",left:n.x-t.x+"px",position:"absolute",display:""})},show:function(e){var t=this;t.resizer.style.display="block",e&&t.attachTo(e),domUtils.on(this.resizer,"mousedown",t.proxy(t._eventHandler,t)),domUtils.on(t.doc,"mouseup",t.proxy(t._eventHandler,t)),t.showCover(),t.editor.fireEvent("afterscaleshow",t),t.editor.fireEvent("saveScene")},hide:function(){var e=this;e.hideCover(),e.resizer.style.display="none",domUtils.un(e.resizer,"mousedown",e.proxy(e._eventHandler,e)),domUtils.un(e.doc,"mouseup",e.proxy(e._eventHandler,e)),e.editor.fireEvent("afterscalehide",e)},proxy:function(e,t){return function(n){return e.apply(t||this,arguments)}},attachTo:function(e){var t=this,n=t.target=e,i=this.resizer,r=domUtils.getXY(n),o=domUtils.getXY(t.editor.iframe),a=domUtils.getXY(i.parentNode);domUtils.setStyles(i,{width:n.width+"px",height:n.height+"px",left:o.x+r.x-t.editor.document.body.scrollLeft-a.x-parseInt(i.style.borderLeftWidth)+"px",top:o.y+r.y-t.editor.document.body.scrollTop-a.y-parseInt(i.style.borderTopWidth)+"px"})}}}(),function(){var t,n=this;n.setOpt("imageScaleEnabled",!0),!browser.ie&&n.options.imageScaleEnabled&&n.addListener("click",function(i,r){var o=n.selection.getRange(),a=o.getClosedNode();if(a&&"IMG"==a.tagName&&"false"!=n.body.contentEditable){if(-1!=a.className.indexOf("edui-faked-music")||a.getAttribute("anchorname")||domUtils.hasClass(a,"loadingclass")||domUtils.hasClass(a,"loaderrorclass"))return;if(!t){t=new e,t.init(n),n.ui.getDom().appendChild(t.resizer);var s,l=function(e){t.hide(),t.target&&n.selection.getRange().selectNode(t.target).select()},c=function(e){var t=e.target||e.srcElement;!t||void 0!==t.className&&-1!=t.className.indexOf("edui-editor-imagescale")||l(e)};n.addListener("afterscaleshow",function(e){n.addListener("beforekeydown",l),n.addListener("beforemousedown",c),domUtils.on(document,"keydown",l),domUtils.on(document,"mousedown",c),n.selection.getNative().removeAllRanges()}),n.addListener("afterscalehide",function(e){n.removeListener("beforekeydown",l),n.removeListener("beforemousedown",c),domUtils.un(document,"keydown",l),domUtils.un(document,"mousedown",c);var i=t.target;i.parentNode&&n.selection.getRange().selectNode(i).select()}),domUtils.on(t.resizer,"mousedown",function(e){n.selection.getNative().removeAllRanges();var i=e.target||e.srcElement;i&&-1==i.className.indexOf("edui-editor-imagescale-hand")&&(s=setTimeout(function(){t.hide(),t.target&&n.selection.getRange().selectNode(i).select()},200))}),domUtils.on(t.resizer,"mouseup",function(e){var t=e.target||e.srcElement;t&&-1==t.className.indexOf("edui-editor-imagescale-hand")&&clearTimeout(s)})}t.show(a)}else t&&"none"!=t.resizer.style.display&&t.hide()}),browser.webkit&&n.addListener("click",function(e,t){if("IMG"==t.target.tagName&&"false"!=n.body.contentEditable){var i=new dom.Range(n.document);i.selectNode(t.target).select()}})}}(),UE.plugin.register("autolink",function(){var e=0;return browser.ie?{}:{bindEvents:{reset:function(){e=0},keydown:function(e,t){var n=this,i=t.keyCode||t.which;if(32==i||13==i){for(var r,o,a=n.selection.getNative(),s=a.getRangeAt(0).cloneRange(),l=s.startContainer;1==l.nodeType&&s.startOffset>0&&(l=s.startContainer.childNodes[s.startOffset-1]);)s.setStart(l,1==l.nodeType?l.childNodes.length:l.nodeValue.length),s.collapse(!0),l=s.startContainer;do{if(0==s.startOffset){for(l=s.startContainer.previousSibling;l&&1==l.nodeType;)l=l.lastChild;if(!l||domUtils.isFillChar(l))break;r=l.nodeValue.length}else l=s.startContainer,r=s.startOffset;s.setStart(l,r-1),o=s.toString().charCodeAt(0)}while(160!=o&&32!=o);if(s.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;s.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(s.toString());)try{s.setStart(s.startContainer,s.startOffset+1)}catch(c){for(var l=s.startContainer;!(next=l.nextSibling);){if(domUtils.isBody(l))return;l=l.parentNode}s.setStart(next,0)}if(domUtils.findParentByTagName(s.startContainer,"a",!0))return;var u,d=n.document.createElement("a"),f=n.document.createTextNode(" ");n.undoManger&&n.undoManger.save(),d.appendChild(s.extractContents()),d.href=d.innerHTML=d.innerHTML.replace(/<[^>]+>/g,""),u=d.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),""),u=/^(?:https?:\/\/)/gi.test(u)?u:"http://"+u,d.setAttribute("_src",utils.html(u)),d.href=utils.html(u),s.insertNode(d),d.parentNode.insertBefore(f,d.nextSibling),s.setStart(f,0),s.collapse(!0),a.removeAllRanges(),a.addRange(s),n.undoManger&&n.undoManger.save()}}}}}},function(){function e(e){if(3==e.nodeType)return null;if("A"==e.nodeName)return e;for(var t=e.lastChild;t;){if("A"==t.nodeName)return t;if(3==t.nodeType){if(domUtils.isWhitespace(t)){t=t.previousSibling;continue}return null}t=t.lastChild}}var t={37:1,38:1,39:1,40:1,13:1,32:1};browser.ie&&this.addListener("keyup",function(n,i){var r=this,o=i.keyCode;if(t[o]){var a=r.selection.getRange(),s=a.startContainer;if(13==o){for(;s&&!domUtils.isBody(s)&&!domUtils.isBlockElm(s);)s=s.parentNode;if(s&&!domUtils.isBody(s)&&"P"==s.nodeName){var l=s.previousSibling;if(l&&1==l.nodeType){var l=e(l);l&&!l.getAttribute("_href")&&domUtils.remove(l,!0)}}}else if(32==o)3==s.nodeType&&/^\s$/.test(s.nodeValue)&&(s=s.previousSibling,s&&"A"==s.nodeName&&!s.getAttribute("_href")&&domUtils.remove(s,!0));else if(s=domUtils.findParentByTagName(s,"a",!0),s&&!s.getAttribute("_href")){var c=a.createBookmark();domUtils.remove(s,!0),a.moveToBookmark(c).select(!0)}}})}),UE.plugins.autoheight=function(){function e(){var e=this;clearTimeout(r),o||(!e.queryCommandState||e.queryCommandState&&1!=e.queryCommandState("source"))&&(r=setTimeout(function(){for(var t=e.body.lastChild;t&&1!=t.nodeType;)t=t.previousSibling;t&&1==t.nodeType&&(t.style.clear="both",i=Math.max(domUtils.getXY(t).y+t.offsetHeight+25,Math.max(s.minFrameHeight,s.initialFrameHeight)),i!=a&&(i!==parseInt(e.iframe.parentNode.style.height)&&(e.iframe.parentNode.style.height=i+"px"),e.body.style.height=i+"px",a=i),domUtils.removeStyle(t,"clear"))},50))}var t=this;if(t.autoHeightEnabled=t.options.autoHeightEnabled!==!1,t.autoHeightEnabled){var n,i,r,o,a=0,s=t.options;t.addListener("fullscreenchanged",function(e,t){o=t}),t.addListener("destroy",function(){t.removeListener("contentchange afterinserthtml keyup mouseup",e)}),t.enableAutoHeight=function(){var t=this;if(t.autoHeightEnabled){var i=t.document;t.autoHeightEnabled=!0,n=i.body.style.overflowY,i.body.style.overflowY="hidden",t.addListener("contentchange afterinserthtml keyup mouseup",e),setTimeout(function(){e.call(t)},browser.gecko?100:0),t.fireEvent("autoheightchanged",t.autoHeightEnabled)}},t.disableAutoHeight=function(){t.body.style.overflowY=n||"",t.removeListener("contentchange",e),t.removeListener("keyup",e),t.removeListener("mouseup",e),t.autoHeightEnabled=!1,t.fireEvent("autoheightchanged",t.autoHeightEnabled)},t.on("setHeight",function(){t.disableAutoHeight()}),t.addListener("ready",function(){t.enableAutoHeight();var n;domUtils.on(browser.ie?t.body:t.document,browser.webkit?"dragover":"drop",function(){clearTimeout(n),n=setTimeout(function(){e.call(t)},100)});var i;window.onscroll=function(){null===i?i=this.scrollY:0==this.scrollY&&0!=i&&(t.window.scrollTo(0,0),i=null)}})}},UE.plugins.autofloat=function(){function e(){return UE.ui?1:(alert(a.autofloatMsg),0)}function t(){var e=document.body.style;e.backgroundImage='url("about:blank")',e.backgroundAttachment="fixed"}function n(){var e=domUtils.getXY(u),t=domUtils.getComputedStyle(u,"position"),n=domUtils.getComputedStyle(u,"left");u.style.width=u.offsetWidth+"px",u.style.zIndex=1*o.options.zIndex+1,u.parentNode.insertBefore(g,u),p||m&&browser.ie?("absolute"!=u.style.position&&(u.style.position="absolute"),u.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-d+l+"px"):(browser.ie7Compat&&v&&(v=!1,u.style.left=domUtils.getXY(u).x-document.documentElement.getBoundingClientRect().left+2+"px"),"fixed"!=u.style.position&&(u.style.position="fixed",u.style.top=l+"px",("absolute"==t||"relative"==t)&&parseFloat(n)&&(u.style.left=e.x+"px")))}function i(){v=!0,g.parentNode&&g.parentNode.removeChild(g),u.style.cssText=c}function r(){var e=f(o.container),t=o.options.toolbarTopOffset||0;e.top<0&&e.bottom-u.offsetHeight>t?n():i()}var o=this,a=o.getLang();o.setOpt({topOffset:0});var s=o.options.autoFloatEnabled!==!1,l=o.options.topOffset;if(s){var c,u,d,f,h=UE.ui.uiUtils,p=browser.ie&&browser.version<=6,m=browser.quirks,g=document.createElement("div"),v=!0,y=utils.defer(function(){r()},browser.ie?200:100,!0);o.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],r),o.removeListener("keydown",y)}),o.addListener("ready",function(){if(e(o)){if(!o.ui)return;f=h.getClientRect,u=o.ui.getDom("toolbarbox"),d=f(u).top,c=u.style.cssText,g.style.height=u.offsetHeight+"px",p&&t(),domUtils.on(window,["scroll","resize"],r),o.addListener("keydown",y),o.addListener("beforefullscreenchange",function(e,t){t&&i()}),o.addListener("fullscreenchanged",function(e,t){t||r()}),o.addListener("sourcemodechanged",function(e,t){setTimeout(function(){r()},0)}),o.addListener("clearDoc",function(){setTimeout(function(){r()},0)})}})}},UE.plugins.video=function(){function e(e,t,i,r,o,a,s){e=utils.unhtmlForUrl(e),o=utils.unhtml(o),a=utils.unhtml(a),t=parseInt(t,10)||0,i=parseInt(i,10)||0;var l;switch(s){case"image":l="<img "+(r?'id="'+r+'"':"")+' width="'+t+'" height="'+i+'" _url="'+e+'" class="'+a.replace(/\bvideo-js\b/,"")+'" src="'+n.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+n.options.UEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(o?"float:"+o+";":"")+'" />';break;case"embed":l='<embed type="application/x-shockwave-flash" class="'+a+'" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+utils.html(e)+'" width="'+t+'" height="'+i+'"'+(o?' style="float:'+o+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >';break;case"video":var c=e.substr(e.lastIndexOf(".")+1);"ogv"==c&&(c="ogg"),l="<video"+(r?' id="'+r+'"':"")+' class="'+a+' video-js" '+(o?' style="float:'+o+'"':"")+' controls preload="none" width="'+t+'" height="'+i+'" src="'+e+'" data-setup="{}"><source src="'+e+'" type="video/'+c+'" /></video>'}return l}function t(t,n){utils.each(t.getNodesByTagName(n?"img":"embed video"),function(t){var i=t.getAttr("class");if(i&&-1!=i.indexOf("edui-faked-video")){var r=e(n?t.getAttr("_url"):t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),null,t.getStyle("float")||"",i,n?"embed":"image");t.parentNode.replaceChild(UE.uNode.createElement(r),t)}if(i&&-1!=i.indexOf("edui-upload-video")){var r=e(n?t.getAttr("_url"):t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),null,t.getStyle("float")||"",i,n?"video":"image");t.parentNode.replaceChild(UE.uNode.createElement(r),t)}})}var n=this;n.addOutputRule(function(e){t(e,!0)}),n.addInputRule(function(e){t(e)}),n.commands.insertvideo={execCommand:function(t,i,r){i=utils.isArray(i)?i:[i];for(var o,a,s=[],l="tmpVedio",c=0,u=i.length;u>c;c++)a=i[c],o="upload"==r?"edui-upload-video video-js vjs-default-skin":"edui-faked-video",s.push(e(a.url,a.width||420,a.height||280,l+c,null,o,"image"));n.execCommand("inserthtml",s.join(""),!0);for(var d=this.selection.getRange(),c=0,u=i.length;u>c;c++){var f=this.document.getElementById("tmpVedio"+c);domUtils.removeAttributes(f,"id"),d.selectNode(f).select(),n.execCommand("imagefloat",i[c].align)}},queryCommandState:function(){var e=n.selection.getRange().getClosedNode(),t=e&&("edui-faked-video"==e.className||-1!=e.className.indexOf("edui-upload-video"));return t?1:0}}},function(){function e(e){}var t=UE.UETable=function(e){this.table=e,this.indexTable=[],this.selectedTds=[],this.cellsRange={},this.update(e)};t.removeSelectedClass=function(e){utils.each(e,function(e){domUtils.removeClasses(e,"selectTdClass")})},t.addSelectedClass=function(e){utils.each(e,function(e){domUtils.addClass(e,"selectTdClass")})},t.isEmptyBlock=function(e){var t=new RegExp(domUtils.fillChar,"g");if(e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(dtd.$isNotEmpty.hasOwnProperty(n)&&e.getElementsByTagName(n).length)return 0;return 1},t.getWidth=function(e){return e?parseInt(domUtils.getComputedStyle(e,"width"),10):0},t.getTableCellAlignState=function(e){!utils.isArray(e)&&(e=[e]);var t={},n=["align","valign"],i=null,r=!0;return utils.each(e,function(e){return utils.each(n,function(n){if(i=e.getAttribute(n),!t[n]&&i)t[n]=i;else if(!t[n]||i!==t[n])return r=!1,!1}),r}),r?t:null},t.getTableItemsByRange=function(e){var t=e.selection.getStart();t&&t.id&&0===t.id.indexOf("_baidu_bookmark_start_")&&t.nextSibling&&(t=t.nextSibling);var n=t&&domUtils.findParentByTagName(t,["td","th"],!0),i=n&&n.parentNode,r=t&&domUtils.findParentByTagName(t,"caption",!0),o=r?r.parentNode:i&&i.parentNode.parentNode;return{cell:n,tr:i,table:o,caption:r}},t.getUETableBySelected=function(e){var n=t.getTableItemsByRange(e).table;return n&&n.ueTable&&n.ueTable.selectedTds.length?n.ueTable:null},t.getDefaultValue=function(e,t){var n,i,r,o,a={thin:"0px",medium:"1px",thick:"2px"};if(t)return s=t.getElementsByTagName("td")[0],o=domUtils.getComputedStyle(t,"border-left-width"),n=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"padding-left"),i=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"border-left-width"),r=parseInt(a[o]||o,10),{tableBorder:n,tdPadding:i,tdBorder:r};t=e.document.createElement("table"),t.insertRow(0).insertCell(0).innerHTML="xxx",e.body.appendChild(t);var s=t.getElementsByTagName("td")[0];return o=domUtils.getComputedStyle(t,"border-left-width"),n=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"padding-left"),i=parseInt(a[o]||o,10),o=domUtils.getComputedStyle(s,"border-left-width"),r=parseInt(a[o]||o,10),domUtils.remove(t),{tableBorder:n,tdPadding:i,tdBorder:r}},t.getUETable=function(e){var n=e.tagName.toLowerCase();return e="td"==n||"th"==n||"caption"==n?domUtils.findParentByTagName(e,"table",!0):e,e.ueTable||(e.ueTable=new t(e)),e.ueTable},t.cloneCell=function(e,t,n){if(!e||utils.isString(e))return this.table.ownerDocument.createElement(e||"td");var i=domUtils.hasClass(e,"selectTdClass");i&&domUtils.removeClasses(e,"selectTdClass");var r=e.cloneNode(!0);return t&&(r.rowSpan=r.colSpan=1),!n&&domUtils.removeAttributes(r,"width height"),!n&&domUtils.removeAttributes(r,"style"),r.style.borderLeftStyle="",r.style.borderTopStyle="",r.style.borderLeftColor=e.style.borderRightColor,r.style.borderLeftWidth=e.style.borderRightWidth,r.style.borderTopColor=e.style.borderBottomColor,r.style.borderTopWidth=e.style.borderBottomWidth,i&&domUtils.addClass(e,"selectTdClass"),r},t.prototype={getMaxRows:function(){for(var e,t=this.table.rows,n=1,i=0;e=t[i];i++){for(var r,o=1,a=0;r=e.cells[a++];)o=Math.max(r.rowSpan||1,o);n=Math.max(o+i,n)}return n},getMaxCols:function(){for(var e,t=this.table.rows,n=0,i={},r=0;e=t[r];r++){for(var o,a=0,s=0;o=e.cells[s++];)if(a+=o.colSpan||1,o.rowSpan&&o.rowSpan>1)for(var l=1;l<o.rowSpan;l++)i["row_"+(r+l)]?i["row_"+(r+l)]++:i["row_"+(r+l)]=o.colSpan||1;a+=i["row_"+r]||0,n=Math.max(a,n)}return n},getCellColIndex:function(e){},getHSideCell:function(t,n){try{var i,r,o=this.getCellInfo(t),a=this.selectedTds.length,s=this.cellsRange;return!n&&(a?!s.beginColIndex:!o.colIndex)||n&&(a?s.endColIndex==this.colsNum-1:o.colIndex==this.colsNum-1)?null:(i=a?s.beginRowIndex:o.rowIndex,r=n?a?s.endColIndex+1:o.colIndex+1:a?s.beginColIndex-1:o.colIndex<1?0:o.colIndex-1,this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex))}catch(l){e(l)}},getTabNextCell:function(e,t){var n,i=this.getCellInfo(e),r=t||i.rowIndex,o=i.colIndex+1+(i.colSpan-1);try{n=this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex)}catch(a){try{r=1*r+1,o=0,n=this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex)}catch(a){}}return n},getVSideCell:function(t,n,i){try{var r,o,a=this.getCellInfo(t),s=this.selectedTds.length&&!i,l=this.cellsRange;return!n&&0==a.rowIndex||n&&(s?l.endRowIndex==this.rowsNum-1:a.rowIndex+a.rowSpan>this.rowsNum-1)?null:(r=n?s?l.endRowIndex+1:a.rowIndex+a.rowSpan:s?l.beginRowIndex-1:a.rowIndex-1,o=s?l.beginColIndex:a.colIndex,this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex))}catch(c){e(c)}},getSameEndPosCells:function(t,n){try{for(var i="x"===n.toLowerCase(),r=domUtils.getXY(t)[i?"x":"y"]+t["offset"+(i?"Width":"Height")],o=this.table.rows,a=null,s=[],l=0;l<this.rowsNum;l++){a=o[l].cells;for(var c,u=0;c=a[u++];){var d=domUtils.getXY(c)[i?"x":"y"]+c["offset"+(i?"Width":"Height")];if(d>r&&i)break;if((t==c||r==d)&&(1==c[i?"colSpan":"rowSpan"]&&s.push(c),i))break}}return s}catch(f){e(f)}},setCellContent:function(e,t){e.innerHTML=t||(browser.ie?domUtils.fillChar:"<br />")},cloneCell:t.cloneCell,getSameStartPosXCells:function(t){try{for(var n,i=domUtils.getXY(t).x+t.offsetWidth,r=this.table.rows,o=[],a=0;a<this.rowsNum;a++){
n=r[a].cells;for(var s,l=0;s=n[l++];){var c=domUtils.getXY(s).x;if(c>i)break;if(c==i&&1==s.colSpan){o.push(s);break}}}return o}catch(u){e(u)}},update:function(e){this.table=e||this.table,this.selectedTds=[],this.cellsRange={},this.indexTable=[];for(var t=this.table.rows,n=this.getMaxRows(),i=n-t.length,r=this.getMaxCols();i--;)this.table.insertRow(t.length);this.rowsNum=n,this.colsNum=r;for(var o=0,a=t.length;a>o;o++)this.indexTable[o]=new Array(r);for(var s,l=0;s=t[l];l++)for(var c,u=0,d=s.cells;c=d[u];u++){c.rowSpan>n&&(c.rowSpan=n);for(var f=u,h=c.rowSpan||1,p=c.colSpan||1;this.indexTable[l][f];)f++;for(var m=0;h>m;m++)for(var g=0;p>g;g++)this.indexTable[l+m][f+g]={rowIndex:l,cellIndex:u,colIndex:f,rowSpan:h,colSpan:p}}for(m=0;n>m;m++)for(g=0;r>g;g++)void 0===this.indexTable[m][g]&&(s=t[m],c=s.cells[s.cells.length-1],c=c?c.cloneNode(!0):this.table.ownerDocument.createElement("td"),this.setCellContent(c),1!==c.colSpan&&(c.colSpan=1),1!==c.rowSpan&&(c.rowSpan=1),s.appendChild(c),this.indexTable[m][g]={rowIndex:m,cellIndex:c.cellIndex,colIndex:g,rowSpan:1,colSpan:1});var v=domUtils.getElementsByTagName(this.table,"td"),y=[];if(utils.each(v,function(e){domUtils.hasClass(e,"selectTdClass")&&y.push(e)}),y.length){var b=y[0],C=y[y.length-1],w=this.getCellInfo(b),x=this.getCellInfo(C);this.selectedTds=y,this.cellsRange={beginRowIndex:w.rowIndex,beginColIndex:w.colIndex,endRowIndex:x.rowIndex+x.rowSpan-1,endColIndex:x.colIndex+x.colSpan-1}}if(!domUtils.hasClass(this.table.rows[0],"firstRow")){domUtils.addClass(this.table.rows[0],"firstRow");for(var o=1;o<this.table.rows.length;o++)domUtils.removeClasses(this.table.rows[o],"firstRow")}},getCellInfo:function(e){if(e)for(var t=e.cellIndex,n=e.parentNode.rowIndex,i=this.indexTable[n],r=this.colsNum,o=t;r>o;o++){var a=i[o];if(a.rowIndex===n&&a.cellIndex===t)return a}},getCell:function(e,t){return e<this.rowsNum&&this.table.rows[e].cells[t]||null},deleteCell:function(e,t){t="number"==typeof t?t:e.parentNode.rowIndex;var n=this.table.rows[t];n.deleteCell(e.cellIndex)},getCellsRange:function(e,t){function n(e,t,r,o){var a,s,l,c=e,u=t,d=r,f=o;if(e>0)for(s=t;o>s;s++)a=i.indexTable[e][s],l=a.rowIndex,e>l&&(c=Math.min(l,c));if(o<i.colsNum)for(l=e;r>l;l++)a=i.indexTable[l][o],s=a.colIndex+a.colSpan-1,s>o&&(f=Math.max(s,f));if(r<i.rowsNum)for(s=t;o>s;s++)a=i.indexTable[r][s],l=a.rowIndex+a.rowSpan-1,l>r&&(d=Math.max(l,d));if(t>0)for(l=e;r>l;l++)a=i.indexTable[l][t],s=a.colIndex,t>s&&(u=Math.min(a.colIndex,u));return c!=e||u!=t||d!=r||f!=o?n(c,u,d,f):{beginRowIndex:e,beginColIndex:t,endRowIndex:r,endColIndex:o}}try{var i=this,r=i.getCellInfo(e);if(e===t)return{beginRowIndex:r.rowIndex,beginColIndex:r.colIndex,endRowIndex:r.rowIndex+r.rowSpan-1,endColIndex:r.colIndex+r.colSpan-1};var o=i.getCellInfo(t),a=Math.min(r.rowIndex,o.rowIndex),s=Math.min(r.colIndex,o.colIndex),l=Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1),c=Math.max(r.colIndex+r.colSpan-1,o.colIndex+o.colSpan-1);return n(a,s,l,c)}catch(u){}},getCells:function(e){this.clearSelected();for(var t,n,i,r=e.beginRowIndex,o=e.beginColIndex,a=e.endRowIndex,s=e.endColIndex,l={},c=[],u=r;a>=u;u++)for(var d=o;s>=d;d++){t=this.indexTable[u][d],n=t.rowIndex,i=t.colIndex;var f=n+"|"+i;if(!l[f]){if(l[f]=1,u>n||d>i||n+t.rowSpan-1>a||i+t.colSpan-1>s)return null;c.push(this.getCell(n,t.cellIndex))}}return c},clearSelected:function(){t.removeSelectedClass(this.selectedTds),this.selectedTds=[],this.cellsRange={}},setSelected:function(e){var n=this.getCells(e);t.addSelectedClass(n),this.selectedTds=n,this.cellsRange=e},isFullRow:function(){var e=this.cellsRange;return e.endColIndex-e.beginColIndex+1==this.colsNum},isFullCol:function(){var e=this.cellsRange,t=this.table,n=t.getElementsByTagName("th"),i=e.endRowIndex-e.beginRowIndex+1;return n.length?i==this.rowsNum||i==this.rowsNum-1:i==this.rowsNum},getNextCell:function(t,n,i){try{var r,o,a=this.getCellInfo(t),s=this.selectedTds.length&&!i,l=this.cellsRange;return!n&&0==a.rowIndex||n&&(s?l.endRowIndex==this.rowsNum-1:a.rowIndex+a.rowSpan>this.rowsNum-1)?null:(r=n?s?l.endRowIndex+1:a.rowIndex+a.rowSpan:s?l.beginRowIndex-1:a.rowIndex-1,o=s?l.beginColIndex:a.colIndex,this.getCell(this.indexTable[r][o].rowIndex,this.indexTable[r][o].cellIndex))}catch(c){e(c)}},getPreviewCell:function(t,n){try{var i,r,o=this.getCellInfo(t),a=this.selectedTds.length,s=this.cellsRange;return!n&&(a?!s.beginColIndex:!o.colIndex)||n&&(a?s.endColIndex==this.colsNum-1:o.rowIndex>this.colsNum-1)?null:(i=n?a?s.beginRowIndex:o.rowIndex<1?0:o.rowIndex-1:a?s.beginRowIndex:o.rowIndex,r=n?a?s.endColIndex+1:o.colIndex:a?s.beginColIndex-1:o.colIndex<1?0:o.colIndex-1,this.getCell(this.indexTable[i][r].rowIndex,this.indexTable[i][r].cellIndex))}catch(l){e(l)}},moveContent:function(e,n){if(!t.isEmptyBlock(n)){if(t.isEmptyBlock(e))return void(e.innerHTML=n.innerHTML);var i=e.lastChild;for(3!=i.nodeType&&dtd.$block[i.tagName]||e.appendChild(e.ownerDocument.createElement("br"));i=n.firstChild;)e.appendChild(i)}},mergeRight:function(e){var t=this.getCellInfo(e),n=t.colIndex+t.colSpan,i=this.indexTable[t.rowIndex][n],r=this.getCell(i.rowIndex,i.cellIndex);e.colSpan=t.colSpan+i.colSpan,e.removeAttribute("width"),this.moveContent(e,r),this.deleteCell(r,i.rowIndex),this.update()},mergeDown:function(e){var t=this.getCellInfo(e),n=t.rowIndex+t.rowSpan,i=this.indexTable[n][t.colIndex],r=this.getCell(i.rowIndex,i.cellIndex);e.rowSpan=t.rowSpan+i.rowSpan,e.removeAttribute("height"),this.moveContent(e,r),this.deleteCell(r,i.rowIndex),this.update()},mergeRange:function(){var e=this.cellsRange,t=this.getCell(e.beginRowIndex,this.indexTable[e.beginRowIndex][e.beginColIndex].cellIndex);if("TH"==t.tagName&&e.endRowIndex!==e.beginRowIndex){var n=this.indexTable,i=this.getCellInfo(t);t=this.getCell(1,n[1][i.colIndex].cellIndex),e=this.getCellsRange(t,this.getCell(n[this.rowsNum-1][i.colIndex].rowIndex,n[this.rowsNum-1][i.colIndex].cellIndex))}for(var r,o=this.getCells(e),a=0;r=o[a++];)r!==t&&(this.moveContent(t,r),this.deleteCell(r));if(t.rowSpan=e.endRowIndex-e.beginRowIndex+1,t.rowSpan>1&&t.removeAttribute("height"),t.colSpan=e.endColIndex-e.beginColIndex+1,t.colSpan>1&&t.removeAttribute("width"),t.rowSpan==this.rowsNum&&1!=t.colSpan&&(t.colSpan=1),t.colSpan==this.colsNum&&1!=t.rowSpan){var s=t.parentNode.rowIndex;if(this.table.deleteRow)for(var a=s+1,l=s+1,c=t.rowSpan;c>a;a++)this.table.deleteRow(l);else for(var a=0,c=t.rowSpan-1;c>a;a++){var u=this.table.rows[s+1];u.parentNode.removeChild(u)}t.rowSpan=1}this.update()},insertRow:function(e,t){function n(e,t,n){if(0==e){var i=n.nextSibling||n.previousSibling,r=i.cells[e];"TH"==r.tagName&&(r=t.ownerDocument.createElement("th"),r.appendChild(t.firstChild),n.insertBefore(r,t),domUtils.remove(t))}else if("TH"==t.tagName){var o=t.ownerDocument.createElement("td");o.appendChild(t.firstChild),n.insertBefore(o,t),domUtils.remove(t)}}var i,r=this.colsNum,o=this.table,a=o.insertRow(e),s="string"==typeof t&&"TH"==t.toUpperCase();if(0==e||e==this.rowsNum)for(var l=0;r>l;l++)i=this.cloneCell(t,!0),this.setCellContent(i),i.getAttribute("vAlign")&&i.setAttribute("vAlign",i.getAttribute("vAlign")),a.appendChild(i),s||n(l,i,a);else{var c=this.indexTable[e];for(l=0;r>l;l++){var u=c[l];u.rowIndex<e?(i=this.getCell(u.rowIndex,u.cellIndex),i.rowSpan=u.rowSpan+1):(i=this.cloneCell(t,!0),this.setCellContent(i),a.appendChild(i)),s||n(l,i,a)}}return this.update(),a},deleteRow:function(e){for(var t=this.table.rows[e],n=this.indexTable[e],i=this.colsNum,r=0,o=0;i>o;){var a=n[o],s=this.getCell(a.rowIndex,a.cellIndex);if(s.rowSpan>1&&a.rowIndex==e){var l=s.cloneNode(!0);l.rowSpan=s.rowSpan-1,l.innerHTML="",s.rowSpan=1;var c,u=e+1,d=this.table.rows[u],f=this.getPreviewMergedCellsNum(u,o)-r;o>f?(c=o-f-1,domUtils.insertAfter(d.cells[c],l)):d.cells.length&&d.insertBefore(l,d.cells[0]),r+=1}o+=s.colSpan||1}var h=[],p={};for(o=0;i>o;o++){var m=n[o].rowIndex,g=n[o].cellIndex,v=m+"_"+g;p[v]||(p[v]=1,s=this.getCell(m,g),h.push(s))}var y=[];utils.each(h,function(e){1==e.rowSpan?e.parentNode.removeChild(e):y.push(e)}),utils.each(y,function(e){e.rowSpan--}),t.parentNode.removeChild(t),this.update()},insertCol:function(e,t,n){function i(e,t,n){if(0==e){var i=t.nextSibling||t.previousSibling;"TH"==i.tagName&&(i=t.ownerDocument.createElement("th"),i.appendChild(t.firstChild),n.insertBefore(i,t),domUtils.remove(t))}else if("TH"==t.tagName){var r=t.ownerDocument.createElement("td");r.appendChild(t.firstChild),n.insertBefore(r,t),domUtils.remove(t)}}var r,o,a,s=this.rowsNum,l=0,c=parseInt((this.table.offsetWidth-20*(this.colsNum+1)-(this.colsNum+1))/(this.colsNum+1),10),u="string"==typeof t&&"TH"==t.toUpperCase();if(0==e||e==this.colsNum)for(;s>l;l++)r=this.table.rows[l],a=r.cells[0==e?e:r.cells.length],o=this.cloneCell(t,!0),this.setCellContent(o),o.setAttribute("vAlign",o.getAttribute("vAlign")),a&&o.setAttribute("width",a.getAttribute("width")),e?domUtils.insertAfter(r.cells[r.cells.length-1],o):r.insertBefore(o,r.cells[0]),u||i(l,o,r);else for(;s>l;l++){var d=this.indexTable[l][e];d.colIndex<e?(o=this.getCell(d.rowIndex,d.cellIndex),o.colSpan=d.colSpan+1):(r=this.table.rows[l],a=r.cells[d.cellIndex],o=this.cloneCell(t,!0),this.setCellContent(o),o.setAttribute("vAlign",o.getAttribute("vAlign")),a&&o.setAttribute("width",a.getAttribute("width")),a?r.insertBefore(o,a):r.appendChild(o)),u||i(l,o,r)}this.update(),this.updateWidth(c,n||{tdPadding:10,tdBorder:1})},updateWidth:function(e,n){var i=this.table,r=t.getWidth(i)-2*n.tdPadding-n.tdBorder+e;if(r<i.ownerDocument.body.offsetWidth)return void i.setAttribute("width",r);var o=domUtils.getElementsByTagName(this.table,"td th");utils.each(o,function(t){t.setAttribute("width",e)})},deleteCol:function(e){for(var t=this.indexTable,n=this.table.rows,i=this.table.getAttribute("width"),r=0,o=this.rowsNum,a={},s=0;o>s;){var l=t[s],c=l[e],u=c.rowIndex+"_"+c.colIndex;if(!a[u]){a[u]=1;var d=this.getCell(c.rowIndex,c.cellIndex);r||(r=d&&parseInt(d.offsetWidth/d.colSpan,10).toFixed(0)),d.colSpan>1?d.colSpan--:n[s].deleteCell(c.cellIndex),s+=c.rowSpan||1}}this.table.setAttribute("width",i-r),this.update()},splitToCells:function(e){var t=this,n=this.splitToRows(e);utils.each(n,function(e){t.splitToCols(e)})},splitToRows:function(e){var t=this.getCellInfo(e),n=t.rowIndex,i=t.colIndex,r=[];e.rowSpan=1,r.push(e);for(var o=n,a=n+t.rowSpan;a>o;o++)if(o!=n){var s=this.table.rows[o],l=s.insertCell(i-this.getPreviewMergedCellsNum(o,i));l.colSpan=t.colSpan,this.setCellContent(l),l.setAttribute("vAlign",e.getAttribute("vAlign")),l.setAttribute("align",e.getAttribute("align")),e.style.cssText&&(l.style.cssText=e.style.cssText),r.push(l)}return this.update(),r},getPreviewMergedCellsNum:function(e,t){for(var n=this.indexTable[e],i=0,r=0;t>r;){var o=n[r].colSpan,a=n[r].rowIndex;i+=o-(a==e?1:0),r+=o}return i},splitToCols:function(e){var t=(e.offsetWidth/e.colSpan-22).toFixed(0),n=this.getCellInfo(e),i=n.rowIndex,r=n.colIndex,o=[];e.colSpan=1,e.setAttribute("width",t),o.push(e);for(var a=r,s=r+n.colSpan;s>a;a++)if(a!=r){var l=this.table.rows[i],c=l.insertCell(this.indexTable[i][a].cellIndex+1);if(c.rowSpan=n.rowSpan,this.setCellContent(c),c.setAttribute("vAlign",e.getAttribute("vAlign")),c.setAttribute("align",e.getAttribute("align")),c.setAttribute("width",t),e.style.cssText&&(c.style.cssText=e.style.cssText),"TH"==e.tagName){var u=e.ownerDocument.createElement("th");u.appendChild(c.firstChild),u.setAttribute("vAlign",e.getAttribute("vAlign")),u.rowSpan=c.rowSpan,l.insertBefore(u,c),domUtils.remove(c)}o.push(c)}return this.update(),o},isLastCell:function(e,t,n){t=t||this.rowsNum,n=n||this.colsNum;var i=this.getCellInfo(e);return i.rowIndex+i.rowSpan==t&&i.colIndex+i.colSpan==n},getLastCell:function(e){e=e||this.table.getElementsByTagName("td");var t,n=(this.getCellInfo(e[0]),this),i=e[0],r=i.parentNode,o=0,a=0;return utils.each(e,function(e){e.parentNode==r&&(a+=e.colSpan||1),o+=e.rowSpan*e.colSpan||1}),t=o/a,utils.each(e,function(e){return n.isLastCell(e,t,a)?(i=e,!1):void 0}),i},selectRow:function(e){var t=this.indexTable[e],n=this.getCell(t[0].rowIndex,t[0].cellIndex),i=this.getCell(t[this.colsNum-1].rowIndex,t[this.colsNum-1].cellIndex),r=this.getCellsRange(n,i);this.setSelected(r)},selectTable:function(){var e=this.table.getElementsByTagName("td"),t=this.getCellsRange(e[0],e[e.length-1]);this.setSelected(t)},setBackground:function(e,t){if("string"==typeof t)utils.each(e,function(e){e.style.backgroundColor=t});else if("object"==typeof t){t=utils.extend({repeat:!0,colorList:["#ddd","#fff"]},t);for(var n,i=this.getCellInfo(e[0]).rowIndex,r=0,o=t.colorList,a=function(e,t,n){return e[t]?e[t]:n?e[t%e.length]:""},s=0;n=e[s++];){var l=this.getCellInfo(n);n.style.backgroundColor=a(o,i+r==l.rowIndex?r:++r,t.repeat)}}},removeBackground:function(e){utils.each(e,function(e){e.style.backgroundColor=""})}}}(),function(){function e(e,n){var i=domUtils.getElementsByTagName(e,"td th");utils.each(i,function(e){e.removeAttribute("width")}),e.setAttribute("width",t(n,!0,a(n,e)));var r=[];setTimeout(function(){utils.each(i,function(e){1==e.colSpan&&r.push(e.offsetWidth)}),utils.each(i,function(e,t){1==e.colSpan&&e.setAttribute("width",r[t]+"")})},0)}function t(e,t,n){var i=e.body;return i.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(i,"margin-left"),10):0)-2*n.tableBorder-(e.options.offsetWidth||0)}function n(e){var t=r(e).cell;if(t){var n=s(t);return n.selectedTds.length?n.selectedTds:[t]}return[]}var i=UE.UETable,r=function(e){return i.getTableItemsByRange(e)},o=function(e){return i.getUETableBySelected(e)},a=function(e,t){return i.getDefaultValue(e,t)},s=function(e){return i.getUETable(e)};UE.commands.inserttable={queryCommandState:function(){return r(this).table?-1:0},execCommand:function(e,t){function n(e,t){for(var n=[],i=e.numRows,r=e.numCols,o=0;i>o;o++){n.push("<tr"+(0==o?' class="firstRow"':"")+">");for(var a=0;r>a;a++)n.push('<td width="'+t+'"  vAlign="'+e.tdvalign+'" >'+(browser.ie&&browser.version<11?domUtils.fillChar:"<br/>")+"</td>");n.push("</tr>")}return"<table><tbody>"+n.join("")+"</tbody></table>"}t||(t=utils.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign}));var i=this,r=this.selection.getRange(),o=r.startContainer,s=domUtils.findParent(o,function(e){return domUtils.isBlockElm(e)},!0)||i.body,l=a(i),c=s.offsetWidth,u=Math.floor(c/t.numCols-2*l.tdPadding-l.tdBorder);!t.tdvalign&&(t.tdvalign=i.options.tdvalign),i.execCommand("inserthtml",n(t,u))}},UE.commands.insertparagraphbeforetable={queryCommandState:function(){return r(this).cell?0:-1},execCommand:function(){var e=r(this).table;if(e){var t=this.document.createElement("p");t.innerHTML=browser.ie?"&nbsp;":"<br />",e.parentNode.insertBefore(t,e),this.selection.getRange().setStart(t,0).setCursor()}}},UE.commands.deletetable={queryCommandState:function(){var e=this.selection.getRange();return domUtils.findParentByTagName(e.startContainer,"table",!0)?0:-1},execCommand:function(e,t){var n=this.selection.getRange();if(t=t||domUtils.findParentByTagName(n.startContainer,"table",!0)){var i=t.nextSibling;i||(i=domUtils.createElement(this.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"}),t.parentNode.insertBefore(i,t)),domUtils.remove(t),n=this.selection.getRange(),3==i.nodeType?n.setStartBefore(i):n.setStart(i,0),n.setCursor(!1,!0),this.fireEvent("tablehasdeleted")}}},UE.commands.cellalign={queryCommandState:function(){return n(this).length?0:-1},execCommand:function(e,t){var i=n(this);if(i.length)for(var r,o=0;r=i[o++];)r.setAttribute("align",t)}},UE.commands.cellvalign={queryCommandState:function(){return n(this).length?0:-1},execCommand:function(e,t){var i=n(this);if(i.length)for(var r,o=0;r=i[o++];)r.setAttribute("vAlign",t)}},UE.commands.insertcaption={queryCommandState:function(){var e=r(this).table;return e&&0==e.getElementsByTagName("caption").length?1:-1},execCommand:function(){var e=r(this).table;if(e){var t=this.document.createElement("caption");t.innerHTML=browser.ie?domUtils.fillChar:"<br/>",e.insertBefore(t,e.firstChild);var n=this.selection.getRange();n.setStart(t,0).setCursor()}}},UE.commands.deletecaption={queryCommandState:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");return t?0==t.getElementsByTagName("caption").length?-1:1:-1},execCommand:function(){var e=this.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,"table");if(t){domUtils.remove(t.getElementsByTagName("caption")[0]);var n=this.selection.getRange();n.setStart(t.rows[0].cells[0],0).setCursor()}}},UE.commands.inserttitle={queryCommandState:function(){var e=r(this).table;if(e){var t=e.rows[0];return"th"!=t.cells[t.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=r(this).table;e&&s(e).insertRow(0,"th");var t=e.getElementsByTagName("th")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}},UE.commands.deletetitle={queryCommandState:function(){var e=r(this).table;if(e){var t=e.rows[0];return"th"==t.cells[t.cells.length-1].tagName.toLowerCase()?0:-1}return-1},execCommand:function(){var e=r(this).table;e&&domUtils.remove(e.rows[0]);var t=e.getElementsByTagName("td")[0];this.selection.getRange().setStart(t,0).setCursor(!1,!0)}},UE.commands.inserttitlecol={queryCommandState:function(){var e=r(this).table;if(e){var t=e.rows[e.rows.length-1];return t.getElementsByTagName("th").length?-1:0}return-1},execCommand:function(t){var n=r(this).table;n&&s(n).insertCol(0,"th"),e(n,this);var i=n.getElementsByTagName("th")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}},UE.commands.deletetitlecol={queryCommandState:function(){var e=r(this).table;if(e){var t=e.rows[e.rows.length-1];return t.getElementsByTagName("th").length?0:-1}return-1},execCommand:function(){var t=r(this).table;if(t)for(var n=0;n<t.rows.length;n++)domUtils.remove(t.rows[n].children[0]);e(t,this);var i=t.getElementsByTagName("td")[0];this.selection.getRange().setStart(i,0).setCursor(!1,!0)}},UE.commands.mergeright={queryCommandState:function(e){var t=r(this),n=t.table,i=t.cell;if(!n||!i)return-1;var o=s(n);if(o.selectedTds.length)return-1;var a=o.getCellInfo(i),l=a.colIndex+a.colSpan;if(l>=o.colsNum)return-1;var c=o.indexTable[a.rowIndex][l],u=n.rows[c.rowIndex].cells[c.cellIndex];return u&&i.tagName==u.tagName&&c.rowIndex==a.rowIndex&&c.rowSpan==a.rowSpan?0:-1},execCommand:function(e){var t=this.selection.getRange(),n=t.createBookmark(!0),i=r(this).cell,o=s(i);o.mergeRight(i),t.moveToBookmark(n).select()}},UE.commands.mergedown={queryCommandState:function(e){var t=r(this),n=t.table,i=t.cell;if(!n||!i)return-1;var o=s(n);if(o.selectedTds.length)return-1;var a=o.getCellInfo(i),l=a.rowIndex+a.rowSpan;if(l>=o.rowsNum)return-1;var c=o.indexTable[l][a.colIndex],u=n.rows[c.rowIndex].cells[c.cellIndex];return u&&i.tagName==u.tagName&&c.colIndex==a.colIndex&&c.colSpan==a.colSpan?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell,i=s(n);i.mergeDown(n),e.moveToBookmark(t).select()}},UE.commands.mergecells={queryCommandState:function(){return o(this)?0:-1},execCommand:function(){var e=o(this);if(e&&e.selectedTds.length){var t=e.selectedTds[0];e.mergeRange();var n=this.selection.getRange();domUtils.isEmptyBlock(t)?n.setStart(t,0).collapse(!0):n.selectNodeContents(t),n.select()}}},UE.commands.insertrow={queryCommandState:function(){var e=r(this),t=e.cell;return t&&("TD"==t.tagName||"TH"==t.tagName&&e.tr!==e.table.rows[0])&&s(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this),i=n.cell,o=n.table,a=s(o),l=a.getCellInfo(i);if(a.selectedTds.length)for(var c=a.cellsRange,u=0,d=c.endRowIndex-c.beginRowIndex+1;d>u;u++)a.insertRow(c.beginRowIndex,i);else a.insertRow(l.rowIndex,i);e.moveToBookmark(t).select(),"enabled"===o.getAttribute("interlaced")&&this.fireEvent("interlacetable",o)}},UE.commands.insertrownext={queryCommandState:function(){var e=r(this),t=e.cell;return t&&"TD"==t.tagName&&s(e.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this),i=n.cell,o=n.table,a=s(o),l=a.getCellInfo(i);if(a.selectedTds.length)for(var c=a.cellsRange,u=0,d=c.endRowIndex-c.beginRowIndex+1;d>u;u++)a.insertRow(c.endRowIndex+1,i);else a.insertRow(l.rowIndex+l.rowSpan,i);e.moveToBookmark(t).select(),"enabled"===o.getAttribute("interlaced")&&this.fireEvent("interlacetable",o)}},UE.commands.deleterow={queryCommandState:function(){var e=r(this);return e.cell?0:-1},execCommand:function(){var e=r(this).cell,t=s(e),n=t.cellsRange,i=t.getCellInfo(e),o=t.getVSideCell(e),a=t.getVSideCell(e,!0),l=this.selection.getRange();if(utils.isEmptyObject(n))t.deleteRow(i.rowIndex);else for(var c=n.beginRowIndex;c<n.endRowIndex+1;c++)t.deleteRow(n.beginRowIndex);var u=t.table;if(u.getElementsByTagName("td").length)if(1==i.rowSpan||i.rowSpan==n.endRowIndex-n.beginRowIndex+1)(a||o)&&l.selectNodeContents(a||o).setCursor(!1,!0);else{var d=t.getCell(i.rowIndex,t.indexTable[i.rowIndex][i.colIndex].cellIndex);d&&l.selectNodeContents(d).setCursor(!1,!0)}else{var f=u.nextSibling;domUtils.remove(u),f&&l.setStart(f,0).setCursor(!1,!0)}"enabled"===u.getAttribute("interlaced")&&this.fireEvent("interlacetable",u)}},UE.commands.insertcol={queryCommandState:function(e){var t=r(this),n=t.cell;return n&&("TD"==n.tagName||"TH"==n.tagName&&n!==t.tr.cells[0])&&s(t.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(e){var t=this.selection.getRange(),n=t.createBookmark(!0);if(-1!=this.queryCommandState(e)){var i=r(this).cell,o=s(i),a=o.getCellInfo(i);if(o.selectedTds.length)for(var l=o.cellsRange,c=0,u=l.endColIndex-l.beginColIndex+1;u>c;c++)o.insertCol(l.beginColIndex,i);else o.insertCol(a.colIndex,i);t.moveToBookmark(n).select(!0)}}},UE.commands.insertcolnext={queryCommandState:function(){var e=r(this),t=e.cell;return t&&s(e.table).colsNum<this.options.maxColNum?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell,i=s(n),o=i.getCellInfo(n);if(i.selectedTds.length)for(var a=i.cellsRange,l=0,c=a.endColIndex-a.beginColIndex+1;c>l;l++)i.insertCol(a.endColIndex+1,n);else i.insertCol(o.colIndex+o.colSpan,n);e.moveToBookmark(t).select()}},UE.commands.deletecol={queryCommandState:function(){var e=r(this);return e.cell?0:-1},execCommand:function(){var e=r(this).cell,t=s(e),n=t.cellsRange,i=t.getCellInfo(e),o=t.getHSideCell(e),a=t.getHSideCell(e,!0);if(utils.isEmptyObject(n))t.deleteCol(i.colIndex);else for(var l=n.beginColIndex;l<n.endColIndex+1;l++)t.deleteCol(n.beginColIndex);var c=t.table,u=this.selection.getRange();if(c.getElementsByTagName("td").length)domUtils.inDoc(e,this.document)?u.setStart(e,0).setCursor(!1,!0):a&&domUtils.inDoc(a,this.document)?u.selectNodeContents(a).setCursor(!1,!0):o&&domUtils.inDoc(o,this.document)&&u.selectNodeContents(o).setCursor(!0,!0);else{var d=c.nextSibling;domUtils.remove(c),d&&u.setStart(d,0).setCursor(!1,!0)}}},UE.commands.splittocells={queryCommandState:function(){var e=r(this),t=e.cell;if(!t)return-1;var n=s(e.table);return n.selectedTds.length>0?-1:t&&(t.colSpan>1||t.rowSpan>1)?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell,i=s(n);i.splitToCells(n),e.moveToBookmark(t).select()}},UE.commands.splittorows={queryCommandState:function(){var e=r(this),t=e.cell;if(!t)return-1;var n=s(e.table);return n.selectedTds.length>0?-1:t&&t.rowSpan>1?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell,i=s(n);i.splitToRows(n),e.moveToBookmark(t).select()}},UE.commands.splittocols={queryCommandState:function(){var e=r(this),t=e.cell;if(!t)return-1;var n=s(e.table);return n.selectedTds.length>0?-1:t&&t.colSpan>1?0:-1},execCommand:function(){var e=this.selection.getRange(),t=e.createBookmark(!0),n=r(this).cell,i=s(n);i.splitToCols(n),e.moveToBookmark(t).select()}},UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(t){var n=r(this),i=n.table;if(i)if("adaptbywindow"==t)e(i,this);else{var o=domUtils.getElementsByTagName(i,"td th");utils.each(o,function(e){e.removeAttribute("width")}),i.removeAttribute("width")}}},UE.commands.averagedistributecol={queryCommandState:function(){var e=o(this);return e&&(e.isFullRow()||e.isFullCol())?0:-1},execCommand:function(e){function t(){var e,t=r.table,n=0,o=0,s=a(i,t);if(r.isFullRow())n=t.offsetWidth,o=r.colsNum;else for(var l,c=r.cellsRange.beginColIndex,u=r.cellsRange.endColIndex,d=c;u>=d;)l=r.selectedTds[d],n+=l.offsetWidth,d+=l.colSpan,o+=1;return e=Math.ceil(n/o)-2*s.tdBorder-2*s.tdPadding}function n(e){utils.each(domUtils.getElementsByTagName(r.table,"th"),function(e){e.setAttribute("width","")});var t=r.isFullRow()?domUtils.getElementsByTagName(r.table,"td"):r.selectedTds;utils.each(t,function(t){1==t.colSpan&&t.setAttribute("width",e)})}var i=this,r=o(i);r&&r.selectedTds.length&&n(t())}},UE.commands.averagedistributerow={queryCommandState:function(){var e=o(this);return e?e.selectedTds&&/th/gi.test(e.selectedTds[0].tagName)?-1:e.isFullRow()||e.isFullCol()?0:-1:-1},execCommand:function(e){function t(){var e,t,n=0,o=r.table,s=a(i,o),l=parseInt(domUtils.getComputedStyle(o.getElementsByTagName("td")[0],"padding-top"));if(r.isFullCol()){var c,u,d=domUtils.getElementsByTagName(o,"caption"),f=domUtils.getElementsByTagName(o,"th");d.length>0&&(c=d[0].offsetHeight),f.length>0&&(u=f[0].offsetHeight),n=o.offsetHeight-(c||0)-(u||0),t=0==f.length?r.rowsNum:r.rowsNum-1}else{for(var h=r.cellsRange.beginRowIndex,p=r.cellsRange.endRowIndex,m=0,g=domUtils.getElementsByTagName(o,"tr"),v=h;p>=v;v++)n+=g[v].offsetHeight,m+=1;t=m}return e=browser.ie&&browser.version<9?Math.ceil(n/t):Math.ceil(n/t)-2*s.tdBorder-2*l}function n(e){var t=r.isFullCol()?domUtils.getElementsByTagName(r.table,"td"):r.selectedTds;utils.each(t,function(t){1==t.rowSpan&&t.setAttribute("height",e)})}var i=this,r=o(i);r&&r.selectedTds.length&&n(t())}},UE.commands.cellalignment={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(e,t){var n=this,i=o(n);if(i)utils.each(i.selectedTds,function(e){domUtils.setAttributes(e,t)});else{var r=n.selection.getStart(),a=r&&domUtils.findParentByTagName(r,["td","th","caption"],!0);/caption/gi.test(a.tagName)?(a.style.textAlign=t.align,a.style.verticalAlign=t.vAlign):domUtils.setAttributes(a,t),n.selection.getRange().setCursor(!0)}},queryCommandValue:function(e){var t=r(this).cell;if(t||(t=n(this)[0]),t){var i=UE.UETable.getUETable(t).selectedTds;return!i.length&&(i=t),UE.UETable.getTableCellAlignState(i)}return null}},UE.commands.tablealignment={queryCommandState:function(){return browser.ie&&browser.version<8?-1:r(this).table?0:-1},execCommand:function(e,t){var n=this,i=n.selection.getStart(),r=i&&domUtils.findParentByTagName(i,["table"],!0);r&&r.setAttribute("align",t)}},UE.commands.edittable={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(e,t){var n=this.selection.getRange(),i=domUtils.findParentByTagName(n.startContainer,"table");if(i){var r=domUtils.getElementsByTagName(i,"td").concat(domUtils.getElementsByTagName(i,"th"),domUtils.getElementsByTagName(i,"caption"));utils.each(r,function(e){e.style.borderColor=t})}}},UE.commands.edittd={queryCommandState:function(){return r(this).table?0:-1},execCommand:function(e,t){var n=this,i=o(n);if(i)utils.each(i.selectedTds,function(e){e.style.backgroundColor=t});else{var r=n.selection.getStart(),a=r&&domUtils.findParentByTagName(r,["td","th","caption"],!0);a&&(a.style.backgroundColor=t)}}},UE.commands.settablebackground={queryCommandState:function(){return n(this).length>1?0:-1},execCommand:function(e,t){var i,r;i=n(this),r=s(i[0]),r.setBackground(i,t)}},UE.commands.cleartablebackground={queryCommandState:function(){var e=n(this);if(!e.length)return-1;for(var t,i=0;t=e[i++];)if(""!==t.style.backgroundColor)return 0;return-1},execCommand:function(){var e=n(this),t=s(e[0]);t.removeBackground(e)}},UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function(e){var t=r(this).table;if(!t)return-1;var n=t.getAttribute("interlaced");return"interlacetable"==e?"enabled"===n?-1:0:n&&"disabled"!==n?0:-1},execCommand:function(e,t){var n=r(this).table;"interlacetable"==e?(n.setAttribute("interlaced","enabled"),this.fireEvent("interlacetable",n,t)):(n.setAttribute("interlaced","disabled"),this.fireEvent("uninterlacetable",n))}},UE.commands.setbordervisible={queryCommandState:function(e){var t=r(this).table;return t?0:-1},execCommand:function(){var e=r(this).table;utils.each(domUtils.getElementsByTagName(e,"td"),function(e){e.style.borderWidth="1px",e.style.borderStyle="solid"})}}}(),UE.plugins.table=function(){function e(e){}function t(e,t){n(e,"width",!0),n(e,"height",!0)}function n(e,t,n){e.style[t]&&(n&&e.setAttribute(t,parseInt(e.style[t],10)),e.style[t]="")}function i(e){if("TD"==e.tagName||"TH"==e.tagName)return e;var t;return(t=domUtils.findParentByTagName(e,"td",!0)||domUtils.findParentByTagName(e,"th",!0))?t:null}function r(e){var t=new RegExp(domUtils.fillChar,"g");if(e[browser.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(t,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(e.getElementsByTagName(n).length)return 0;return 1}function o(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+M.document.body.scrollLeft-M.document.body.clientLeft,y:e.clientY+M.document.body.scrollTop-M.document.body.clientTop}}function a(t){if(!S())try{var n,r=i(t.target||t.srcElement);if(q&&(M.body.style.webkitUserSelect="none",(Math.abs(X.x-t.clientX)>z||Math.abs(X.y-t.clientY)>z)&&(b(),q=!1,W=0,w(t))),ne&&se)return W=0,M.body.style.webkitUserSelect="none",M.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),n=o(t),f(M,!0,ne,n,r),void("h"==ne?ae.style.left=u(se,t)+"px":"v"==ne&&(ae.style.top=d(se,t)+"px"));if(r){if(M.fireEvent("excludetable",r)===!0)return;n=o(t);var a=h(r,n),l=domUtils.findParentByTagName(r,"table",!0);if(c(l,r,t,!0)){if(M.fireEvent("excludetable",l)===!0)return;M.body.style.cursor="url("+M.options.cursorpath+"h.png),pointer"}else if(c(l,r,t)){if(M.fireEvent("excludetable",l)===!0)return;M.body.style.cursor="url("+M.options.cursorpath+"v.png),pointer"}else M.body.style.cursor="text",/\d/.test(a)&&(a=a.replace(/\d/,""),r=K(r).getPreviewCell(r,"v"==a)),f(M,!!r&&!!a,r?a:"",n,r)}else s(!1,l,M)}catch(p){e(p)}}function s(e,t,n){if(e)l(t,n);else{if(oe)return;de=setTimeout(function(){!oe&&re&&re.parentNode&&re.parentNode.removeChild(re)},2e3)}}function l(e,t){function n(n,i){clearTimeout(a),a=setTimeout(function(){t.fireEvent("tableClicked",e,i)},300)}function i(n){clearTimeout(a);var i=K(e),r=e.rows[0].cells[0],o=i.getLastCell(),s=i.getCellsRange(r,o);t.selection.getRange().setStart(r,0).setCursor(!1,!0),i.setSelected(s)}var r=domUtils.getXY(e),o=e.ownerDocument;if(re&&re.parentNode)return re;re=o.createElement("div"),re.contentEditable=!1,re.innerHTML="",re.style.cssText="width:15px;height:15px;background-image:url("+t.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(r.y-15)+"px;left:"+r.x+"px;",domUtils.unSelectable(re),re.onmouseover=function(e){oe=!0},re.onmouseout=function(e){oe=!1},domUtils.on(re,"click",function(e,t){n(t,this)}),domUtils.on(re,"dblclick",function(e,t){i(t)}),domUtils.on(re,"dragstart",function(e,t){domUtils.preventDefault(t)});var a;o.body.appendChild(re)}function c(e,t,n,i){var r=o(n),a=h(t,r);if(i){var s=e.getElementsByTagName("caption")[0],l=s?s.offsetHeight:0;return"v1"==a&&r.y-domUtils.getXY(e).y-l<8}return"h1"==a&&r.x-domUtils.getXY(e).x<8}function u(e,t){var n=K(e);if(n){var i=n.getSameEndPosCells(e,"x")[0],r=n.getSameStartPosXCells(e)[0],a=o(t).x,s=(i?domUtils.getXY(i).x:domUtils.getXY(n.table).x)+20,l=r?domUtils.getXY(r).x+r.offsetWidth-20:M.body.offsetWidth+5||parseInt(domUtils.getComputedStyle(M.body,"width"),10);
return s+=F,l-=F,s>a?s:a>l?l:a}}function d(t,n){try{var i=domUtils.getXY(t).y,r=o(n).y;return i>r?i:r}catch(a){e(a)}}function f(t,n,i,r,o){try{t.body.style.cursor="h"==i?"col-resize":"v"==i?"row-resize":"text",browser.ie&&(!i||le||J(t)?R(t):(I(t,t.document),D(i,o))),ie=n}catch(a){e(a)}}function h(e,t){var n=domUtils.getXY(e);return n?n.x+e.offsetWidth-t.x<V?"h":t.x-n.x<V?"h1":n.y+e.offsetHeight-t.y<V?"v":t.y-n.y<V?"v1":"":""}function p(e,t){if(!S())if(X={x:t.clientX,y:t.clientY},2==t.button){var n=J(M),i=!1;if(n){var r=P(M,t);utils.each(n.selectedTds,function(e){e===r&&(i=!0)}),i?(r=n.selectedTds[0],setTimeout(function(){M.selection.getRange().setStart(r,0).setCursor(!1,!0)},0)):(Z(domUtils.getElementsByTagName(M.body,"th td")),n.clearSelected())}}else g(t)}function m(e){W=0,e=e||M.window.event;var t=i(e.target||e.srcElement);if(t){var n;if(n=h(t,o(e))){if(R(M),"h1"==n)if(n="h",c(domUtils.findParentByTagName(t,"table"),t,e))M.execCommand("adaptbywindow");else if(t=K(t).getPreviewCell(t)){var r=M.selection.getRange();r.selectNodeContents(t).setCursor(!0,!0)}if("h"==n){var a=K(t),s=a.table,l=k(t,s,!0);l=y(l,"left"),a.width=a.offsetWidth;var u=[],d=[];utils.each(l,function(e){u.push(e.offsetWidth)}),utils.each(l,function(e){e.removeAttribute("width")}),window.setTimeout(function(){var e=!0;utils.each(l,function(t,n){var i=t.offsetWidth;return i>u[n]?(e=!1,!1):void d.push(i)});var t=e?d:u;utils.each(l,function(e,n){e.width=t[n]-B()})},0)}}}}function g(e){if(Z(domUtils.getElementsByTagName(M.body,"td th")),utils.each(M.document.getElementsByTagName("table"),function(e){e.ueTable=null}),ee=P(M,e)){var t=domUtils.findParentByTagName(ee,"table",!0);ut=K(t),ut&&ut.clearSelected(),ie?v(e):(M.document.body.style.webkitUserSelect="",le=!0,M.addListener("mouseover",$))}}function v(e){browser.ie&&(e=C(e)),b(),q=!0,H=setTimeout(function(){w(e)},Y)}function y(e,t){for(var n=[],i=null,r=0,o=e.length;o>r;r++)i=e[r][t],i&&n.push(i);return n}function b(){H&&clearTimeout(H),H=null}function C(e){var t=["pageX","pageY","clientX","clientY","srcElement","target"],n={};if(e)for(var i,r,o=0;i=t[o];o++)r=e[i],r&&(n[i]=r);return n}function w(e){if(q=!1,ee=e.target||e.srcElement){var t=h(ee,o(e));/\d/.test(t)&&(t=t.replace(/\d/,""),ee=K(ee).getPreviewCell(ee,"v"==t)),R(M),I(M,M.document),M.fireEvent("saveScene"),D(t,ee),le=!0,ne=t,se=ee}}function x(e,t){if(!S()){if(b(),q=!1,ie&&(W=++W%3,X={x:t.clientX,y:t.clientY},j=setTimeout(function(){W>0&&W--},Y),2===W))return W=0,void m(t);if(2!=t.button){var n=this,i=n.selection.getRange(),r=domUtils.findParentByTagName(i.startContainer,"table",!0),o=domUtils.findParentByTagName(i.endContainer,"table",!0);if((r||o)&&(r===o?(r=domUtils.findParentByTagName(i.startContainer,["td","th","caption"],!0),o=domUtils.findParentByTagName(i.endContainer,["td","th","caption"],!0),r!==o&&n.selection.clearRange()):n.selection.clearRange()),le=!1,n.document.body.style.webkitUserSelect="",ne&&se&&(n.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"](),W=0,ae=n.document.getElementById("ue_tableDragLine"))){var a=domUtils.getXY(se),s=domUtils.getXY(ae);switch(ne){case"h":E(se,s.x-a.x);break;case"v":T(se,s.y-a.y-se.offsetHeight)}return ne="",se=null,R(n),void n.fireEvent("saveScene")}if(ee){var l=K(ee),c=l?l.selectedTds[0]:null;if(c)i=new dom.Range(n.document),domUtils.isEmptyBlock(c)?i.setStart(c,0).setCursor(!1,!0):i.selectNodeContents(c).shrinkBoundary().setCursor(!1,!0);else if(i=n.selection.getRange().shrinkBoundary(),!i.collapsed){var r=domUtils.findParentByTagName(i.startContainer,["td","th"],!0),o=domUtils.findParentByTagName(i.endContainer,["td","th"],!0);(r&&!o||!r&&o||r&&o&&r!==o)&&i.setCursor(!1,!0)}ee=null,n.removeListener("mouseover",$)}else{var u=domUtils.findParentByTagName(t.target||t.srcElement,"td",!0);if(u||(u=domUtils.findParentByTagName(t.target||t.srcElement,"th",!0)),u&&("TD"==u.tagName||"TH"==u.tagName)){if(n.fireEvent("excludetable",u)===!0)return;i=new dom.Range(n.document),i.setStart(u,0).setCursor(!1,!0)}}n._selectionChange(250,t)}}}function $(e,t){if(!S()){var n=this,i=t.target||t.srcElement;if(te=domUtils.findParentByTagName(i,"td",!0)||domUtils.findParentByTagName(i,"th",!0),ee&&te&&("TD"==ee.tagName&&"TD"==te.tagName||"TH"==ee.tagName&&"TH"==te.tagName)&&domUtils.findParentByTagName(ee,"table")==domUtils.findParentByTagName(te,"table")){var r=K(te);if(ee!=te){n.document.body.style.webkitUserSelect="none",n.selection.getNative()[browser.ie9below?"empty":"removeAllRanges"]();var o=r.getCellsRange(ee,te);r.setSelected(o)}else n.document.body.style.webkitUserSelect="",r.clearSelected()}t.preventDefault?t.preventDefault():t.returnValue=!1}}function N(e,t,n){var i=parseInt(domUtils.getComputedStyle(e,"line-height"),10),r=n+t;t=i>r?i:r,e.style.height&&(e.style.height=""),1==e.rowSpan?e.setAttribute("height",t):e.removeAttribute&&e.removeAttribute("height")}function E(e,t){var n=K(e);if(n){var i=n.table,r=k(e,i);i.style.width="",i.removeAttribute("width"),t=U(t,e,r),e.nextSibling?utils.each(r,function(e){e.left.width=+e.left.width+t,e.right&&(e.right.width=+e.right.width-t)}):utils.each(r,function(e){e.left.width-=-t})}}function S(){return"false"===M.body.contentEditable}function T(e,t){if(!(Math.abs(t)<10)){var n=K(e);if(n)for(var i,r=n.getSameEndPosCells(e,"y"),o=r[0]?r[0].offsetHeight:0,a=0;i=r[a++];)N(i,t,o)}}function k(e,t,n){if(t||(t=domUtils.findParentByTagName(e,"table")),!t)return null;for(var i=(domUtils.getNodeIndex(e),e),r=t.rows,o=0;i;)1===i.nodeType&&(o+=i.colSpan||1),i=i.previousSibling;i=null;var a=[];return utils.each(r,function(e){var t=e.cells,i=0;utils.each(t,function(e){return i+=e.colSpan||1,i===o?(a.push({left:e,right:e.nextSibling||null}),!1):i>o?(n&&a.push({left:e}),!1):void 0})}),a}function U(e,t,n){if(e-=B(),0>e)return 0;e-=A(t);var i=0>e?"left":"right";return e=Math.abs(e),utils.each(n,function(t){var n=t[i];n&&(e=Math.min(e,A(n)-F))}),e=0>e?0:e,"left"===i?-e:e}function A(e){var t=0,t=e.offsetWidth-B();e.nextSibling||(t-=_(e)),t=0>t?0:t;try{e.width=t}catch(n){}return t}function _(e){if(tab=domUtils.findParentByTagName(e,"table",!1),void 0===tab.offsetVal){var t=e.previousSibling;t?tab.offsetVal=e.offsetWidth-t.offsetWidth===G.borderWidth?G.borderWidth:0:tab.offsetVal=0}return tab.offsetVal}function B(){if(void 0===G.tabcellSpace){var e=M.document.createElement("table"),t=M.document.createElement("tbody"),n=M.document.createElement("tr"),i=M.document.createElement("td"),r=null;i.style.cssText="border: 0;",i.width=1,n.appendChild(i),n.appendChild(r=i.cloneNode(!1)),t.appendChild(n),e.appendChild(t),e.style.cssText="visibility: hidden;",M.body.appendChild(e),G.paddingSpace=i.offsetWidth-1;var o=e.offsetWidth;i.style.cssText="",r.style.cssText="",G.borderWidth=(e.offsetWidth-o)/3,G.tabcellSpace=G.paddingSpace+G.borderWidth,M.body.removeChild(e)}return B=function(){return G.tabcellSpace},G.tabcellSpace}function I(e,t){le||(ae=e.document.createElement("div"),domUtils.setAttributes(ae,{id:"ue_tableDragLine",unselectable:"on",contenteditable:!1,onresizestart:"return false",ondragstart:"return false",onselectstart:"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"}),e.body.appendChild(ae))}function R(e){if(!le)for(var t;t=e.document.getElementById("ue_tableDragLine");)domUtils.remove(t)}function D(e,t){if(t){var n,i=domUtils.findParentByTagName(t,"table"),r=i.getElementsByTagName("caption"),o=i.offsetWidth,a=i.offsetHeight-(r.length>0?r[0].offsetHeight:0),s=domUtils.getXY(i),l=domUtils.getXY(t);switch(e){case"h":n="height:"+a+"px;top:"+(s.y+(r.length>0?r[0].offsetHeight:0))+"px;left:"+(l.x+t.offsetWidth),ae.style.cssText=n+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":n="width:"+o+"px;left:"+s.x+"px;top:"+(l.y+t.offsetHeight),ae.style.cssText=n+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)"}}}function O(e,t){for(var n,i,r=domUtils.getElementsByTagName(e.body,"table"),o=0;i=r[o++];){var a=domUtils.getElementsByTagName(i,"td");a[0]&&(t?(n=a[0].style.borderColor.replace(/\s/g,""),/(#ffffff)|(rgb\(255,255,255\))/gi.test(n)&&domUtils.addClass(i,"noBorderTable")):domUtils.removeClasses(i,"noBorderTable"))}}function L(e,t,n){var i=e.body;return i.offsetWidth-(t?2*parseInt(domUtils.getComputedStyle(i,"margin-left"),10):0)-2*n.tableBorder-(e.options.offsetWidth||0)}function P(e,t){var n=domUtils.findParentByTagName(t.target||t.srcElement,["td","th"],!0),i=null;if(!n)return null;if(i=h(n,o(t)),!n)return null;if("h1"===i&&n.previousSibling){var r=domUtils.getXY(n),a=n.offsetWidth;Math.abs(r.x+a-t.clientX)>a/3&&(n=n.previousSibling)}else if("v1"===i&&n.parentNode.previousSibling){var r=domUtils.getXY(n),s=n.offsetHeight;Math.abs(r.y+s-t.clientY)>s/3&&(n=n.parentNode.previousSibling.firstChild)}return n&&e.fireEvent("excludetable",n)!==!0?n:null}var M=this,H=null,j=null,F=5,q=!1,V=5,z=10,W=0,X=null,Y=360,G=UE.UETable,K=function(e){return G.getUETable(e)},J=function(e){return G.getUETableBySelected(e)},Q=function(e,t){return G.getDefaultValue(e,t)},Z=function(e){return G.removeSelectedClass(e)};M.ready(function(){var e=this,t=e.selection.getText;e.selection.getText=function(){var n=J(e);if(n){var i="";return utils.each(n.selectedTds,function(e){i+=e[browser.ie?"innerText":"textContent"]}),i}return t.call(e.selection)}});var ee=null,te=null,ne="",ie=!1,re=null,oe=!1,ae=null,se=null,le=!1,ce=!0;M.setOpt({maxColNum:20,maxRowNum:100,defaultCols:5,defaultRows:5,tdvalign:"top",cursorpath:M.options.UEDITOR_HOME_URL+"themes/default/images/cursor_",tableDragable:!1,classList:["ue-table-interlace-color-single","ue-table-interlace-color-double"]}),M.getUETable=K;var ue={deletetable:1,inserttable:1,cellvalign:1,insertcaption:1,deletecaption:1,inserttitle:1,deletetitle:1,mergeright:1,mergedown:1,mergecells:1,insertrow:1,insertrownext:1,deleterow:1,insertcol:1,insertcolnext:1,deletecol:1,splittocells:1,splittorows:1,splittocols:1,adaptbytext:1,adaptbywindow:1,adaptbycustomer:1,insertparagraph:1,insertparagraphbeforetable:1,averagedistributecol:1,averagedistributerow:1};M.ready(function(){utils.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:1px solid #BBB;background-color:#F7F7F7;}table tr.firstRow th{border-top-width:2px;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",M.document);var e,n,o;M.addListener("keydown",function(t,i){var a=this,s=i.keyCode||i.which;if(8==s){var l=J(a);l&&l.selectedTds.length&&(l.isFullCol()?a.execCommand("deletecol"):l.isFullRow()?a.execCommand("deleterow"):a.fireEvent("delcells"),domUtils.preventDefault(i));var c=domUtils.findParentByTagName(a.selection.getStart(),"caption",!0),u=a.selection.getRange();if(u.collapsed&&c&&r(c)){a.fireEvent("saveScene");var d=c.parentNode;domUtils.remove(c),d&&u.setStart(d.rows[0].cells[0],0).setCursor(!1,!0),a.fireEvent("saveScene")}}if(46==s&&(l=J(a))){a.fireEvent("saveScene");for(var f,h=0;f=l.selectedTds[h++];)domUtils.fillNode(a.document,f);a.fireEvent("saveScene"),domUtils.preventDefault(i)}if(13==s){var p=a.selection.getRange(),c=domUtils.findParentByTagName(p.startContainer,"caption",!0);if(c){var d=domUtils.findParentByTagName(c,"table");return p.collapsed?c&&p.setStart(d.rows[0].cells[0],0).setCursor(!1,!0):(p.deleteContents(),a.fireEvent("saveScene")),void domUtils.preventDefault(i)}if(p.collapsed){var d=domUtils.findParentByTagName(p.startContainer,"table");if(d){var m=d.rows[0].cells[0],g=domUtils.findParentByTagName(a.selection.getStart(),["td","th"],!0),v=d.previousSibling;if(m===g&&(!v||1==v.nodeType&&"TABLE"==v.tagName)&&domUtils.isStartInblock(p)){var y=domUtils.findParent(a.selection.getStart(),function(e){return domUtils.isBlockElm(e)},!0);y&&(/t(h|d)/i.test(y.tagName)||y===g.firstChild)&&(a.execCommand("insertparagraphbeforetable"),domUtils.preventDefault(i))}}}}if((i.ctrlKey||i.metaKey)&&"67"==i.keyCode){e=null;var l=J(a);if(l){var b=l.selectedTds;n=l.isFullCol(),o=l.isFullRow(),e=[[l.cloneCell(b[0],null,!0)]];for(var f,h=1;f=b[h];h++)f.parentNode!==b[h-1].parentNode?e.push([l.cloneCell(f,null,!0)]):e[e.length-1].push(l.cloneCell(f,null,!0))}}}),M.addListener("tablehasdeleted",function(){f(this,!1,"",null),re&&domUtils.remove(re)}),M.addListener("beforepaste",function(i,a){var s=this,l=s.selection.getRange();if(domUtils.findParentByTagName(l.startContainer,"caption",!0)){var c=s.document.createElement("div");return c.innerHTML=a.html,void(a.html=c[browser.ie9below?"innerText":"textContent"])}var u=J(s);if(e){s.fireEvent("saveScene");var d,f,l=s.selection.getRange(),h=domUtils.findParentByTagName(l.startContainer,["td","th"],!0);if(h){var p=K(h);if(o){var m=p.getCellInfo(h).rowIndex;"TH"==h.tagName&&m++;for(var g,v=0;g=e[v++];){for(var y,b=p.insertRow(m++,"td"),C=0;y=g[C];C++){var w=b.cells[C];w||(w=b.insertCell(C)),w.innerHTML=y.innerHTML,y.getAttribute("width")&&w.setAttribute("width",y.getAttribute("width")),y.getAttribute("vAlign")&&w.setAttribute("vAlign",y.getAttribute("vAlign")),y.getAttribute("align")&&w.setAttribute("align",y.getAttribute("align")),y.style.cssText&&(w.style.cssText=y.style.cssText)}for(var y,C=0;(y=b.cells[C])&&g[C];C++)y.innerHTML=g[C].innerHTML,g[C].getAttribute("width")&&y.setAttribute("width",g[C].getAttribute("width")),g[C].getAttribute("vAlign")&&y.setAttribute("vAlign",g[C].getAttribute("vAlign")),g[C].getAttribute("align")&&y.setAttribute("align",g[C].getAttribute("align")),g[C].style.cssText&&(y.style.cssText=g[C].style.cssText)}}else{if(n){N=p.getCellInfo(h);for(var y,x=0,C=0,g=e[0];y=g[C++];)x+=y.colSpan||1;for(s.__hasEnterExecCommand=!0,v=0;x>v;v++)s.execCommand("insertcol");s.__hasEnterExecCommand=!1,h=p.table.rows[0].cells[N.cellIndex],"TH"==h.tagName&&(h=p.table.rows[1].cells[N.cellIndex])}for(var g,v=0;g=e[v++];){d=h;for(var y,C=0;y=g[C++];)if(h)h.innerHTML=y.innerHTML,y.getAttribute("width")&&h.setAttribute("width",y.getAttribute("width")),y.getAttribute("vAlign")&&h.setAttribute("vAlign",y.getAttribute("vAlign")),y.getAttribute("align")&&h.setAttribute("align",y.getAttribute("align")),y.style.cssText&&(h.style.cssText=y.style.cssText),f=h,h=h.nextSibling;else{var $=y.cloneNode(!0);domUtils.removeAttributes($,["class","rowSpan","colSpan"]),f.parentNode.appendChild($)}if(h=p.getNextCell(d,!0,!0),!e[v])break;if(!h){var N=p.getCellInfo(d);p.table.insertRow(p.table.rows.length),p.update(),h=p.getVSideCell(d,!0)}}}p.update()}else{u=s.document.createElement("table");for(var g,v=0;g=e[v++];){for(var y,b=u.insertRow(u.rows.length),C=0;y=g[C++];)$=G.cloneCell(y,null,!0),domUtils.removeAttributes($,["class"]),b.appendChild($);2==C&&$.rowSpan>1&&($.rowSpan=1)}var E=Q(s),S=s.body.offsetWidth-(ce?2*parseInt(domUtils.getComputedStyle(s.body,"margin-left"),10):0)-2*E.tableBorder-(s.options.offsetWidth||0);s.execCommand("insertHTML","<table  "+(n&&o?'width="'+S+'"':"")+">"+u.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}return s.fireEvent("contentchange"),s.fireEvent("saveScene"),a.html="",!0}var T,c=s.document.createElement("div");c.innerHTML=a.html,T=c.getElementsByTagName("table"),domUtils.findParentByTagName(s.selection.getStart(),"table")?(utils.each(T,function(e){domUtils.remove(e)}),domUtils.findParentByTagName(s.selection.getStart(),"caption",!0)&&(c.innerHTML=c[browser.ie?"innerText":"textContent"])):utils.each(T,function(e){t(e,!0),domUtils.removeAttributes(e,["style","border"]),utils.each(domUtils.getElementsByTagName(e,"td"),function(e){r(e)&&domUtils.fillNode(s.document,e),t(e,!0)})}),a.html=c.innerHTML}),M.addListener("afterpaste",function(){utils.each(domUtils.getElementsByTagName(M.body,"table"),function(e){if(e.offsetWidth>M.body.offsetWidth){var t=Q(M,e);e.style.width=M.body.offsetWidth-(ce?2*parseInt(domUtils.getComputedStyle(M.body,"margin-left"),10):0)-2*t.tableBorder-(M.options.offsetWidth||0)+"px"}})}),M.addListener("blur",function(){e=null});var l;M.addListener("keydown",function(){clearTimeout(l),l=setTimeout(function(){var e=M.selection.getRange(),t=domUtils.findParentByTagName(e.startContainer,["th","td"],!0);if(t){var n=t.parentNode.parentNode.parentNode;n.offsetWidth>n.getAttribute("width")&&(t.style.wordBreak="break-all")}},100)}),M.addListener("selectionchange",function(){f(M,!1,"",null)}),M.addListener("contentchange",function(){var e=this;if(R(e),!J(e)){var t=e.selection.getRange(),n=t.startContainer;n=domUtils.findParentByTagName(n,["td","th"],!0),utils.each(domUtils.getElementsByTagName(e.document,"table"),function(t){e.fireEvent("excludetable",t)!==!0&&(t.ueTable=new G(t),t.onmouseover=function(){e.fireEvent("tablemouseover",t)},t.onmousemove=function(){e.fireEvent("tablemousemove",t),e.options.tableDragable&&s(!0,this,e),utils.defer(function(){e.fireEvent("contentchange",50)},!0)},t.onmouseout=function(){e.fireEvent("tablemouseout",t),f(e,!1,"",null),R(e)},t.onclick=function(t){t=e.window.event||t;var n=i(t.target||t.srcElement);if(n){var r,o=K(n),a=o.table,s=o.getCellInfo(n),l=e.selection.getRange();if(c(a,n,t,!0)){var u=o.getCell(o.indexTable[o.rowsNum-1][s.colIndex].rowIndex,o.indexTable[o.rowsNum-1][s.colIndex].cellIndex);return void(t.shiftKey&&o.selectedTds.length?o.selectedTds[0]!==u?(r=o.getCellsRange(o.selectedTds[0],u),o.setSelected(r)):l&&l.selectNodeContents(u).select():n!==u?(r=o.getCellsRange(n,u),o.setSelected(r)):l&&l.selectNodeContents(u).select())}if(c(a,n,t)){var d=o.getCell(o.indexTable[s.rowIndex][o.colsNum-1].rowIndex,o.indexTable[s.rowIndex][o.colsNum-1].cellIndex);t.shiftKey&&o.selectedTds.length?o.selectedTds[0]!==d?(r=o.getCellsRange(o.selectedTds[0],d),o.setSelected(r)):l&&l.selectNodeContents(d).select():n!==d?(r=o.getCellsRange(n,d),o.setSelected(r)):l&&l.selectNodeContents(d).select()}}})}),O(e,!0)}}),domUtils.on(M.document,"mousemove",a),domUtils.on(M.document,"mouseout",function(e){var t=e.target||e.srcElement;"TABLE"==t.tagName&&f(M,!1,"",null)}),M.addListener("interlacetable",function(e,t,n){if(t)for(var i=this,r=t.rows,o=r.length,a=function(e,t,n){return e[t]?e[t]:n?e[t%e.length]:""},s=0;o>s;s++)r[s].className=a(n||i.options.classList,s,!0)}),M.addListener("uninterlacetable",function(e,t){if(t)for(var n=this,i=t.rows,r=n.options.classList,o=i.length,a=0;o>a;a++)domUtils.removeClasses(i[a],r)}),M.addListener("mousedown",p),M.addListener("mouseup",x),domUtils.on(M.body,"dragstart",function(e){x.call(M,"dragstart",e)}),M.addOutputRule(function(e){utils.each(e.getNodesByTagName("div"),function(e){"ue_tableDragLine"==e.getAttr("id")&&e.parentNode.removeChild(e)})});var u=0;M.addListener("mousedown",function(){u=0}),M.addListener("tabkeydown",function(){var e=this.selection.getRange(),t=e.getCommonAncestor(!0,!0),n=domUtils.findParentByTagName(t,"table");if(n){if(domUtils.findParentByTagName(t,"caption",!0)){var i=domUtils.getElementsByTagName(n,"th td");i&&i.length&&e.setStart(i[0],0).setCursor(!1,!0)}else{var i=domUtils.findParentByTagName(t,["td","th"],!0),o=K(i);u=i.rowSpan>1?u:o.getCellInfo(i).rowIndex;var a=o.getTabNextCell(i,u);a?r(a)?e.setStart(a,0).setCursor(!1,!0):e.selectNodeContents(a).select():(M.fireEvent("saveScene"),M.__hasEnterExecCommand=!0,this.execCommand("insertrownext"),M.__hasEnterExecCommand=!1,e=this.selection.getRange(),e.setStart(n.rows[n.rows.length-1].cells[0],0).setCursor(),M.fireEvent("saveScene"))}return!0}}),browser.ie&&M.addListener("selectionchange",function(){f(this,!1,"",null)}),M.addListener("keydown",function(e,t){var n=this,i=t.keyCode||t.which;if(8!=i&&46!=i){var r=!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey);r&&Z(domUtils.getElementsByTagName(n.body,"td"));var o=J(n);o&&r&&o.clearSelected()}}),M.addListener("beforegetcontent",function(){O(this,!1),browser.ie&&utils.each(this.document.getElementsByTagName("caption"),function(e){domUtils.isEmptyNode(e)&&(e.innerHTML="&nbsp;")})}),M.addListener("aftergetcontent",function(){O(this,!0)}),M.addListener("getAllHtml",function(){Z(M.document.getElementsByTagName("td"))}),M.addListener("fullscreenchanged",function(e,t){if(!t){var n=this.body.offsetWidth/document.body.offsetWidth,i=domUtils.getElementsByTagName(this.body,"table");utils.each(i,function(e){if(e.offsetWidth<M.body.offsetWidth)return!1;var t=domUtils.getElementsByTagName(e,"td"),i=[];utils.each(t,function(e){i.push(e.offsetWidth)});for(var r,o=0;r=t[o];o++)r.setAttribute("width",Math.floor(i[o]*n));e.setAttribute("width",Math.floor(L(M,ce,Q(M))))})}});var d=M.execCommand;M.execCommand=function(e,t){var n=this;e=e.toLowerCase();var i,o,a=J(n),s=new dom.Range(n.document),l=n.commands[e]||UE.commands[e];if(l){if(!a||ue[e]||l.notNeedUndo||n.__hasEnterExecCommand)o=d.apply(n,arguments);else{n.__hasEnterExecCommand=!0,n.fireEvent("beforeexeccommand",e),i=a.selectedTds;for(var c,u,f,h=-2,p=-2,m=0;f=i[m];m++)r(f)?s.setStart(f,0).setCursor(!1,!0):s.selectNode(f).select(!0),u=n.queryCommandState(e),c=n.queryCommandValue(e),-1!=u&&(h===u&&p===c||(n._ignoreContentChange=!0,o=d.apply(n,arguments),n._ignoreContentChange=!1),h=n.queryCommandState(e),p=n.queryCommandValue(e),domUtils.isEmptyBlock(f)&&domUtils.fillNode(n.document,f));s.setStart(i[0],0).shrinkBoundary(!0).setCursor(!1,!0),n.fireEvent("contentchange"),n.fireEvent("afterexeccommand",e),n.__hasEnterExecCommand=!1,n._selectionChange()}return o}}});var de},UE.UETable.prototype.sortTable=function(e,t){var n=this.table,i=n.rows,r=[],o="TH"===i[0].cells[0].tagName,a=0;if(this.selectedTds.length){for(var s=this.cellsRange,l=s.endRowIndex+1,c=s.beginRowIndex;l>c;c++)r[c]=i[c];r.splice(0,s.beginRowIndex),a=s.endRowIndex+1===this.rowsNum?0:s.endRowIndex+1}else for(var c=0,l=i.length;l>c;c++)r[c]=i[c];var u={reversecurrent:function(e,t){return 1},orderbyasc:function(e,t){var n=e.innerText||e.textContent,i=t.innerText||t.textContent;return n.localeCompare(i)},reversebyasc:function(e,t){var n=e.innerHTML,i=t.innerHTML;return i.localeCompare(n)},orderbynum:function(e,t){var n=e[browser.ie?"innerText":"textContent"].match(/\d+/),i=t[browser.ie?"innerText":"textContent"].match(/\d+/);return n&&(n=+n[0]),i&&(i=+i[0]),(n||0)-(i||0)},reversebynum:function(e,t){var n=e[browser.ie?"innerText":"textContent"].match(/\d+/),i=t[browser.ie?"innerText":"textContent"].match(/\d+/);return n&&(n=+n[0]),i&&(i=+i[0]),(i||0)-(n||0)}};n.setAttribute("data-sort-type",t&&"string"==typeof t&&u[t]?t:""),o&&r.splice(0,1),r=utils.sort(r,function(n,i){var r;return r=t&&"function"==typeof t?t.call(this,n.cells[e],i.cells[e]):t&&"number"==typeof t?1:t&&"string"==typeof t&&u[t]?u[t].call(this,n.cells[e],i.cells[e]):u.orderbyasc.call(this,n.cells[e],i.cells[e])});for(var d=n.ownerDocument.createDocumentFragment(),f=0,l=r.length;l>f;f++)d.appendChild(r[f]);var h=n.getElementsByTagName("tbody")[0];a?h.insertBefore(d,i[a-s.endRowIndex+s.beginRowIndex-1]):h.appendChild(d)},UE.plugins.tablesort=function(){var e=this,t=UE.UETable,n=function(e){return t.getUETable(e)},i=function(e){return t.getTableItemsByRange(e)};e.ready(function(){utils.cssRule("tablesort","table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;   background-image:url("+e.options.themePath+e.options.theme+"/images/sortable.png);}",e.document),e.addListener("afterexeccommand",function(e,t){"mergeright"!=t&&"mergedown"!=t&&"mergecells"!=t||this.execCommand("disablesort")})}),UE.commands.sorttable={queryCommandState:function(){var e=this,t=i(e);if(!t.cell)return-1;for(var n,r=t.table,o=r.getElementsByTagName("td"),a=0;n=o[a++];)if(1!=n.rowSpan||1!=n.colSpan)return-1;return 0},execCommand:function(e,t){var r=this,o=r.selection.getRange(),a=o.createBookmark(!0),s=i(r),l=s.cell,c=n(s.table),u=c.getCellInfo(l);c.sortTable(u.cellIndex,t),o.moveToBookmark(a);try{o.select()}catch(d){}}},UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function(e){var t=i(this).table;if(t&&"enablesort"==e)for(var n=domUtils.getElementsByTagName(t,"th td"),r=0;r<n.length;r++)if(n[r].getAttribute("colspan")>1||n[r].getAttribute("rowspan")>1)return-1;return t?"enablesort"==e^"sortEnabled"!=t.getAttribute("data-sort")?-1:0:-1},execCommand:function(e){var t=i(this).table;t.setAttribute("data-sort","enablesort"==e?"sortEnabled":"sortDisabled"),"enablesort"==e?domUtils.addClass(t,"sortEnabled"):domUtils.removeClasses(t,"sortEnabled")}}},UE.plugins.contextmenu=function(){var e=this;if(e.setOpt("enableContextMenu",!0),e.getOpt("enableContextMenu")!==!1){var t,n=e.getLang("contextMenu"),i=e.options.contextMenu||[{label:n.selectall,cmdName:"selectall"},{label:n.cleardoc,cmdName:"cleardoc",exec:function(){confirm(n.confirmclear)&&this.execCommand("cleardoc")}},"-",{label:n.unlink,cmdName:"unlink"},"-",{group:n.paragraph,icon:"justifyjustify",subMenu:[{label:n.justifyleft,cmdName:"justify",value:"left"},{label:n.justifyright,cmdName:"justify",value:"right"},{label:n.justifycenter,cmdName:"justify",value:"center"},{label:n.justifyjustify,cmdName:"justify",value:"justify"}]},"-",{group:n.table,icon:"table",subMenu:[{label:n.inserttable,cmdName:"inserttable"},{label:n.deletetable,cmdName:"deletetable"},"-",{label:n.deleterow,cmdName:"deleterow"},{label:n.deletecol,cmdName:"deletecol"},{label:n.insertcol,cmdName:"insertcol"},{label:n.insertcolnext,cmdName:"insertcolnext"},{label:n.insertrow,cmdName:"insertrow"},{label:n.insertrownext,cmdName:"insertrownext"},"-",{label:n.insertcaption,cmdName:"insertcaption"},{label:n.deletecaption,cmdName:"deletecaption"},{label:n.inserttitle,cmdName:"inserttitle"},{label:n.deletetitle,cmdName:"deletetitle"},{label:n.inserttitlecol,cmdName:"inserttitlecol"},{label:n.deletetitlecol,cmdName:"deletetitlecol"},"-",{label:n.mergecells,cmdName:"mergecells"},{label:n.mergeright,cmdName:"mergeright"},{label:n.mergedown,cmdName:"mergedown"},"-",{label:n.splittorows,cmdName:"splittorows"},{label:n.splittocols,cmdName:"splittocols"},{label:n.splittocells,cmdName:"splittocells"},"-",{label:n.averageDiseRow,cmdName:"averagedistributerow"},{label:n.averageDisCol,cmdName:"averagedistributecol"},"-",{label:n.edittd,cmdName:"edittd",exec:function(){UE.ui.edittd&&new UE.ui.edittd(this),this.getDialog("edittd").open()}},{label:n.edittable,cmdName:"edittable",exec:function(){UE.ui.edittable&&new UE.ui.edittable(this),this.getDialog("edittable").open()}},{label:n.setbordervisible,cmdName:"setbordervisible"}]},{group:n.tablesort,icon:"tablesort",subMenu:[{label:n.enablesort,cmdName:"enablesort"},{label:n.disablesort,cmdName:"disablesort"},"-",{label:n.reversecurrent,cmdName:"sorttable",value:"reversecurrent"},{label:n.orderbyasc,cmdName:"sorttable",value:"orderbyasc"},{label:n.reversebyasc,cmdName:"sorttable",value:"reversebyasc"},{label:n.orderbynum,cmdName:"sorttable",value:"orderbynum"},{label:n.reversebynum,cmdName:"sorttable",value:"reversebynum"}]},{group:n.borderbk,icon:"borderBack",subMenu:[{label:n.setcolor,cmdName:"interlacetable",exec:function(){this.execCommand("interlacetable")}},{label:n.unsetcolor,cmdName:"uninterlacetable",exec:function(){this.execCommand("uninterlacetable")}},{label:n.setbackground,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#bbb","#ccc"]})}},{label:n.unsetbackground,cmdName:"cleartablebackground",exec:function(){this.execCommand("cleartablebackground")}},{label:n.redandblue,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["red","blue"]})}},{label:n.threecolorgradient,cmdName:"settablebackground",exec:function(){this.execCommand("settablebackground",{repeat:!0,colorList:["#aaa","#bbb","#ccc"]})}}]},{group:n.aligntd,icon:"aligntd",subMenu:[{cmdName:"cellalignment",value:{align:"left",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"top"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"middle"}},{cmdName:"cellalignment",value:{align:"left",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"center",vAlign:"bottom"}},{cmdName:"cellalignment",value:{align:"right",vAlign:"bottom"}}]},{group:n.aligntable,icon:"aligntable",subMenu:[{cmdName:"tablealignment",className:"left",label:n.tableleft,value:"left"},{cmdName:"tablealignment",className:"center",label:n.tablecenter,value:"center"},{cmdName:"tablealignment",className:"right",label:n.tableright,value:"right"}]},"-",{label:n.insertparagraphbefore,cmdName:"insertparagraph",value:!0},{label:n.insertparagraphafter,cmdName:"insertparagraph"},{label:n.copy,cmdName:"copy"},{label:n.paste,cmdName:"paste"}];if(i.length){var r=UE.ui.uiUtils;e.addListener("contextmenu",function(o,a){var s=r.getViewportOffsetByEvent(a);e.fireEvent("beforeselectionchange"),t&&t.destroy();for(var l,c=0,u=[];l=i[c];c++){var d;!function(t){function i(){switch(t.icon){case"table":return e.getLang("contextMenu.table");case"justifyjustify":return e.getLang("contextMenu.paragraph");case"aligntd":return e.getLang("contextMenu.aligntd");case"aligntable":return e.getLang("contextMenu.aligntable");case"tablesort":return n.tablesort;case"borderBack":return n.borderbk;default:return""}}if("-"==t)(d=u[u.length-1])&&"-"!==d&&u.push("-");else if(t.hasOwnProperty("group")){for(var r,o=0,a=[];r=t.subMenu[o];o++)!function(t){"-"==t?(d=a[a.length-1])&&"-"!==d?a.push("-"):a.splice(a.length-1):(e.commands[t.cmdName]||UE.commands[t.cmdName]||t.query)&&(t.query?t.query():e.queryCommandState(t.cmdName))>-1&&a.push({label:t.label||e.getLang("contextMenu."+t.cmdName+(t.value||""))||"",className:"edui-for-"+t.cmdName+(t.className?" edui-for-"+t.cmdName+"-"+t.className:""),onclick:t.exec?function(){t.exec.call(e)}:function(){e.execCommand(t.cmdName,t.value)}})}(r);a.length&&u.push({label:i(),className:"edui-for-"+t.icon,subMenu:{items:a,editor:e}})}else(e.commands[t.cmdName]||UE.commands[t.cmdName]||t.query)&&(t.query?t.query.call(e):e.queryCommandState(t.cmdName))>-1&&u.push({label:t.label||e.getLang("contextMenu."+t.cmdName),className:"edui-for-"+(t.icon?t.icon:t.cmdName+(t.value||"")),onclick:t.exec?function(){t.exec.call(e)}:function(){e.execCommand(t.cmdName,t.value)}})}(l)}if("-"==u[u.length-1]&&u.pop(),t=new UE.ui.Menu({items:u,className:"edui-contextmenu",editor:e}),t.render(),t.showAt(s),e.fireEvent("aftershowcontextmenu",t),domUtils.preventDefault(a),browser.ie){var f;try{f=e.selection.getNative().createRange()}catch(h){return}if(f.item){var p=new dom.Range(e.document);p.selectNode(f.item(0)).select(!0,!0)}}}),e.addListener("aftershowcontextmenu",function(t,n){if(e.zeroclipboard){var i=n.items;for(var r in i)"edui-for-copy"==i[r].className&&e.zeroclipboard.clip(i[r].getDom())}})}}},UE.plugins.shortcutmenu=function(){var e,t=this,n=t.options.shortcutMenu||[];n.length&&(t.addListener("contextmenu mouseup",function(t,i){var r=this,o={type:t,target:i.target||i.srcElement,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY};if(setTimeout(function(){var i=r.selection.getRange();i.collapsed!==!1&&"contextmenu"!=t||(e||(e=new baidu.editor.ui.ShortCutMenu({editor:r,items:n,theme:r.options.theme,className:"edui-shortcutmenu"}),e.render(),r.fireEvent("afterrendershortcutmenu",e)),e.show(o,!!UE.plugins.contextmenu))}),"contextmenu"==t&&(domUtils.preventDefault(i),browser.ie9below)){var a;try{a=r.selection.getNative().createRange()}catch(i){return}if(a.item){var s=new dom.Range(r.document);
s.selectNode(a.item(0)).select(!0,!0)}}}),t.addListener("keydown",function(t){"keydown"==t&&e&&!e.isHidden&&e.hide()}))},UE.plugins.basestyle=function(){var e={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},t=function(e,t){return domUtils.filterNodeList(e.selection.getStartElementPath(),t)},n=this;n.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+85"}),n.addInputRule(function(e){utils.each(e.getNodesByTagName("b i"),function(e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em"}})});for(var i in e)!function(e,i){n.commands[e]={execCommand:function(e){var r=n.selection.getRange(),o=t(this,i);if(r.collapsed){if(o){var a=n.document.createTextNode("");r.insertNode(a).removeInlineStyle(i),r.setStartBefore(a),domUtils.remove(a)}else{var s=r.document.createElement(i[0]);"superscript"!=e&&"subscript"!=e||(a=n.document.createTextNode(""),r.insertNode(a).removeInlineStyle(["sub","sup"]).setStartBefore(a).collapse(!0)),r.insertNode(s).setStart(s,0)}r.collapse(!0)}else"superscript"!=e&&"subscript"!=e||o&&o.tagName.toLowerCase()==e||r.removeInlineStyle(["sub","sup"]),o?r.removeInlineStyle(i):r.applyInlineStyle(i[0]);r.select()},queryCommandState:function(){return t(this,i)?1:0}}}(i,e[i])},UE.plugins.elementpath=function(){var e,t,n=this;n.setOpt("elementPathEnabled",!0),n.options.elementPathEnabled&&(n.commands.elementpath={execCommand:function(i,r){var o=t[r],a=n.selection.getRange();e=1*r,a.selectNode(o).select()},queryCommandValue:function(){var n=[].concat(this.selection.getStartElementPath()).reverse(),i=[];t=n;for(var r,o=0;r=n[o];o++)if(3!=r.nodeType){var a=r.tagName.toLowerCase();if("img"==a&&r.getAttribute("anchorname")&&(a="anchor"),i[o]=a,e==o){e=-1;break}}return i}})},UE.plugins.formatmatch=function(){function e(o,a){function s(e){return f&&e.selectNode(f),e.applyInlineStyle(i[i.length-1].tagName,null,i)}if(browser.webkit)var l="IMG"==a.target.tagName?a.target:null;n.undoManger&&n.undoManger.save();var c=n.selection.getRange(),u=l||c.getClosedNode();if(t&&u&&"IMG"==u.tagName)u.style.cssText+=";float:"+(t.style.cssFloat||t.style.styleFloat||"none")+";display:"+(t.style.display||"inline"),t=null;else if(!t){var d=c.collapsed;if(d){var f=n.document.createTextNode("match");c.insertNode(f).select()}n.__hasEnterExecCommand=!0;var h=n.options.removeFormatAttributes;n.options.removeFormatAttributes="",n.execCommand("removeformat"),n.options.removeFormatAttributes=h,n.__hasEnterExecCommand=!1,c=n.selection.getRange(),i.length&&s(c),f&&c.setStartBefore(f).collapse(!0),c.select(),f&&domUtils.remove(f)}n.undoManger&&n.undoManger.save(),n.removeListener("mouseup",e),r=0}var t,n=this,i=[],r=0;n.addListener("reset",function(){i=[],r=0}),n.commands.formatmatch={execCommand:function(o){if(r)return r=0,i=[],void n.removeListener("mouseup",e);var a=n.selection.getRange();if(t=a.getClosedNode(),!t||"IMG"!=t.tagName){a.collapse(!0).shrinkBoundary();var s=a.startContainer;i=domUtils.findParents(s,!0,function(e){return!domUtils.isBlockElm(e)&&1==e.nodeType});for(var l,c=0;l=i[c];c++)if("A"==l.tagName){i.splice(c,1);break}}n.addListener("mouseup",e),r=1},queryCommandState:function(){return r},notNeedUndo:1}},UE.plugin.register("searchreplace",function(){function e(e,t,n){var i=t.searchStr;-1==t.dir&&(e=e.split("").reverse().join(""),i=i.split("").reverse().join(""),n=e.length-n);for(var r,o=new RegExp(i,"g"+(t.casesensitive?"":"i"));r=o.exec(e);)if(r.index>=n)return-1==t.dir?e.length-r.index-t.searchStr.length:r.index;return-1}function t(t,n,i){var r,o,s=i.all||1==i.dir?"getNextDomNode":"getPreDomNode";domUtils.isBody(t)&&(t=t.firstChild);for(var l=1;t;){if(r=3==t.nodeType?t.nodeValue:t[browser.ie?"innerText":"textContent"],o=e(r,i,n),l=0,-1!=o)return{node:t,index:o};for(t=domUtils[s](t);t&&a[t.nodeName.toLowerCase()];)t=domUtils[s](t,!0);t&&(n=-1==i.dir?(3==t.nodeType?t.nodeValue:t[browser.ie?"innerText":"textContent"]).length:0)}}function n(e,t,i){for(var r,o=0,a=e.firstChild,s=0;a;){if(3==a.nodeType){if(s=a.nodeValue.replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length,o+=s,o>=t)return{node:a,index:s-(o-t)}}else if(!dtd.$empty[a.tagName]&&(s=a[browser.ie?"innerText":"textContent"].replace(/(^[\t\r\n]+)|([\t\r\n]+$)/,"").length,o+=s,o>=t&&(r=n(a,s-(o-t),i))))return r;a=domUtils.getNextDomNode(a)}}function i(e,i){var o,a=e.selection.getRange(),s=i.searchStr,l=e.document.createElement("span");if(l.innerHTML="$$ueditor_searchreplace_key$$",a.shrinkBoundary(!0),!a.collapsed){a.select();var c=e.selection.getText();if(new RegExp("^"+i.searchStr+"$",i.casesensitive?"":"i").test(c)){if(void 0!=i.replaceStr)return r(a,i.replaceStr),a.select(),!0;a.collapse(-1==i.dir)}}a.insertNode(l),a.enlargeToBlockElm(!0),o=a.startContainer;var u=o[browser.ie?"innerText":"textContent"].indexOf("$$ueditor_searchreplace_key$$");a.setStartBefore(l),domUtils.remove(l);var d=t(o,u,i);if(d){var f=n(d.node,d.index,s),h=n(d.node,d.index+s.length,s);return a.setStart(f.node,f.index).setEnd(h.node,h.index),void 0!==i.replaceStr&&r(a,i.replaceStr),a.select(),!0}a.setCursor()}function r(e,t){t=o.document.createTextNode(t),e.deleteContents().insertNode(t)}var o=this,a={table:1,tbody:1,tr:1,ol:1,ul:1};return{commands:{searchreplace:{execCommand:function(e,t){utils.extend(t,{all:!1,casesensitive:!1,dir:1},!0);var n=0;if(t.all){var r=o.selection.getRange(),a=o.body.firstChild;for(a&&1==a.nodeType?(r.setStart(a,0),r.shrinkBoundary(!0)):3==a.nodeType&&r.setStartBefore(a),r.collapse(!0).select(!0),void 0!==t.replaceStr&&o.fireEvent("saveScene");i(this,t);)n++;n&&o.fireEvent("saveScene")}else void 0!==t.replaceStr&&o.fireEvent("saveScene"),i(this,t)&&n++,n&&o.fireEvent("saveScene");return n},notNeedUndo:1}}}}),UE.plugins.customstyle=function(){var e=this;e.setOpt({customstyle:[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]}),e.commands.customstyle={execCommand:function(e,t){var n,i,r=this,o=t.tag,a=domUtils.findParent(r.selection.getStart(),function(e){return e.getAttribute("label")},!0),s={};for(var l in t)void 0!==t[l]&&(s[l]=t[l]);if(delete s.tag,a&&a.getAttribute("label")==t.label){if(n=this.selection.getRange(),i=n.createBookmark(),n.collapsed)if(dtd.$block[a.tagName]){var c=r.document.createElement("p");domUtils.moveChild(a,c),a.parentNode.insertBefore(c,a),domUtils.remove(a)}else domUtils.remove(a,!0);else{var u=domUtils.getCommonAncestor(i.start,i.end),d=domUtils.getElementsByTagName(u,o);new RegExp(o,"i").test(u.tagName)&&d.push(u);for(var f,h=0;f=d[h++];)if(f.getAttribute("label")==t.label){var p=domUtils.getPosition(f,i.start),m=domUtils.getPosition(f,i.end);if((p&domUtils.POSITION_FOLLOWING||p&domUtils.POSITION_CONTAINS)&&(m&domUtils.POSITION_PRECEDING||m&domUtils.POSITION_CONTAINS)&&dtd.$block[o]){var c=r.document.createElement("p");domUtils.moveChild(f,c),f.parentNode.insertBefore(c,f)}domUtils.remove(f,!0)}a=domUtils.findParent(u,function(e){return e.getAttribute("label")==t.label},!0),a&&domUtils.remove(a,!0)}n.moveToBookmark(i).select()}else if(dtd.$block[o]){if(this.execCommand("paragraph",o,s,"customstyle"),n=r.selection.getRange(),!n.collapsed){n.collapse(),a=domUtils.findParent(r.selection.getStart(),function(e){return e.getAttribute("label")==t.label},!0);var g=r.document.createElement("p");domUtils.insertAfter(a,g),domUtils.fillNode(r.document,g),n.setStart(g,0).setCursor()}}else{if(n=r.selection.getRange(),n.collapsed)return a=r.document.createElement(o),domUtils.setAttributes(a,s),void n.insertNode(a).setStart(a,0).setCursor();i=n.createBookmark(),n.applyInlineStyle(o,s).moveToBookmark(i).select()}},queryCommandValue:function(){var e=domUtils.filterNodeList(this.selection.getStartElementPath(),function(e){return e.getAttribute("label")});return e?e.getAttribute("label"):""}},e.addListener("keyup",function(t,n){var i=n.keyCode||n.which;if(32==i||13==i){var r=e.selection.getRange();if(r.collapsed){var o=domUtils.findParent(e.selection.getStart(),function(e){return e.getAttribute("label")},!0);if(o&&dtd.$block[o.tagName]&&domUtils.isEmptyNode(o)){var a=e.document.createElement("p");domUtils.insertAfter(o,a),domUtils.fillNode(e.document,a),domUtils.remove(o),r.setStart(a,0).setCursor()}}}})},UE.plugins.catchremoteimage=function(){var me=this,ajax=UE.ajax;me.options.catchRemoteImageEnable!==!1&&(me.setOpt({catchRemoteImageEnable:!1}),me.addListener("afterpaste",function(){me.fireEvent("catchRemoteImage")}),me.addListener("catchRemoteImage",function(){function catchremoteimage(e,t){var n=utils.serializeParam(me.queryCommandValue("serverparam"))||"",i=utils.formatUrl(catcherActionUrl+(-1==catcherActionUrl.indexOf("?")?"?":"&")+n),r=utils.isCrossDomainUrl(i),o={method:"POST",dataType:r?"jsonp":"",timeout:6e4,onsuccess:t.success,onerror:t.error};o[catcherFieldName]=e,ajax.request(i,o)}for(var catcherLocalDomain=me.getOpt("catcherLocalDomain"),catcherActionUrl=me.getActionUrl(me.getOpt("catcherActionName")),catcherUrlPrefix=me.getOpt("catcherUrlPrefix"),catcherFieldName=me.getOpt("catcherFieldName"),remoteImages=[],imgs=domUtils.getElementsByTagName(me.document,"img"),test=function(e,t){if(-1!=e.indexOf(location.host)||/(^\.)|(^\/)/.test(e))return!0;if(t)for(var n,i=0;n=t[i++];)if(-1!==e.indexOf(n))return!0;return!1},i=0,ci;ci=imgs[i++];)if(!ci.getAttribute("word_img")){var src=ci.getAttribute("_src")||ci.src||"";/^(https?|ftp):/i.test(src)&&!test(src,catcherLocalDomain)&&remoteImages.push(src)}remoteImages.length&&catchremoteimage(remoteImages,{success:function(r){try{var info=void 0!==r.state?r:eval("("+r.responseText+")")}catch(e){return}var i,j,ci,cj,oldSrc,newSrc,list=info.list;for(i=0;ci=imgs[i++];)for(oldSrc=ci.getAttribute("_src")||ci.src||"",j=0;cj=list[j++];)if(oldSrc==cj.source&&"SUCCESS"==cj.state){newSrc=catcherUrlPrefix+cj.url,domUtils.setAttributes(ci,{src:newSrc,_src:newSrc});break}me.fireEvent("catchremotesuccess")},error:function(){me.fireEvent("catchremoteerror")}})}))},UE.plugin.register("snapscreen",function(){function getLocation(e){var t,n=document.createElement("a"),i=utils.serializeParam(me.queryCommandValue("serverparam"))||"";return n.href=e,browser.ie&&(n.href=n.href),t=n.search,i&&(t=t+(-1==t.indexOf("?")?"?":"&")+i,t=t.replace(/[&]+/gi,"&")),{port:n.port,hostname:n.hostname,path:n.pathname+t||+n.hash}}var me=this,snapplugin;return{commands:{snapscreen:{execCommand:function(cmd){function onSuccess(rs){try{if(rs=eval("("+rs+")"),"SUCCESS"==rs.state){var opt=me.options;me.execCommand("insertimage",{src:opt.snapscreenUrlPrefix+rs.url,_src:opt.snapscreenUrlPrefix+rs.url,alt:rs.title||"",floatStyle:opt.snapscreenImgAlign})}else alert(rs.state)}catch(e){alert(lang.callBackErrorMsg)}}var url,local,res,lang=me.getLang("snapScreen_plugin");if(!snapplugin){var container=me.container,doc=me.container.ownerDocument||me.container.document;snapplugin=doc.createElement("object");try{snapplugin.type="application/x-pluginbaidusnap"}catch(e){return}snapplugin.style.cssText="position:absolute;left:-9999px;width:0;height:0;",snapplugin.setAttribute("width","0"),snapplugin.setAttribute("height","0"),container.appendChild(snapplugin)}url=me.getActionUrl(me.getOpt("snapscreenActionName")),local=getLocation(url),setTimeout(function(){try{res=snapplugin.saveSnapshot(local.hostname,local.path,local.port)}catch(e){return void me.ui._dialogs.snapscreenDialog.open()}onSuccess(res)},50)},queryCommandState:function(){return-1!=navigator.userAgent.indexOf("Windows",0)?0:-1}}}}}),UE.commands.insertparagraph={execCommand:function(e,t){for(var n,i=this,r=i.selection.getRange(),o=r.startContainer;o&&!domUtils.isBody(o);)n=o,o=o.parentNode;if(n){var a=i.document.createElement("p");t?n.parentNode.insertBefore(a,n):n.parentNode.insertBefore(a,n.nextSibling),domUtils.fillNode(i.document,a),r.setStart(a,0).setCursor(!1,!0)}}},UE.plugin.register("webapp",function(){function e(e,n){return n?'<iframe class="edui-faked-webapp" title="'+e.title+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+'"':"")+'width="'+e.width+'" height="'+e.height+'"  scrolling="no" frameborder="0" src="'+e.url+'" logo_url = "'+e.logo+'"></iframe>':'<img title="'+e.title+'" width="'+e.width+'" height="'+e.height+'" src="'+t.options.UEDITOR_HOME_URL+'themes/default/images/spacer.gif" _logo_url="'+e.logo+'" style="background:url('+e.logo+') no-repeat center center; border:1px solid gray;" class="edui-faked-webapp" _url="'+e.url+'" '+(e.align&&!e.cssfloat?'align="'+e.align+'"':"")+(e.cssfloat?'style="float:'+e.cssfloat+'"':"")+"/>"}var t=this;return{outputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var n;if("edui-faked-webapp"==t.getAttr("class")){n=e({title:t.getAttr("title"),width:t.getAttr("width"),height:t.getAttr("height"),align:t.getAttr("align"),cssfloat:t.getStyle("float"),url:t.getAttr("_url"),logo:t.getAttr("_logo_url")},!0);var i=UE.uNode.createElement(n);t.parentNode.replaceChild(i,t)}})},inputRule:function(t){utils.each(t.getNodesByTagName("iframe"),function(t){if("edui-faked-webapp"==t.getAttr("class")){var n=UE.uNode.createElement(e({title:t.getAttr("title"),width:t.getAttr("width"),height:t.getAttr("height"),align:t.getAttr("align"),cssfloat:t.getStyle("float"),url:t.getAttr("src"),logo:t.getAttr("logo_url")}));t.parentNode.replaceChild(n,t)}})},commands:{webapp:{execCommand:function(t,n){var i=this,r=e(utils.extend(n,{align:"none"}),!1);i.execCommand("inserthtml",r)},queryCommandState:function(){var e=this,t=e.selection.getRange().getClosedNode(),n=t&&"edui-faked-webapp"==t.className;return n?1:0}}}}}),UE.plugins.template=function(){UE.commands.template={execCommand:function(e,t){t.html&&this.execCommand("inserthtml",t.html)}},this.addListener("click",function(e,t){var n=t.target||t.srcElement,i=this.selection.getRange(),r=domUtils.findParent(n,function(e){return e.className&&domUtils.hasClass(e,"ue_t")?e:void 0},!0);r&&i.selectNode(r).shrinkBoundary().select()}),this.addListener("keydown",function(e,t){var n=this.selection.getRange();if(!n.collapsed&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var i=domUtils.findParent(n.startContainer,function(e){return e.className&&domUtils.hasClass(e,"ue_t")?e:void 0},!0);i&&domUtils.removeClasses(i,["ue_t"])}})},UE.plugin.register("music",function(){function e(e,n,i,r,o,a){return a?'<embed type="application/x-shockwave-flash" class="edui-faked-music" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e+'" width="'+n+'" height="'+i+'" '+(r&&!o?'align="'+r+'"':"")+(o?'style="float:'+o+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(r&&!o?'align="'+r+'"':"")+(o?'style="float:'+o+'"':"")+' width="'+n+'" height="'+i+'" _url="'+e+'" class="edui-faked-music" src="'+t.options.langPath+t.options.lang+'/images/music.png" />'}var t=this;return{outputRule:function(t){utils.each(t.getNodesByTagName("img"),function(t){var n;if("edui-faked-music"==t.getAttr("class")){var i=t.getStyle("float"),r=t.getAttr("align");n=e(t.getAttr("_url"),t.getAttr("width"),t.getAttr("height"),r,i,!0);var o=UE.uNode.createElement(n);t.parentNode.replaceChild(o,t)}})},inputRule:function(t){utils.each(t.getNodesByTagName("embed"),function(t){if("edui-faked-music"==t.getAttr("class")){var n=t.getStyle("float"),i=t.getAttr("align");html=e(t.getAttr("src"),t.getAttr("width"),t.getAttr("height"),i,n,!1);var r=UE.uNode.createElement(html);t.parentNode.replaceChild(r,t)}})},commands:{music:{execCommand:function(t,n){var i=this,r=e(n.url,n.width||400,n.height||95,"none",!1);i.execCommand("inserthtml",r)},queryCommandState:function(){var e=this,t=e.selection.getRange().getClosedNode(),n=t&&"edui-faked-music"==t.className;return n?1:0}}}}}),UE.plugin.register("autoupload",function(){function e(e,t){var n,i,r,o,a,s,l,c,u=t,d=/image\/\w+/i.test(e.type)?"image":"file",f="loading_"+(+new Date).toString(36);if(n=u.getOpt(d+"FieldName"),i=u.getOpt(d+"UrlPrefix"),r=u.getOpt(d+"MaxSize"),o=u.getOpt(d+"AllowFiles"),a=u.getActionUrl(u.getOpt(d+"ActionName")),l=function(e){var t=u.document.getElementById(f);t&&domUtils.remove(t),u.fireEvent("showmessage",{id:f,content:e,type:"error",timeout:4e3})},"image"==d?(s='<img class="loadingclass" id="'+f+'" src="'+u.options.themePath+u.options.theme+'/images/spacer.gif" title="'+(u.getLang("autoupload.loading")||"")+'" >',c=function(e){var t=i+e.url,n=u.document.getElementById(f);n&&(n.setAttribute("src",t),n.setAttribute("_src",t),n.setAttribute("title",e.title||""),n.setAttribute("alt",e.original||""),n.removeAttribute("id"),domUtils.removeClasses(n,"loadingclass"))}):(s='<p><img class="loadingclass" id="'+f+'" src="'+u.options.themePath+u.options.theme+'/images/spacer.gif" title="'+(u.getLang("autoupload.loading")||"")+'" ></p>',c=function(e){var t=i+e.url,n=u.document.getElementById(f),r=u.selection.getRange(),o=r.createBookmark();r.selectNode(n).select(),u.execCommand("insertfile",{url:t}),r.moveToBookmark(o).select()}),u.execCommand("inserthtml",s),!u.getOpt(d+"ActionName"))return void l(u.getLang("autoupload.errorLoadConfig"));if(e.size>r)return void l(u.getLang("autoupload.exceedSizeError"));var h=e.name?e.name.substr(e.name.lastIndexOf(".")):"";if(h&&"image"!=d||o&&-1==(o.join("")+".").indexOf(h.toLowerCase()+"."))return void l(u.getLang("autoupload.exceedTypeError"));var p=new XMLHttpRequest,m=new FormData,g=utils.serializeParam(u.queryCommandValue("serverparam"))||"",v=utils.formatUrl(a+(-1==a.indexOf("?")?"?":"&")+g);m.append(n,e,e.name||"blob."+e.type.substr("image/".length)),m.append("type","ajax"),p.open("post",v,!0),p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.addEventListener("load",function(e){try{var t=new Function("return "+utils.trim(e.target.response))();"SUCCESS"==t.state&&t.url?c(t):l(t.state)}catch(n){l(u.getLang("autoupload.loadError"))}}),p.send(m)}function t(e){return e.clipboardData&&e.clipboardData.items&&1==e.clipboardData.items.length&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null}function n(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}return{outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)}),utils.each(e.getNodesByTagName("p"),function(e){/\bloadpara\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},bindEvents:{ready:function(i){var r=this;window.FormData&&window.FileReader&&(domUtils.on(r.body,"paste drop",function(i){var o,a=!1;if(o="paste"==i.type?t(i):n(i)){for(var s,l=o.length;l--;)s=o[l],s.getAsFile&&(s=s.getAsFile()),s&&s.size>0&&(e(s,r),a=!0);a&&i.preventDefault()}}),domUtils.on(r.body,"dragover",function(e){"Files"==e.dataTransfer.types[0]&&e.preventDefault()}),utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document))}}}}),UE.plugin.register("autosave",function(){function e(e){var o;if(!(new Date-n<i)){if(!e.hasContents())return void(r&&t.removePreferences(r));n=new Date,e._saveFlag=null,o=t.body.innerHTML,e.fireEvent("beforeautosave",{content:o})!==!1&&(t.setPreferences(r,o),e.fireEvent("afterautosave",{content:o}))}}var t=this,n=new Date,i=20,r=null;return{defaultOptions:{saveInterval:500},bindEvents:{ready:function(){var e="-drafts-data",n=null;n=t.key?t.key+e:(t.container.parentNode.id||"ue-common")+e,r=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+n},contentchange:function(){r&&(t._saveFlag&&window.clearTimeout(t._saveFlag),t.options.saveInterval>0?t._saveFlag=window.setTimeout(function(){e(t)},t.options.saveInterval):e(t))}},commands:{clearlocaldata:{execCommand:function(e,n){r&&t.getPreferences(r)&&t.removePreferences(r)},notNeedUndo:!0,ignoreContentChange:!0},getlocaldata:{execCommand:function(e,n){return r?t.getPreferences(r)||"":""},notNeedUndo:!0,ignoreContentChange:!0},drafts:{execCommand:function(e,n){r&&(t.body.innerHTML=t.getPreferences(r)||"<p>"+domUtils.fillHtml+"</p>",t.focus(!0))},queryCommandState:function(){return r?null===t.getPreferences(r)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}}}}),UE.plugin.register("charts",function(){function e(e){var t=null,n=0;if(e.rows.length<2)return!1;if(e.rows[0].cells.length<2)return!1;t=e.rows[0].cells,n=t.length;for(var i,r=0;i=t[r];r++)if("th"!==i.tagName.toLowerCase())return!1;for(var o,r=1;o=e.rows[r];r++){if(o.cells.length!=n)return!1;if("th"!==o.cells[0].tagName.toLowerCase())return!1;for(var i,a=1;i=o.cells[a];a++){var s=utils.trim(i.innerText||i.textContent||"");if(s=s.replace(new RegExp(UE.dom.domUtils.fillChar,"g"),"").replace(/^\s+|\s+$/g,""),!/^\d*\.?\d+$/.test(s))return!1}}return!0}var t=this;return{bindEvents:{chartserror:function(){}},commands:{charts:{execCommand:function(n,i){var r=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0),o=[],a={};if(!r)return!1;if(!e(r))return t.fireEvent("chartserror"),!1;a.title=i.title||"",a.subTitle=i.subTitle||"",a.xTitle=i.xTitle||"",a.yTitle=i.yTitle||"",a.suffix=i.suffix||"",a.tip=i.tip||"",a.dataFormat=i.tableDataFormat||"",a.chartType=i.chartType||0;for(var s in a)a.hasOwnProperty(s)&&o.push(s+":"+a[s]);r.setAttribute("data-chart",o.join(";")),domUtils.addClass(r,"edui-charts-table")},queryCommandState:function(t,n){var i=domUtils.findParentByTagName(this.selection.getRange().startContainer,"table",!0);return i&&e(i)?0:-1}}},inputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style")})},outputRule:function(e){utils.each(e.getNodesByTagName("table"),function(e){void 0!==e.getAttr("data-chart")&&e.setAttr("style","display: none;")})}}}),UE.plugin.register("section",function(){function e(e){this.tag="",this.level=-1,this.dom=null,this.nextSection=null,this.previousSection=null,this.parentSection=null,this.startAddress=[],this.endAddress=[],this.children=[]}function t(t){var n=new e;return utils.extend(n,t)}function n(e,t){for(var n=t,i=0;i<e.length;i++){if(!n.childNodes)return null;n=n.childNodes[e[i]]}return n}var i=this;return{bindMultiEvents:{type:"aftersetcontent afterscencerestore",handler:function(){i.fireEvent("updateSections")}},bindEvents:{ready:function(){i.fireEvent("updateSections"),domUtils.on(i.body,"drop paste",function(){i.fireEvent("updateSections")})},afterexeccommand:function(e,t){"paragraph"==t&&i.fireEvent("updateSections")},keyup:function(e,t){var n=this,i=n.selection.getRange();if(1!=i.collapsed)n.fireEvent("updateSections");else{var r=t.keyCode||t.which;13!=r&&8!=r&&46!=r||n.fireEvent("updateSections")}}},commands:{getsections:{execCommand:function(e,n){function i(e){for(var t=0;t<o.length;t++)if(o[t](e))return t;return-1}function r(e,n){for(var o,a,l,u=null,d=e.childNodes,f=0,h=d.length;h>f;f++)if(l=d[f],o=i(l),o>=0){var p=s.selection.getRange().selectNode(l).createAddress(!0).startAddress,m=t({tag:l.tagName,title:l.innerText||l.textContent||"",level:o,dom:l,startAddress:utils.clone(p,[]),endAddress:utils.clone(p,[]),children:[]});for(c.nextSection=m,m.previousSection=c,a=c;o<=a.level;)a=a.parentSection;m.parentSection=a,a.children.push(m),u=c=m}else 1===l.nodeType&&r(l,n),u&&u.endAddress[u.endAddress.length-1]++}for(var o=n||["h1","h2","h3","h4","h5","h6"],a=0;a<o.length;a++)"string"==typeof o[a]?o[a]=function(e){return function(t){return t.tagName==e.toUpperCase()}}(o[a]):"function"!=typeof o[a]&&(o[a]=function(e){return null});var s=this,l=t({level:-1,title:"root"}),c=l;return r(s.body,l),l},notNeedUndo:!0},movesection:{execCommand:function(e,t,i,r){function o(e,t,n){for(var i=!1,r=!1,o=0;o<e.length&&!(o>=n.length);o++){if(n[o]>e[o]){i=!0;break}if(n[o]<e[o])break}for(var o=0;o<t.length&&!(o>=n.length);o++){if(n[o]<e[o]){r=!0;break}if(n[o]>e[o])break}return i&&r}var a,s,l=this;if(t&&i&&-1!=i.level&&(a=r?i.endAddress:i.startAddress,s=n(a,l.body),a&&s&&!o(t.startAddress,t.endAddress,a))){var c,u,d=n(t.startAddress,l.body),f=n(t.endAddress,l.body);if(r)for(c=f;c&&!(domUtils.getPosition(d,c)&domUtils.POSITION_FOLLOWING)&&(u=c.previousSibling,domUtils.insertAfter(s,c),c!=d);)c=u;else for(c=d;c&&!(domUtils.getPosition(c,f)&domUtils.POSITION_FOLLOWING)&&(u=c.nextSibling,s.parentNode.insertBefore(c,s),c!=f);)c=u;l.fireEvent("updateSections")}}},deletesection:{execCommand:function(e,t,n){function i(e){for(var t=r.body,n=0;n<e.length;n++){if(!t.childNodes)return null;t=t.childNodes[e[n]]}return t}var r=this;if(t){var o,a=i(t.startAddress),s=i(t.endAddress),l=a;if(n)domUtils.remove(l);else for(;l&&domUtils.inDoc(s,r.document)&&!(domUtils.getPosition(l,s)&domUtils.POSITION_FOLLOWING);)o=l.nextSibling,domUtils.remove(l),l=o;r.fireEvent("updateSections")}}},selectsection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var n=this,i=n.selection.getRange(),r={startAddress:utils.clone(t.startAddress,[]),endAddress:utils.clone(t.endAddress,[])};return r.endAddress[r.endAddress.length-1]++,i.moveToAddress(r).select().scrollToView(),!0},notNeedUndo:!0},scrolltosection:{execCommand:function(e,t){if(!t&&!t.dom)return!1;var n=this,i=n.selection.getRange(),r={startAddress:t.startAddress,endAddress:t.endAddress};return r.endAddress[r.endAddress.length-1]++,i.moveToAddress(r).scrollToView(),!0},notNeedUndo:!0}}}}),UE.plugin.register("simpleupload",function(){function e(){var e=t.offsetWidth||20,r=t.offsetHeight||20,o=document.createElement("iframe"),a="display:block;width:"+e+"px;height:"+r+"px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;";domUtils.on(o,"load",function(){var t,s,l,c=(+new Date).toString(36);s=o.contentDocument||o.contentWindow.document,l=s.body,t=s.createElement("div"),t.innerHTML='<form id="edui_form_'+c+'" target="edui_iframe_'+c+'" method="POST" enctype="multipart/form-data" action="'+n.getOpt("serverUrl")+'" style="'+a+'"><input id="edui_input_'+c+'" type="file" accept="image/*" name="'+n.options.imageFieldName+'" style="'+a+'"></form><iframe id="edui_iframe_'+c+'" name="edui_iframe_'+c+'" style="display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;"></iframe>',t.className="edui-"+n.options.theme,t.id=n.ui.id+"_iframeupload",l.style.cssText=a,l.style.width=e+"px",l.style.height=r+"px",l.appendChild(t),l.parentNode&&(l.parentNode.style.width=e+"px",l.parentNode.style.height=e+"px");var u=s.getElementById("edui_form_"+c),d=s.getElementById("edui_input_"+c),f=s.getElementById("edui_iframe_"+c);domUtils.on(d,"change",function(){function e(){try{var r,o,a,s=(f.contentDocument||f.contentWindow.document).body,l=s.innerText||s.textContent||"";o=new Function("return "+l)(),r=n.options.imageUrlPrefix+o.url,"SUCCESS"==o.state&&o.url?(a=n.document.getElementById(i),a.setAttribute("src",r),a.setAttribute("_src",r),a.setAttribute("title",o.title||""),a.setAttribute("alt",o.original||""),a.removeAttribute("id"),domUtils.removeClasses(a,"loadingclass")):t&&t(o.state)}catch(c){t&&t(n.getLang("simpleupload.loadError"))}u.reset(),domUtils.un(f,"load",e)}function t(e){if(i){var t=n.document.getElementById(i);t&&domUtils.remove(t),n.fireEvent("showmessage",{id:i,content:e,type:"error",timeout:4e3})}}if(d.value){var i="loading_"+(+new Date).toString(36),r=utils.serializeParam(n.queryCommandValue("serverparam"))||"",o=n.getActionUrl(n.getOpt("imageActionName")),a=n.getOpt("imageAllowFiles");if(n.focus(),n.execCommand("inserthtml",'<img class="loadingclass" id="'+i+'" src="'+n.options.themePath+n.options.theme+'/images/spacer.gif" title="'+(n.getLang("simpleupload.loading")||"")+'" >'),!n.getOpt("imageActionName"))return void errorHandler(n.getLang("autoupload.errorLoadConfig"));var s=d.value,l=s?s.substr(s.lastIndexOf(".")):"";if(!l||a&&-1==(a.join("")+".").indexOf(l.toLowerCase()+"."))return void t(n.getLang("simpleupload.exceedTypeError"));domUtils.on(f,"load",e),u.action=utils.formatUrl(o+(-1==o.indexOf("?")?"?":"&")+r),u.submit()}});var h;n.addListener("selectionchange",function(){clearTimeout(h),h=setTimeout(function(){var e=n.queryCommandState("simpleupload");-1==e?d.disabled="disabled":d.disabled=!1},400)}),i=!0}),o.style.cssText=a,t.appendChild(o)}var t,n=this,i=!1;return{bindEvents:{ready:function(){utils.cssRule("loading",".loadingclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\n.loaderrorclass{display:inline-block;cursor:default;background: url('"+this.options.themePath+this.options.theme+"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}",this.document)},simpleuploadbtnready:function(i,r){t=r,n.afterConfigReady(e)}},outputRule:function(e){utils.each(e.getNodesByTagName("img"),function(e){/\b(loaderrorclass)|(bloaderrorclass)\b/.test(e.getAttr("class"))&&e.parentNode.removeChild(e)})},commands:{simpleupload:{queryCommandState:function(){return i?0:-1}}}}}),UE.plugin.register("serverparam",function(){var e={};return{commands:{serverparam:{execCommand:function(t,n,i){void 0===n||null===n?e={}:utils.isString(n)?void 0===i||null===i?delete e[n]:e[n]=i:utils.isObject(n)?utils.extend(e,n,!0):utils.isFunction(n)&&utils.extend(e,n(),!0)},queryCommandValue:function(){return e||{}}}}}}),UE.plugin.register("insertfile",function(){function e(e){var t=e.substr(e.lastIndexOf(".")+1).toLowerCase(),n={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"};return n[t]?n[t]:n.txt}var t=this;return{commands:{insertfile:{execCommand:function(n,i){i=utils.isArray(i)?i:[i];var r,o,a,s,l="",c=t.getOpt("UEDITOR_HOME_URL"),u=c+("/"==c.substr(c.length-1)?"":"/")+"dialogs/attachment/fileTypeImages/";for(r=0;r<i.length;r++)o=i[r],a=u+e(o.url),s=o.title||o.url.substr(o.url.lastIndexOf("/")+1),l+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+a+'" _src="'+a+'" /><a style="font-size:12px; color:#0066cc;" href="'+o.url+'" title="'+s+'">'+s+"</a></p>";t.execCommand("insertHtml",l)}}}}}),UE.plugins.xssFilter=function(){function e(e){var t=e.tagName,i=e.attrs;return n.hasOwnProperty(t)?void UE.utils.each(i,function(i,r){-1===n[t].indexOf(r)&&e.setAttr(r)}):(e.parentNode.removeChild(e),!1)}var t=UEDITOR_CONFIG,n=t.whitList;n&&t.xssFilterRules&&(this.options.filterRules=function(){var t={};return UE.utils.each(n,function(n,i){t[i]=function(t){return e(t)}}),t}());var i=[];UE.utils.each(n,function(e,t){i.push(t)}),n&&t.inputXssFilter&&this.addInputRule(function(t){t.traversal(function(t){return"element"===t.type&&void e(t)})}),n&&t.outputXssFilter&&this.addOutputRule(function(t){
t.traversal(function(t){return"element"===t.type&&void e(t)})})};var baidu=baidu||{};baidu.editor=baidu.editor||{},UE.ui=baidu.editor.ui={},function(){function e(){var e=document.getElementById("edui_fixedlayer");l.setViewportOffset(e,{left:0,top:0})}function t(t){i.on(window,"scroll",e),i.on(window,"resize",baidu.editor.utils.defer(e,0,!0))}var n=baidu.editor.browser,i=baidu.editor.dom.domUtils,r="$EDITORUI",o=window[r]={},a="ID"+r,s=0,l=baidu.editor.ui.uiUtils={uid:function(e){return e?e[a]||(e[a]=++s):++s},hook:function(e,t){var n;return e&&e._callbacks?n=e:(n=function(){var t;e&&(t=e.apply(this,arguments));for(var i=n._callbacks,r=i.length;r--;){var o=i[r].apply(this,arguments);void 0===t&&(t=o)}return t},n._callbacks=[]),n._callbacks.push(t),n},createElementByHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,t=t.firstChild,t.parentNode.removeChild(t),t},getViewportElement:function(){return n.ie&&n.quirks?document.body:document.documentElement},getClientRect:function(e){var t;try{t=e.getBoundingClientRect()}catch(n){t={left:0,top:0,height:0,width:0}}for(var r,o={left:Math.round(t.left),top:Math.round(t.top),height:Math.round(t.bottom-t.top),width:Math.round(t.right-t.left)};(r=e.ownerDocument)!==document&&(e=i.getWindow(r).frameElement);)t=e.getBoundingClientRect(),o.left+=t.left,o.top+=t.top;return o.bottom=o.top+o.height,o.right=o.left+o.width,o},getViewportRect:function(){var e=l.getViewportElement(),t=0|(window.innerWidth||e.clientWidth),n=0|(window.innerHeight||e.clientHeight);return{left:0,top:0,height:n,width:t,bottom:n,right:t}},setViewportOffset:function(e,t){var n=l.getFixedLayer();e.parentNode===n?(e.style.left=t.left+"px",e.style.top=t.top+"px"):i.setViewportOffset(e,t)},getEventOffset:function(e){var t=e.target||e.srcElement,n=l.getClientRect(t),i=l.getViewportOffsetByEvent(e);return{left:i.left-n.left,top:i.top-n.top}},getViewportOffsetByEvent:function(e){var t=e.target||e.srcElement,n=i.getWindow(t).frameElement,r={left:e.clientX,top:e.clientY};if(n&&t.ownerDocument!==document){var o=l.getClientRect(n);r.left+=o.left,r.top+=o.top}return r},setGlobal:function(e,t){return o[e]=t,r+'["'+e+'"]'},unsetGlobal:function(e){delete o[e]},copyAttributes:function(e,t){for(var r=t.attributes,o=r.length;o--;){var a=r[o];"style"==a.nodeName||"class"==a.nodeName||n.ie&&!a.specified||e.setAttribute(a.nodeName,a.nodeValue)}t.className&&i.addClass(e,t.className),t.style.cssText&&(e.style.cssText+=";"+t.style.cssText)},removeStyle:function(e,t){if(e.style.removeProperty)e.style.removeProperty(t);else{if(!e.style.removeAttribute)throw"";e.style.removeAttribute(t)}},contains:function(e,t){return e&&t&&e!==t&&(e.contains?e.contains(t):16&e.compareDocumentPosition(t))},startDrag:function(e,t,n){function i(e){var n=e.clientX-a,i=e.clientY-s;t.ondragmove(n,i,e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function r(e){n.removeEventListener("mousemove",i,!0),n.removeEventListener("mouseup",r,!0),window.removeEventListener("mouseup",r,!0),t.ondragstop()}function o(){l.releaseCapture(),l.detachEvent("onmousemove",i),l.detachEvent("onmouseup",o),l.detachEvent("onlosecaptrue",o),t.ondragstop()}var n=n||document,a=e.clientX,s=e.clientY;if(n.addEventListener)n.addEventListener("mousemove",i,!0),n.addEventListener("mouseup",r,!0),window.addEventListener("mouseup",r,!0),e.preventDefault();else{var l=e.srcElement;l.setCapture(),l.attachEvent("onmousemove",i),l.attachEvent("onmouseup",o),l.attachEvent("onlosecaptrue",o),e.returnValue=!1}t.ondragstart()},getFixedLayer:function(){var i=document.getElementById("edui_fixedlayer");return null==i&&(i=document.createElement("div"),i.id="edui_fixedlayer",document.body.appendChild(i),n.ie&&n.version<=8?(i.style.position="absolute",t(),setTimeout(e)):i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.width="0",i.style.height="0"),i},makeUnselectable:function(e){if(n.opera||n.ie&&n.version<9){if(e.unselectable="on",e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)1==e.childNodes[t].nodeType&&l.makeUnselectable(e.childNodes[t])}else void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":void 0!==e.style.WebkitUserSelect?e.style.WebkitUserSelect="none":void 0!==e.style.KhtmlUserSelect&&(e.style.KhtmlUserSelect="none")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.EventBase,i=baidu.editor.ui.UIBase=function(){};i.prototype={className:"",uiName:"",initOptions:function(e){var n=this;for(var i in e)n[i]=e[i];this.id=this.id||"edui"+t.uid()},initUIBase:function(){this._globalKey=e.unhtml(t.setGlobal(this.id,this))},render:function(e){for(var n,i=this.renderHtml(),r=t.createElementByHtml(i),o=domUtils.getElementsByTagName(r,"*"),a="edui-"+(this.theme||this.editor.options.theme),s=document.getElementById("edui_fixedlayer"),l=0;n=o[l++];)domUtils.addClass(n,a);domUtils.addClass(r,a),s&&(s.className="",domUtils.addClass(s,a));var c=this.getDom();null!=c?(c.parentNode.replaceChild(r,c),t.copyAttributes(r,c)):("string"==typeof e&&(e=document.getElementById(e)),e=e||t.getFixedLayer(),domUtils.addClass(e,a),e.appendChild(r)),this.postRender()},getDom:function(e){return e?document.getElementById(this.id+"_"+e):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(e){var t="edui-"+this.uiName;return e.replace(/##/g,this.id).replace(/%%-/g,this.uiName?t+"-":"").replace(/%%/g,(this.uiName?t:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var e=this.getDom();e&&baidu.editor.dom.domUtils.remove(e),t.unsetGlobal(this.id)}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.Separator=function(e){this.initOptions(e),this.initSeparator()};n.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}},e.inherits(n,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.uiUtils,r=baidu.editor.ui.Mask=function(e){this.initOptions(e),this.initUIBase()};r.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onclick="return $$._onClick(event, this);" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var e=this;t.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e._fill()})})},show:function(e){this._fill(),this.getDom().style.display="",this.getDom().style.zIndex=e},hide:function(){this.getDom().style.display="none",this.getDom().style.zIndex=""},isHidden:function(){return"none"==this.getDom().style.display},_onMouseDown:function(){return!1},_onClick:function(e,t){this.fireEvent("click",e,t)},_fill:function(){var e=this.getDom(),t=i.getViewportRect();e.style.width=t.width+"px",e.style.height=t.height+"px"}},e.inherits(r,n)}(),function(){function e(e,t){for(var n=0;n<a.length;n++){var i=a[n];if(!i.isHidden()&&i.queryAutoHide(t)!==!1){if(e&&/scroll/gi.test(e.type)&&"edui-wordpastepop"==i.className)return;i.hide()}}a.length&&i.editor.fireEvent("afterhidepop")}var t=baidu.editor.utils,n=baidu.editor.ui.uiUtils,i=baidu.editor.dom.domUtils,r=baidu.editor.ui.UIBase,o=baidu.editor.ui.Popup=function(e){this.initOptions(e),this.initPopup()},a=[];o.postHide=e;var s=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];o.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase(),a.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%" onmousedown="return false;"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function(){return this.content?"string"==typeof this.content?this.content:this.content.renderHtml():""},_UIBase_postRender:r.prototype.postRender,postRender:function(){if(this.content instanceof r&&this.content.postRender(),this.captureWheel&&!this.captured){this.captured=!0;var e=(document.documentElement.clientHeight||document.body.clientHeight)-80,t=this.getDom().offsetHeight,o=n.getClientRect(this.combox.getDom()).top,a=this.getDom("content"),s=this.getDom("body").getElementsByTagName("iframe"),l=this;for(s.length&&(s=s[0]);o+t>e;)t-=30;a.style.height=t+"px",s&&(s.style.height=t+"px"),window.XMLHttpRequest?i.on(a,"onmousewheel"in document.body?"mousewheel":"DOMMouseScroll",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.wheelDelta?a.scrollTop-=e.wheelDelta/120*60:a.scrollTop-=e.detail/-3*60}):i.on(this.getDom(),"mousewheel",function(e){e.returnValue=!1,l.getDom("content").scrollTop-=e.wheelDelta/120*60})}this.fireEvent("postRenderAfter"),this.hide(!0),this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var e=this.getDom("content");return n.getClientRect(e)},fitSize:function(){if(this.captureWheel&&this.sized)return this.__size;this.sized=!0;var e=this.getDom("body");e.style.width="",e.style.height="";var t=this.mesureSize();if(this.captureWheel){e.style.width=-(-20-t.width)+"px";var n=parseInt(this.getDom("content").style.height,10);!window.isNaN(n)&&(t.height=n)}else e.style.width=t.width+"px";return e.style.height=t.height+"px",this.__size=t,this.captureWheel&&(this.getDom("content").style.overflow="auto"),t},showAnchor:function(e,t){this.showAnchorRect(n.getClientRect(e),t)},showAnchorRect:function(e,t,r){this._doAutoRender();var o=n.getViewportRect();this.getDom().style.visibility="hidden",this._show();var a,l,c,u,d=this.fitSize();t?(a=this.canSideLeft&&e.right+d.width>o.right&&e.left>d.width,l=this.canSideUp&&e.top+d.height>o.bottom&&e.bottom>d.height,c=a?e.left-d.width:e.right,u=l?e.bottom-d.height:e.top):(a=this.canSideLeft&&e.right+d.width>o.right&&e.left>d.width,l=this.canSideUp&&e.top+d.height>o.bottom&&e.bottom>d.height,c=a?e.right-d.width:e.left,u=l?e.top-d.height:e.bottom);var f=this.getDom();n.setViewportOffset(f,{left:c,top:u}),i.removeClasses(f,s),f.className+=" "+s[2*(l?1:0)+(a?1:0)],this.editor&&(f.style.zIndex=1*this.editor.container.style.zIndex+10,baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=f.style.zIndex-1),this.getDom().style.visibility="visible"},showAt:function(e){var t=e.left,n=e.top,i={left:t,top:n,right:t,bottom:n,height:0,width:0};this.showAnchorRect(i,!1,!0)},_show:function(){if(this._hidden){var e=this.getDom();e.style.display="",this._hidden=!1,this.fireEvent("show")}},isHidden:function(){return this._hidden},show:function(){this._doAutoRender(),this._show()},hide:function(e){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,e||this.fireEvent("hide"))},queryAutoHide:function(e){return!e||!n.contains(this.getDom(),e)}},t.inherits(o,r),i.on(document,"mousedown",function(t){var n=t.target||t.srcElement;e(t,n)}),i.on(window,"scroll",function(t,n){e(t,n)})}(),function(){function e(e,t){for(var n='<div id="##" class="edui-colorpicker %%"><div class="edui-colorpicker-topbar edui-clearfix"><div unselectable="on" id="##_preview" class="edui-colorpicker-preview"></div><div unselectable="on" class="edui-colorpicker-nocolor" onclick="$$._onPickNoColor(event, this);">'+e+'</div></div><table  class="edui-box" style="border-collapse: collapse;" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);" cellspacing="0" cellpadding="0"><tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px"><td colspan="10">'+t.getLang("themeColor")+'</td> </tr><tr class="edui-colorpicker-tablefirstrow" >',i=0;i<r.length;i++)i&&i%10===0&&(n+="</tr>"+(60==i?'<tr style="border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;"><td colspan="10">'+t.getLang("standardColor")+"</td></tr>":"")+"<tr"+(60==i?' class="edui-colorpicker-tablefirstrow"':"")+">"),n+=70>i?'<td style="padding: 0 2px;"><a hidefocus title="'+r[i]+'" onclick="return false;" href="javascript:" unselectable="on" class="edui-box edui-colorpicker-colorcell" data-color="#'+r[i]+'" style="background-color:#'+r[i]+";border:solid #ccc;"+(10>i||i>=60?"border-width:1px;":i>=10&&20>i?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return n+="</tr></table></div>"}var t=baidu.editor.utils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.ColorPicker=function(e){this.initOptions(e),this.noColorText=this.noColorText||this.editor.getLang("clearColor"),this.initUIBase()};i.prototype={getHtmlTpl:function(){return e(this.noColorText,this.editor)},_onTableClick:function(e){var t=e.target||e.srcElement,n=t.getAttribute("data-color");n&&this.fireEvent("pickcolor",n)},_onTableOver:function(e){var t=e.target||e.srcElement,n=t.getAttribute("data-color");n&&(this.getDom("preview").style.backgroundColor=n)},_onTableOut:function(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function(){this.fireEvent("picknocolor")}},t.inherits(i,n);var r="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(",")}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.TablePicker=function(e){this.initOptions(e),this.initTablePicker()};i.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},_UIBase_render:n.prototype.render,render:function(e){this._UIBase_render(e),this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function(e,t){var n=this.getDom("overlay").style,i=this.lengthOfCellSide;n.width=e*i+"px",n.height=t*i+"px";var r=this.getDom("label");r.innerHTML=e+this.editor.getLang("t_col")+" x "+t+this.editor.getLang("t_row"),this.numCols=e,this.numRows=t},_onMouseOver:function(e,n){var i=e.relatedTarget||e.fromElement;t.contains(n,i)||n===i||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="")},_onMouseOut:function(e,n){var i=e.relatedTarget||e.toElement;t.contains(n,i)||n===i||(this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row"),this.getDom("overlay").style.visibility="hidden")},_onMouseMove:function(e,n){var i=(this.getDom("overlay").style,t.getEventOffset(e)),r=this.lengthOfCellSide,o=Math.ceil(i.left/r),a=Math.ceil(i.top/r);this._track(o,a)},_onClick:function(){this.fireEvent("picktable",this.numCols,this.numRows)}},e.inherits(i,n)}(),function(){var e=baidu.editor.browser,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.uiUtils,i='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(e.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');baidu.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl,this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){var e=this._Stateful_dGetHtmlTpl();return e.replace(/stateful/g,function(){return i})},Stateful_onMouseEnter:function(e,t){this.target=t,this.isDisabled()&&!this.alwalysHoverable||(this.addState("hover"),this.fireEvent("over"))},Stateful_onMouseLeave:function(e,t){this.isDisabled()&&!this.alwalysHoverable||(this.removeState("hover"),this.removeState("active"),this.fireEvent("out"))},Stateful_onMouseOver:function(e,t){var i=e.relatedTarget;n.contains(t,i)||t===i||this.Stateful_onMouseEnter(e,t)},Stateful_onMouseOut:function(e,t){var i=e.relatedTarget;n.contains(t,i)||t===i||this.Stateful_onMouseLeave(e,t)},Stateful_onMouseDown:function(e,t){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(e,t){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(e){return t.hasClass(this.getStateDom(),"edui-state-"+e)},addState:function(e){this.hasState(e)||(this.getStateDom().className+=" edui-state-"+e)},removeState:function(e){this.hasState(e)&&t.removeClasses(this.getStateDom(),["edui-state-"+e])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(e){!this.isDisabled()&&e?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(e){e?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.Stateful,i=baidu.editor.ui.Button=function(e){if(e.name){var t=e.name,n=e.cssRules;e.className||(e.className="edui-for-"+t),e.cssRules=".edui-default  .edui-for-"+t+" .edui-icon {"+n+"}"}this.initOptions(e),this.initButton()};i.prototype={uiName:"button",label:"",title:"",showIcon:!0,showText:!0,cssRules:"",initButton:function(){this.initUIBase(),this.Stateful_init(),this.cssRules&&e.cssRule("edui-customize-"+this.name+"-style",this.cssRules)},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return $$._onMouseDown(event, this);" onclick="return $$._onClick(event, this);">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function(){this.Stateful_postRender(),this.setDisabled(this.disabled)},_onMouseDown:function(e){var t=e.target||e.srcElement,n=t&&t.tagName&&t.tagName.toLowerCase();return"input"!=n&&"object"!=n&&"object"!=n&&void 0},_onClick:function(){this.isDisabled()||this.fireEvent("click")},setTitle:function(e){var t=this.getDom("label");t.innerHTML=e}},e.inherits(i,t),e.extend(i.prototype,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=(baidu.editor.dom.domUtils,baidu.editor.ui.UIBase),i=baidu.editor.ui.Stateful,r=baidu.editor.ui.SplitButton=function(e){this.initOptions(e),this.initSplitButton()};r.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){if(this.initUIBase(),this.Stateful_init(),null!=this.popup){var e=this.popup;this.popup=null,this.setPopup(e)}},_UIBase_postRender:n.prototype.postRender,postRender:function(){this.Stateful_postRender(),this._UIBase_postRender()},setPopup:function(n){this.popup!==n&&(null!=this.popup&&this.popup.dispose(),n.addListener("show",e.bind(this._onPopupShow,this)),n.addListener("hide",e.bind(this._onPopupHide,this)),n.addListener("postrender",e.bind(function(){n.getDom("body").appendChild(t.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(t.getClientRect(this.getDom()).width+20)+'px"></div>')),n.getDom().className+=" "+this.className},this)),this.popup=n)},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body"><div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div><div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div></div></div></div>'},showPopup:function(){var e=t.getClientRect(this.getDom());e.top-=this.popup.SHADOW_RADIUS,e.height+=this.popup.SHADOW_RADIUS,this.popup.showAnchorRect(e)},_onArrowClick:function(e,t){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}},e.inherits(r,n),e.extend(r.prototype,i,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.ColorPicker,i=baidu.editor.ui.Popup,r=baidu.editor.ui.SplitButton,o=baidu.editor.ui.ColorButton=function(e){this.initOptions(e),this.initColorButton()};o.prototype={initColorButton:function(){var e=this;this.popup=new i({content:new n({noColorText:e.editor.getLang("clearColor"),editor:e.editor,onpickcolor:function(t,n){e._onPickColor(n)},onpicknocolor:function(t,n){e._onPickNoColor(n)}}),editor:e.editor}),this.initSplitButton()},_SplitButton_postRender:r.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.getDom("button_body").appendChild(t.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>')),this.getDom().className+=" edui-colorbutton"},setColor:function(e){this.getDom("colorlump").style.backgroundColor=e,this.color=e},_onPickColor:function(e){this.fireEvent("pickcolor",e)!==!1&&(this.setColor(e),this.popup.hide())},_onPickNoColor:function(e){this.fireEvent("picknocolor")!==!1&&this.popup.hide()}},e.inherits(o,r)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,n=baidu.editor.ui.TablePicker,i=baidu.editor.ui.SplitButton,r=baidu.editor.ui.TableButton=function(e){this.initOptions(e),this.initTableButton()};r.prototype={initTableButton:function(){var e=this;this.popup=new t({content:new n({editor:e.editor,onpicktable:function(t,n,i){e._onPickTable(n,i)}}),editor:e.editor}),this.initSplitButton()},_onPickTable:function(e,t){this.fireEvent("picktable",e,t)!==!1&&this.popup.hide()}},e.inherits(r,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.AutoTypeSetPicker=function(e){this.initOptions(e),this.initAutoTypeSetPicker()};n.prototype={initAutoTypeSetPicker:function(){this.initUIBase()},getHtmlTpl:function(){var e=this.editor,t=e.options.autotypeset,n=e.getLang("autoTypeSet"),i="textAlignValue"+e.uid,r="imageBlockLineValue"+e.uid,o="symbolConverValue"+e.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap><input type="checkbox" name="mergeEmptyline" '+(t.mergeEmptyline?"checked":"")+">"+n.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(t.removeEmptyline?"checked":"")+">"+n.delLine+'</td></tr><tr><td nowrap><input type="checkbox" name="removeClass" '+(t.removeClass?"checked":"")+">"+n.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(t.indent?"checked":"")+">"+n.indent+'</td></tr><tr><td nowrap><input type="checkbox" name="textAlign" '+(t.textAlign?"checked":"")+">"+n.alignment+'</td><td colspan="2" id="'+i+'"><input type="radio" name="'+i+'" value="left" '+(t.textAlign&&"left"==t.textAlign?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+i+'" value="center" '+(t.textAlign&&"center"==t.textAlign?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+i+'" value="right" '+(t.textAlign&&"right"==t.textAlign?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="imageBlockLine" '+(t.imageBlockLine?"checked":"")+">"+n.imageFloat+'</td><td nowrap id="'+r+'"><input type="radio" name="'+r+'" value="none" '+(t.imageBlockLine&&"none"==t.imageBlockLine?"checked":"")+">"+e.getLang("default")+'<input type="radio" name="'+r+'" value="left" '+(t.imageBlockLine&&"left"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyleft")+'<input type="radio" name="'+r+'" value="center" '+(t.imageBlockLine&&"center"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifycenter")+'<input type="radio" name="'+r+'" value="right" '+(t.imageBlockLine&&"right"==t.imageBlockLine?"checked":"")+">"+e.getLang("justifyright")+'</td></tr><tr><td nowrap><input type="checkbox" name="clearFontSize" '+(t.clearFontSize?"checked":"")+">"+n.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(t.clearFontFamily?"checked":"")+">"+n.removeFontFamily+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="removeEmptyNode" '+(t.removeEmptyNode?"checked":"")+">"+n.removeHtml+'</td></tr><tr><td nowrap colspan="3"><input type="checkbox" name="pasteFilter" '+(t.pasteFilter?"checked":"")+">"+n.pasteFilter+'</td></tr><tr><td nowrap><input type="checkbox" name="symbolConver" '+(t.bdc2sb||t.tobdc?"checked":"")+">"+n.symbol+'</td><td id="'+o+'"><input type="radio" name="bdc" value="bdc2sb" '+(t.bdc2sb?"checked":"")+">"+n.bdc2sb+'<input type="radio" name="bdc" value="tobdc" '+(t.tobdc?"checked":"")+">"+n.tobdc+'</td><td nowrap align="right"><button >'+n.run+"</button></td></tr></table></div></div>"},_UIBase_render:t.prototype.render},e.inherits(n,t)}(),function(){function e(e){for(var n,i={},r=e.getDom(),o=e.editor.uid,a=null,s=null,l=domUtils.getElementsByTagName(r,"input"),c=l.length-1;n=l[c--];)if(a=n.getAttribute("type"),"checkbox"==a)if(s=n.getAttribute("name"),i[s]&&delete i[s],n.checked){var u=document.getElementById(s+"Value"+o);if(u){if(/input/gi.test(u.tagName))i[s]=u.value;else for(var d,f=u.getElementsByTagName("input"),h=f.length-1;d=f[h--];)if(d.checked){i[s]=d.value;break}}else i[s]=!0}else i[s]=!1;else i[n.getAttribute("value")]=n.checked;for(var p,m=domUtils.getElementsByTagName(r,"select"),c=0;p=m[c++];){var g=p.getAttribute("name");i[g]=i[g]?p.value:""}t.extend(e.editor.options.autotypeset,i),e.editor.setPreferences("autotypeset",i)}var t=baidu.editor.utils,n=baidu.editor.ui.Popup,i=baidu.editor.ui.AutoTypeSetPicker,r=baidu.editor.ui.SplitButton,o=baidu.editor.ui.AutoTypeSetButton=function(e){this.initOptions(e),this.initAutoTypeSetButton()};o.prototype={initAutoTypeSetButton:function(){var t=this;this.popup=new n({content:new i({editor:t.editor}),editor:t.editor,hide:function(){!this._hidden&&this.getDom()&&(e(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var r=0;this.popup.addListener("postRenderAfter",function(){var n=this;if(!r){var i=this.getDom(),o=i.getElementsByTagName("button")[0];o.onclick=function(){e(n),t.editor.execCommand("autotypeset"),n.hide()},domUtils.on(i,"click",function(i){var r=i.target||i.srcElement,o=t.editor.uid;if(r&&"INPUT"==r.tagName){if("imageBlockLine"==r.name||"textAlign"==r.name||"symbolConver"==r.name)for(var a=r.checked,s=document.getElementById(r.name+"Value"+o),l=s.getElementsByTagName("input"),c={imageBlockLine:"none",textAlign:"left",symbolConver:"tobdc"},u=0;u<l.length;u++)a?l[u].value==c[r.name]&&(l[u].checked="checked"):l[u].checked=!1;if(r.name=="imageBlockLineValue"+o||r.name=="textAlignValue"+o||"bdc"==r.name){var d=r.parentNode.previousSibling.getElementsByTagName("input");d&&(d[0].checked=!0)}e(n)}}),r=1}}),this.initSplitButton()}},t.inherits(o,r)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,n=baidu.editor.ui.Stateful,i=baidu.editor.ui.UIBase,r=baidu.editor.ui.CellAlignPicker=function(e){this.initOptions(e),this.initSelected(),this.initCellAlignPicker()};r.prototype={initSelected:function(){var e={valign:{top:0,middle:1,bottom:2},align:{left:0,center:1,right:2},count:3};this.selected&&(this.selectedIndex=e.valign[this.selected.valign]*e.count+e.align[this.selected.align])},initCellAlignPicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){for(var e=["left","center","right"],t=9,n=null,i=-1,r=[],o=0;t>o;o++)n=this.selectedIndex===o?' class="edui-cellalign-selected" ':"",i=o%3,0===i&&r.push("<tr>"),r.push('<td index="'+o+'" '+n+' stateful><div class="edui-icon edui-'+e[i]+'"></div></td>'),2===i&&r.push("</tr>");return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+r.join("")+"</table></div></div>"},getStateDom:function(){return this.target},_onClick:function(e){var n=e.target||e.srcElement;/icon/.test(n.className)&&(this.items[n.parentNode.getAttribute("index")].onclick(),t.postHide(e))},_UIBase_render:i.prototype.render},e.inherits(r,i),e.extend(r.prototype,n,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Stateful,n=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,r=baidu.editor.ui.PastePicker=function(e){this.initOptions(e),this.initPastePicker()};r.prototype={initPastePicker:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-title">'+this.editor.getLang("pasteOpt")+'</div><div class="edui-button"><div title="'+this.editor.getLang("pasteSourceFormat")+'" onclick="$$.format(false)" stateful><div class="edui-richtxticon"></div></div><div title="'+this.editor.getLang("tagFormat")+'" onclick="$$.format(2)" stateful><div class="edui-tagicon"></div></div><div title="'+this.editor.getLang("pasteTextFormat")+'" onclick="$$.format(true)" stateful><div class="edui-plaintxticon"></div></div></div></div></div>'},getStateDom:function(){return this.target},format:function(e){this.editor.ui._isTransfer=!0,this.editor.fireEvent("pasteTransfer",e)},_onClick:function(e){var t=domUtils.getNextDomNode(e),i=n.getViewportRect().height,r=n.getClientRect(t);r.top+r.height>i?t.style.top=-r.height-e.offsetHeight+"px":t.style.top="",/hidden/gi.test(domUtils.getComputedStyle(t,"visibility"))?(t.style.visibility="visible",domUtils.addClass(e,"edui-state-opened")):(t.style.visibility="hidden",domUtils.removeClasses(e,"edui-state-opened"))},_UIBase_render:i.prototype.render},e.inherits(r,i),e.extend(r.prototype,t,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.Toolbar=function(e){this.initOptions(e),this.initToolbar()};i.prototype={items:null,initToolbar:function(){this.items=this.items||[],this.initUIBase()},add:function(e,t){void 0===t?this.items.push(e):this.items.splice(t,0,e)},getHtmlTpl:function(){for(var e=[],t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+e.join("")+"</div>"},postRender:function(){for(var e=this.getDom(),n=0;n<this.items.length;n++)this.items[n].postRender();t.makeUnselectable(e)},_onMouseDown:function(e){var t=e.target||e.srcElement,n=t&&t.tagName&&t.tagName.toLowerCase();return"input"!=n&&"object"!=n&&"object"!=n&&void 0}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,r=baidu.editor.ui.Popup,o=baidu.editor.ui.Stateful,a=baidu.editor.ui.CellAlignPicker,s=baidu.editor.ui.Menu=function(e){this.initOptions(e),this.initMenu()},l={renderHtml:function(){
return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},postRender:function(){},queryAutoHide:function(){return!0}};s.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[],this.initPopup(),this.initItems()},initItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];"-"==t?this.items[e]=this.getSeparator():t instanceof c||(t.editor=this.editor,t.theme=this.editor.options.theme,this.items[e]=this.createItem(t))}},getSeparator:function(){return l},createItem:function(e){return e.menu=this,new c(e)},_Popup_getContentHtmlTpl:r.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){if(0==this.items.length)return this._Popup_getContentHtmlTpl();for(var e=[],t=0;t<this.items.length;t++){var n=this.items[t];e[t]=n.renderHtml()}return'<div class="%%-body">'+e.join("")+"</div>"},_Popup_postRender:r.prototype.postRender,postRender:function(){for(var e=this,i=0;i<this.items.length;i++){var r=this.items[i];r.ownerMenu=this,r.postRender()}t.on(this.getDom(),"mouseover",function(t){t=t||event;var i=t.relatedTarget||t.fromElement,r=e.getDom();n.contains(r,i)||r===i||e.fireEvent("over")}),this._Popup_postRender()},queryAutoHide:function(e){if(e){if(n.contains(this.getDom(),e))return!1;for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.queryAutoHide(e)===!1)return!1}}},clearItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];clearTimeout(t._showingTimer),clearTimeout(t._closingTimer),t.subMenu&&t.subMenu.destroy()}this.items=[]},destroy:function(){this.getDom()&&t.remove(this.getDom()),this.clearItems()},dispose:function(){this.destroy()}},e.inherits(s,r);var c=baidu.editor.ui.MenuItem=function(e){if(this.initOptions(e),this.initUIBase(),this.Stateful_init(),this.subMenu&&!(this.subMenu instanceof s))if(e.className&&-1!=e.className.indexOf("aligntd")){var n=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment"),this.subMenu=new r({content:new a(this.subMenu),parentMenu:n,editor:n.editor,destroy:function(){this.getDom()&&t.remove(this.getDom())}}),this.subMenu.addListener("postRenderAfter",function(){t.on(this.getDom(),"mouseover",function(){n.addState("opened")})})}else this.subMenu=new s(this.subMenu)};c.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function(){var e=this;this.addListener("over",function(){e.ownerMenu.fireEvent("submenuover",e),e.subMenu&&e.delayShowSubMenu()}),this.subMenu&&(this.getDom().className+=" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){e.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(e._closingTimer),e._closingTimer=null,e.addState("opened")}),this.ownerMenu.addListener("hide",function(){e.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(t,n){n!==e&&e.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(t){return(!t||!n.contains(e.getDom(),t))&&this._bakQueryAutoHide(t)}),this.getDom().style.tabIndex="-1",n.makeUnselectable(this.getDom()),this.Stateful_postRender()},delayShowSubMenu:function(){var e=this;e.isDisabled()||(e.addState("opened"),clearTimeout(e._showingTimer),clearTimeout(e._closingTimer),e._closingTimer=null,e._showingTimer=setTimeout(function(){e.showSubMenu()},250))},delayHideSubMenu:function(){var e=this;e.isDisabled()||(e.removeState("opened"),clearTimeout(e._showingTimer),e._closingTimer||(e._closingTimer=setTimeout(function(){e.hasState("opened")||e.hideSubMenu(),e._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(e){return this.subMenu&&this.hasState("opened")?this.subMenu.queryAutoHide(e):void 0},_onClick:function(e,t){this.hasState("disabled")||this.fireEvent("click",e,t)!==!1&&(this.subMenu?this.showSubMenu():r.postHide(e))},showSubMenu:function(){var e=n.getClientRect(this.getDom());e.right-=5,e.left+=2,e.width-=7,e.top-=4,e.bottom+=4,e.height+=8,this.subMenu.showAnchorRect(e,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}},e.inherits(c,i),e.extend(c.prototype,o,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,n=baidu.editor.ui.Menu,i=baidu.editor.ui.SplitButton,r=baidu.editor.ui.Combox=function(e){this.initOptions(e),this.initCombox()};r.prototype={uiName:"combox",onbuttonclick:function(){this.showPopup()},initCombox:function(){var e=this;this.items=this.items||[];for(var t=0;t<this.items.length;t++){var i=this.items[t];i.uiName="listitem",i.index=t,i.onclick=function(){e.selectByIndex(this.index)}}this.popup=new n({items:this.items,uiName:"list",editor:this.editor,captureWheel:!0,combox:this}),this.initSplitButton()},_SplitButton_postRender:i.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.setLabel(this.label||""),this.setValue(this.initValue||"")},showPopup:function(){var e=t.getClientRect(this.getDom());e.top+=1,e.bottom-=1,e.height-=2,this.popup.showAnchorRect(e)},getValue:function(){return this.value},setValue:function(e){var t=this.indexByValue(e);-1!=t?(this.selectedIndex=t,this.setLabel(this.items[t].label),this.value=this.items[t].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(e)),this.value=e)},setLabel:function(e){this.getDom("button_body").innerHTML=e,this.label=e},getLabelForUnknowValue:function(e){return e},indexByValue:function(e){for(var t=0;t<this.items.length;t++)if(e==this.items[t].value)return t;return-1},getItem:function(e){return this.items[e]},selectByIndex:function(e){e<this.items.length&&this.fireEvent("select",e)!==!1&&(this.selectedIndex=e,this.value=this.items[e].value,this.setLabel(this.items[e].label))}},e.inherits(r,i)}(),function(){var e,t,n,i=baidu.editor.utils,r=baidu.editor.dom.domUtils,o=baidu.editor.ui.uiUtils,a=baidu.editor.ui.Mask,s=baidu.editor.ui.UIBase,l=baidu.editor.ui.Button,c=baidu.editor.ui.Dialog=function(e){if(e.name){var t=e.name,n=e.cssRules;e.className||(e.className="edui-for-"+t),n&&(e.cssRules=".edui-default .edui-for-"+t+" .edui-dialog-content  {"+n+"}")}this.initOptions(i.extend({autoReset:!0,draggable:!0,onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()},holdScroll:!1},e)),this.initDialog()};c.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var r=this,o=this.editor.options.theme;if(this.cssRules&&i.cssRule("edui-customize-"+this.name+"-style",this.cssRules),this.initUIBase(),this.modalMask=e||(e=new a({className:"edui-dialog-modalmask",theme:o,onclick:function(){n&&n.close(!1)}})),this.dragMask=t||(t=new a({className:"edui-dialog-dragmask",theme:o})),this.closeButton=new l({className:"edui-dialog-closebutton",title:r.closeDialog,theme:o,onclick:function(){r.close(!1)}}),this.fullscreen&&this.initResizeEvent(),this.buttons)for(var s=0;s<this.buttons.length;s++)this.buttons[s]instanceof l||(this.buttons[s]=new l(i.extend(this.buttons[s],{editor:this.editor},!0)))},initResizeEvent:function(){var e=this;r.on(window,"resize",function(){e._hidden||void 0===e._hidden||(e.__resizeTimer&&window.clearTimeout(e.__resizeTimer),e.__resizeTimer=window.setTimeout(function(){e.__resizeTimer=null;var t=e.getDom(),n=e.getDom("content"),i=UE.ui.uiUtils.getClientRect(t),r=UE.ui.uiUtils.getClientRect(n),a=o.getViewportRect();n.style.width=a.width-i.width+r.width+"px",n.style.height=a.height-i.height+r.height+"px",t.style.width=a.width+"px",t.style.height=a.height+"px",e.fireEvent("resize")},100))})},fitSize:function(){var e=this.getDom("body"),t=this.mesureSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",t},safeSetOffset:function(e){var t=this,n=t.getDom(),i=o.getViewportRect(),r=o.getClientRect(n),a=e.left;a+r.width>i.right&&(a=i.right-r.width);var s=e.top;s+r.height>i.bottom&&(s=i.bottom-r.height),n.style.left=Math.max(a,0)+"px",n.style.top=Math.max(s,0)+"px"},showAtCenter:function(){var e=o.getViewportRect();if(this.fullscreen){var t=this.getDom(),n=this.getDom("content");t.style.display="block";var i=UE.ui.uiUtils.getClientRect(t),a=UE.ui.uiUtils.getClientRect(n);t.style.left="-100000px",n.style.width=e.width-i.width+a.width+"px",n.style.height=e.height-i.height+a.height+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.left=0,this._originalContext={html:{overflowX:document.documentElement.style.overflowX,overflowY:document.documentElement.style.overflowY},body:{overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY}},document.documentElement.style.overflowX="hidden",document.documentElement.style.overflowY="hidden",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"}else{this.getDom().style.display="";var s=this.fitSize(),l=0|this.getDom("titlebar").offsetHeight,c=e.width/2-s.width/2,u=e.height/2-(s.height-l)/2-l,d=this.getDom();this.safeSetOffset({left:Math.max(0|c,0),top:Math.max(0|u,0)}),r.hasClass(d,"edui-state-centered")||(d.className+=" edui-state-centered")}this._show()},getContentHtml:function(){var e="";return"string"==typeof this.content?e=this.content:this.iframeUrl&&(e='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'),e},getHtmlTpl:function(){var e="";if(this.buttons){for(var t=[],n=0;n<this.buttons.length;n++)t[n]=this.buttons[n].renderHtml();e='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+t.join("")+"</div></div>"}return'<div id="##" class="%%"><div '+(this.fullscreen?'class="%%-wrap edui-dialog-fullscreen-flag"':'class="%%"')+'><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+e+"</div></div></div>"},postRender:function(){this.modalMask.getDom()||(this.modalMask.render(),this.modalMask.hide()),this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide());var e=this;if(this.addListener("show",function(){e.modalMask.show(this.getDom().style.zIndex-2)}),this.addListener("hide",function(){e.modalMask.hide()}),this.buttons)for(var t=0;t<this.buttons.length;t++)this.buttons[t].postRender();r.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e.safeSetOffset(o.getClientRect(e.getDom()))})}),this._hide()},mesureSize:function(){var e=this.getDom("body"),t=o.getClientRect(this.getDom("content")).width,n=e.style;return n.width=t,o.getClientRect(e)},_onTitlebarMouseDown:function(e,t){if(this.draggable){var n,i=(o.getViewportRect(),this);o.startDrag(e,{ondragstart:function(){n=o.getClientRect(i.getDom()),i.getDom("contmask").style.visibility="visible",i.dragMask.show(i.getDom().style.zIndex-1)},ondragmove:function(e,t){var r=n.left+e,o=n.top+t;i.safeSetOffset({left:r,top:o})},ondragstop:function(){i.getDom("contmask").style.visibility="hidden",r.removeClasses(i.getDom(),["edui-state-centered"]),i.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml(),this.fireEvent("dialogafterreset")},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*this.editor.container.style.zIndex+10),this._hidden=!1,this.fireEvent("show"),baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},_hide:function(){if(!this._hidden){var e=this.getDom();e.style.display="none",e.style.zIndex="",e.style.width="",e.style.height="",this._hidden=!0,this.fireEvent("hide")}},open:function(){if(this.autoReset)try{this.reset()}catch(e){this.render(),this.open()}if(this.showAtCenter(),this.iframeUrl)try{this.getDom("iframe").focus()}catch(t){}n=this},_onCloseButtonClick:function(e,t){this.close(!1)},close:function(e){if(this.fireEvent("close",e)!==!1){this.fullscreen&&(document.documentElement.style.overflowX=this._originalContext.html.overflowX,document.documentElement.style.overflowY=this._originalContext.html.overflowY,document.body.style.overflowX=this._originalContext.body.overflowX,document.body.style.overflowY=this._originalContext.body.overflowY,delete this._originalContext),this._hide();var t=this.getDom("content"),n=this.getDom("iframe");if(t&&n){var i=n.contentDocument||n.contentWindow.document;i&&(i.body.innerHTML=""),r.remove(t)}}}},i.inherits(c,s)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Menu,n=baidu.editor.ui.SplitButton,i=baidu.editor.ui.MenuButton=function(e){this.initOptions(e),this.initMenuButton()};i.prototype={initMenuButton:function(){var e=this;this.uiName="menubutton",this.popup=new t({items:e.items,className:e.className,editor:e.editor}),this.popup.addListener("show",function(){for(var t=this,n=0;n<t.items.length;n++)t.items[n].removeState("checked"),t.items[n].value==e._value&&(t.items[n].addState("checked"),this.value=e._value)}),this.initSplitButton()},setValue:function(e){this._value=e}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Popup,n=baidu.editor.ui.SplitButton,i=baidu.editor.ui.MultiMenuPop=function(e){this.initOptions(e),this.initMultiMenu()};i.prototype={initMultiMenu:function(){var e=this;this.popup=new t({content:"",editor:e.editor,iframe_rendered:!1,onshow:function(){this.iframe_rendered||(this.iframe_rendered=!0,this.getDom("content").innerHTML='<iframe id="'+e.id+'_iframe" src="'+e.iframeUrl+'" frameborder="0"></iframe>',e.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*e.editor.container.style.zIndex+1))}}),this.onbuttonclick=function(){this.showPopup()},this.initSplitButton()}},e.inherits(i,n)}(),function(){function e(e){var t=e.target||e.srcElement,n=a.findParent(t,function(e){return a.hasClass(e,"edui-shortcutmenu")||a.hasClass(e,"edui-popup")},!0);if(!n)for(var i,r=0;i=s[r++];)i.hide()}var t,n=baidu.editor.ui,i=n.UIBase,r=n.uiUtils,o=baidu.editor.utils,a=baidu.editor.dom.domUtils,s=[],l=!1,c=n.ShortCutMenu=function(e){this.initOptions(e),this.initShortCutMenu()};c.postHide=e,c.prototype={isHidden:!0,SPACE:5,initShortCutMenu:function(){this.items=this.items||[],this.initUIBase(),this.initItems(),this.initEvent(),s.push(this)},initEvent:function(){var e=this,n=e.editor.document;a.on(n,"mousemove",function(n){if(e.isHidden===!1){if(e.getSubMenuMark()||"contextmenu"==e.eventType)return;var i=!0,r=e.getDom(),o=r.offsetWidth,a=r.offsetHeight,s=o/2+e.SPACE,l=a/2,c=Math.abs(n.screenX-e.left),u=Math.abs(n.screenY-e.top);clearTimeout(t),t=setTimeout(function(){u>0&&l>u?e.setOpacity(r,"1"):u>l&&l+70>u?(e.setOpacity(r,"0.5"),i=!1):u>l+70&&l+140>u&&e.hide(),i&&c>0&&s>c?e.setOpacity(r,"1"):c>s&&s+70>c?e.setOpacity(r,"0.5"):c>s+70&&s+140>c&&e.hide()})}}),browser.chrome&&a.on(n,"mouseout",function(t){var n=t.relatedTarget||t.toElement;null!=n&&"HTML"!=n.tagName||e.hide()}),e.editor.addListener("afterhidepop",function(){e.isHidden||(l=!0)})},initItems:function(){if(o.isArray(this.items))for(var e=0,t=this.items.length;t>e;e++){var i=this.items[e].toLowerCase();n[i]&&(this.items[e]=new n[i](this.editor),this.items[e].className+=" edui-shortcutsubmenu ")}},setOpacity:function(e,t){browser.ie&&browser.version<9?e.style.filter="alpha(opacity = "+100*parseFloat(t)+");":e.style.opacity=t},getSubMenuMark:function(){l=!1;for(var e,t=r.getFixedLayer(),n=a.getElementsByTagName(t,"div",function(e){return a.hasClass(e,"edui-shortcutsubmenu edui-popup")}),i=0;e=n[i++];)"none"!=e.style.display&&(l=!0);return l},show:function(e,t){function n(e){e.left<0&&(e.left=0),e.top<0&&(e.top=0),l.style.cssText="position:absolute;left:"+e.left+"px;top:"+e.top+"px;"}function i(e){e.tagName||(e=e.getDom()),s.left=parseInt(e.style.left),s.top=parseInt(e.style.top),s.top-=l.offsetHeight+15,n(s)}var o=this,s={},l=this.getDom(),c=r.getFixedLayer();if(o.eventType=e.type,l.style.cssText="display:block;left:-9999px","contextmenu"==e.type&&t){var u=a.getElementsByTagName(c,"div","edui-contextmenu")[0];u?i(u):o.editor.addListener("aftershowcontextmenu",function(e,t){i(t)})}else s=r.getViewportOffsetByEvent(e),s.top-=l.offsetHeight+o.SPACE,s.left+=o.SPACE+20,n(s),o.setOpacity(l,.2);o.isHidden=!1,o.left=e.screenX+l.offsetWidth/2-o.SPACE,o.top=e.screenY-l.offsetHeight/2-o.SPACE,o.editor&&(l.style.zIndex=1*o.editor.container.style.zIndex+10,c.style.zIndex=l.style.zIndex-1)},hide:function(){this.getDom()&&(this.getDom().style.display="none"),this.isHidden=!0},postRender:function(){if(o.isArray(this.items))for(var e,t=0;e=this.items[t++];)e.postRender()},getHtmlTpl:function(){var e;if(o.isArray(this.items)){e=[];for(var t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();e=e.join("")}else e=this.items;return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+e+"</div>"}},o.inherits(c,i),a.on(document,"mousedown",function(t){e(t)}),a.on(window,"scroll",function(t){e(t)})}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,n=baidu.editor.ui.Breakline=function(e){this.initOptions(e),this.initSeparator()};n.prototype={uiName:"Breakline",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return"<br/>"}},e.inherits(n,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,n=baidu.editor.ui.UIBase,i=baidu.editor.ui.Message=function(e){this.initOptions(e),this.initMessage()};i.prototype={initMessage:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-message %%"> <div id="##_closer" class="edui-message-closer">×</div> <div id="##_body" class="edui-message-body edui-message-type-info"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="about:blank"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-message-content">  </div> </div></div>'},reset:function(e){var t=this;e.keepshow||(clearTimeout(this.timer),t.timer=setTimeout(function(){t.hide()},e.timeout||4e3)),void 0!==e.content&&t.setContent(e.content),void 0!==e.type&&t.setType(e.type),t.show()},postRender:function(){var e=this,n=this.getDom("closer");n&&t.on(n,"click",function(){e.hide()})},setContent:function(e){this.getDom("content").innerHTML=e},setType:function(e){e=e||"info";var t=this.getDom("body");t.className=t.className.replace(/edui-message-type-[\w-]+/,"edui-message-type-"+e)},getContent:function(){return this.getDom("content").innerHTML},getType:function(){var e=this.getDom("body").match(/edui-message-type-([\w-]+)/);return e?e[1]:""},show:function(){this.getDom().style.display="block"},hide:function(){var e=this.getDom();e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e))}},e.inherits(i,n)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui,n=t.Dialog;t.buttons={},t.Dialog=function(e){var t=new n(e);return t.addListener("hide",function(){if(t.editor){var e=t.editor;try{if(browser.gecko){var n=e.window.scrollY,i=e.window.scrollX;e.body.focus(),e.window.scrollTo(i,n)}else e.focus()}catch(r){}}}),t};for(var i,r={anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",preview:"~/dialogs/preview/preview.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittip:"~/dialogs/table/edittip.html",edittable:"~/dialogs/table/edittable.html",edittd:"~/dialogs/table/edittd.html",webapp:"~/dialogs/webapp/webapp.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html",scrawl:"~/dialogs/scrawl/scrawl.html",music:"~/dialogs/music/music.html",template:"~/dialogs/template/template.html",background:"~/dialogs/background/background.html",charts:"~/dialogs/charts/charts.html"},o=["undo","redo","formatmatch","bold","italic","underline","fontborder","touppercase","tolowercase","strikethrough","subscript","superscript","source","indent","outdent","blockquote","pasteplain","pagebreak","selectall","print","horizontal","removeformat","time","date","unlink","insertparagraphbeforetable","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable","drafts"],a=0;i=o[a++];)i=i.toLowerCase(),t[i]=function(e){return function(n){var i=new t.Button({className:"edui-for-"+e,title:n.options.labelMap[e]||n.getLang("labelMap."+e)||"",onclick:function(){n.execCommand(e)},theme:n.options.theme,showText:!1});return t.buttons[e]=i,n.addListener("selectionchange",function(t,r,o){var a=n.queryCommandState(e);-1==a?(i.setDisabled(!0),i.setChecked(!1)):o||(i.setDisabled(!1),i.setChecked(a))}),i}}(i);t.cleardoc=function(e){var n=new t.Button({className:"edui-for-cleardoc",title:e.options.labelMap.cleardoc||e.getLang("labelMap.cleardoc")||"",theme:e.options.theme,onclick:function(){confirm(e.getLang("confirmClear"))&&e.execCommand("cleardoc")}});return t.buttons.cleardoc=n,e.addListener("selectionchange",function(){n.setDisabled(-1==e.queryCommandState("cleardoc"))}),n};var s={justify:["left","right","center","justify"],imagefloat:["none","left","center","right"],directionality:["ltr","rtl"]};for(var l in s)!function(e,n){for(var i,r=0;i=n[r++];)!function(n){t[e.replace("float","")+n]=function(i){var r=new t.Button({className:"edui-for-"+e.replace("float","")+n,title:i.options.labelMap[e.replace("float","")+n]||i.getLang("labelMap."+e.replace("float","")+n)||"",theme:i.options.theme,onclick:function(){i.execCommand(e,n)}});return t.buttons[e]=r,i.addListener("selectionchange",function(t,o,a){r.setDisabled(-1==i.queryCommandState(e)),r.setChecked(i.queryCommandValue(e)==n&&!a)}),r}}(i)}(l,s[l]);for(var i,a=0;i=["backcolor","forecolor"][a++];)t[i]=function(e){return function(n){var i=new t.ColorButton({className:"edui-for-"+e,color:"default",title:n.options.labelMap[e]||n.getLang("labelMap."+e)||"",editor:n,onpickcolor:function(t,i){n.execCommand(e,i)},onpicknocolor:function(){n.execCommand(e,"default"),this.setColor("transparent"),this.color="default"},onbuttonclick:function(){n.execCommand(e,this.color)}});return t.buttons[e]=i,n.addListener("selectionchange",function(){i.setDisabled(-1==n.queryCommandState(e))}),i}}(i);var c={noOk:["searchreplace","help","spechars","webapp","preview"],ok:["attachment","anchor","link","insertimage","map","gmap","insertframe","wordimage","insertvideo","insertframe","edittip","edittable","edittd","scrawl","template","music","background","charts"]};for(var l in c)!function(n,i){for(var o,a=0;o=i[a++];)browser.opera&&"searchreplace"===o||!function(i){t[i]=function(o,a,s){a=a||(o.options.iframeUrlMap||{})[i]||r[i],s=o.options.labelMap[i]||o.getLang("labelMap."+i)||"";var l;a&&(l=new t.Dialog(e.extend({iframeUrl:o.ui.mapUrl(a),editor:o,className:"edui-for-"+i,title:s,holdScroll:"insertimage"===i,fullscreen:/charts|preview/.test(i),closeDialog:o.getLang("closeDialog")},"ok"==n?{buttons:[{className:"edui-okbutton",label:o.getLang("ok"),editor:o,onclick:function(){l.close(!0)}},{className:"edui-cancelbutton",label:o.getLang("cancel"),editor:o,onclick:function(){l.close(!1)}}]}:{})),o.ui._dialogs[i+"Dialog"]=l);var c=new t.Button({className:"edui-for-"+i,title:s,onclick:function(){if(l)switch(i){case"wordimage":var e=o.execCommand("wordimage");e&&e.length&&(l.render(),l.open());break;case"scrawl":-1!=o.queryCommandState("scrawl")&&(l.render(),l.open());break;default:l.render(),l.open()}},theme:o.options.theme,disabled:"scrawl"==i&&-1==o.queryCommandState("scrawl")||"charts"==i});return t.buttons[i]=c,o.addListener("selectionchange",function(){var e={edittable:1};if(!(i in e)){var t=o.queryCommandState(i);c.getDom()&&(c.setDisabled(-1==t),c.setChecked(t))}}),c}}(o.toLowerCase())}(l,c[l]);t.snapscreen=function(e,n,i){i=e.options.labelMap.snapscreen||e.getLang("labelMap.snapscreen")||"";var o=new t.Button({className:"edui-for-snapscreen",title:i,onclick:function(){e.execCommand("snapscreen")},theme:e.options.theme});if(t.buttons.snapscreen=o,n=n||(e.options.iframeUrlMap||{}).snapscreen||r.snapscreen){var a=new t.Dialog({iframeUrl:e.ui.mapUrl(n),editor:e,className:"edui-for-snapscreen",title:i,buttons:[{className:"edui-okbutton",label:e.getLang("ok"),editor:e,onclick:function(){a.close(!0)}},{className:"edui-cancelbutton",label:e.getLang("cancel"),editor:e,onclick:function(){a.close(!1)}}]});a.render(),e.ui._dialogs.snapscreenDialog=a}return e.addListener("selectionchange",function(){o.setDisabled(-1==e.queryCommandState("snapscreen"))}),o},t.insertcode=function(n,i,r){i=n.options.insertcode||[],r=n.options.labelMap.insertcode||n.getLang("labelMap.insertcode")||"";var o=[];e.each(i,function(e,t){o.push({label:e,value:t,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" >'+(this.label||"")+"</div>"}})});var a=new t.Combox({editor:n,items:o,onselect:function(e,t){n.execCommand("insertcode",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:r,initValue:r,className:"edui-for-insertcode",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}});return t.buttons.insertcode=a,n.addListener("selectionchange",function(e,t,i){if(!i){var o=n.queryCommandState("insertcode");if(-1==o)a.setDisabled(!0);else{a.setDisabled(!1);var s=n.queryCommandValue("insertcode");if(!s)return void a.setValue(r);s&&(s=s.replace(/['"]/g,"").split(",")[0]),a.setValue(s)}}}),a},t.fontfamily=function(n,i,r){if(i=n.options.fontfamily||[],r=n.options.labelMap.fontfamily||n.getLang("labelMap.fontfamily")||"",i.length){for(var o,a=0,s=[];o=i[a];a++){var l=n.getLang("fontfamily")[o.name]||"";!function(t,i){s.push({label:t,value:i,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+e.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})}(o.label||l,o.val)}var c=new t.Combox({editor:n,items:s,onselect:function(e,t){n.execCommand("FontFamily",this.items[t].value)},onbuttonclick:function(){this.showPopup()},title:r,initValue:r,className:"edui-for-fontfamily",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}});return t.buttons.fontfamily=c,n.addListener("selectionchange",function(e,t,i){if(!i){var r=n.queryCommandState("FontFamily");if(-1==r)c.setDisabled(!0);else{c.setDisabled(!1);var o=n.queryCommandValue("FontFamily");o&&(o=o.replace(/['"]/g,"").split(",")[0]),c.setValue(o)}}}),c}},t.fontsize=function(e,n,i){if(i=e.options.labelMap.fontsize||e.getLang("labelMap.fontsize")||"",n=n||e.options.fontsize||[],n.length){for(var r=[],o=0;o<n.length;o++){var a=n[o]+"px";r.push({label:a,value:a,theme:e.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var s=new t.Combox({editor:e,items:r,title:i,initValue:i,onselect:function(t,n){e.execCommand("FontSize",this.items[n].value)},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"});return t.buttons.fontsize=s,e.addListener("selectionchange",function(t,n,i){if(!i){var r=e.queryCommandState("FontSize");-1==r?s.setDisabled(!0):(s.setDisabled(!1),s.setValue(e.queryCommandValue("FontSize")))}}),s}},t.paragraph=function(n,i,r){if(r=n.options.labelMap.paragraph||n.getLang("labelMap.paragraph")||"",i=n.options.paragraph||[],!e.isEmptyObject(i)){var o=[];for(var a in i)o.push({value:a,label:i[a]||n.getLang("paragraph")[a],theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}});var s=new t.Combox({editor:n,items:o,title:r,initValue:r,className:"edui-for-paragraph",onselect:function(e,t){n.execCommand("Paragraph",this.items[t].value)},onbuttonclick:function(){this.showPopup()}});return t.buttons.paragraph=s,n.addListener("selectionchange",function(e,t,i){if(!i){var r=n.queryCommandState("Paragraph");if(-1==r)s.setDisabled(!0);else{s.setDisabled(!1);var o=n.queryCommandValue("Paragraph"),a=s.indexByValue(o);-1!=a?s.setValue(o):s.setValue(s.initValue)}}}),s}},t.customstyle=function(e){var n=e.options.customstyle||[],i=e.options.labelMap.customstyle||e.getLang("labelMap.customstyle")||"";if(n.length){for(var r,o=e.getLang("customstyle"),a=0,s=[];r=n[a++];)!function(t){var n={};n.label=t.label?t.label:o[t.name],n.style=t.style,n.className=t.className,n.tag=t.tag,s.push({label:n.label,value:n,theme:e.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label"><'+n.tag+" "+(n.className?' class="'+n.className+'"':"")+(n.style?' style="'+n.style+'"':"")+">"+n.label+"</"+n.tag+"></div>"}})}(r);var l=new t.Combox({editor:e,items:s,title:i,initValue:i,className:"edui-for-customstyle",onselect:function(t,n){e.execCommand("customstyle",this.items[n].value)},onbuttonclick:function(){this.showPopup()},indexByValue:function(e){for(var t,n=0;t=this.items[n++];)if(t.label==e)return n-1;return-1}});return t.buttons.customstyle=l,e.addListener("selectionchange",function(t,n,i){if(!i){var r=e.queryCommandState("customstyle");if(-1==r)l.setDisabled(!0);else{l.setDisabled(!1);var o=e.queryCommandValue("customstyle"),a=l.indexByValue(o);-1!=a?l.setValue(o):l.setValue(l.initValue)}}}),l}},t.inserttable=function(e,n,i){i=e.options.labelMap.inserttable||e.getLang("labelMap.inserttable")||"";var r=new t.TableButton({editor:e,title:i,className:"edui-for-inserttable",onpicktable:function(t,n,i){e.execCommand("InsertTable",{numRows:i,numCols:n,border:1})},onbuttonclick:function(){this.showPopup()}});return t.buttons.inserttable=r,e.addListener("selectionchange",function(){r.setDisabled(-1==e.queryCommandState("inserttable"))}),r},t.lineheight=function(e){var n=e.options.lineheight||[];if(n.length){for(var i,r=0,o=[];i=n[r++];)o.push({label:i,value:i,theme:e.options.theme,onclick:function(){e.execCommand("lineheight",this.value)}});var a=new t.MenuButton({editor:e,className:"edui-for-lineheight",title:e.options.labelMap.lineheight||e.getLang("labelMap.lineheight")||"",items:o,onbuttonclick:function(){var t=e.queryCommandValue("LineHeight")||this.value;e.execCommand("LineHeight",t)}});return t.buttons.lineheight=a,e.addListener("selectionchange",function(){var t=e.queryCommandState("LineHeight");if(-1==t)a.setDisabled(!0);else{a.setDisabled(!1);var n=e.queryCommandValue("LineHeight");n&&a.setValue((n+"").replace(/cm/,"")),a.setChecked(t)}}),a}};for(var u,d=["top","bottom"],f=0;u=d[f++];)!function(e){t["rowspacing"+e]=function(n){var i=n.options["rowspacing"+e]||[];if(!i.length)return null;for(var r,o=0,a=[];r=i[o++];)a.push({label:r,value:r,theme:n.options.theme,onclick:function(){n.execCommand("rowspacing",this.value,e)}});var s=new t.MenuButton({editor:n,className:"edui-for-rowspacing"+e,title:n.options.labelMap["rowspacing"+e]||n.getLang("labelMap.rowspacing"+e)||"",items:a,onbuttonclick:function(){var t=n.queryCommandValue("rowspacing",e)||this.value;n.execCommand("rowspacing",t,e)}});return t.buttons[e]=s,n.addListener("selectionchange",function(){var t=n.queryCommandState("rowspacing",e);if(-1==t)s.setDisabled(!0);else{s.setDisabled(!1);var i=n.queryCommandValue("rowspacing",e);
i&&s.setValue((i+"").replace(/%/,"")),s.setChecked(t)}}),s}}(u);for(var h,p=["insertorderedlist","insertunorderedlist"],m=0;h=p[m++];)!function(e){t[e]=function(n){var i=n.options[e],r=function(){n.execCommand(e,this.value)},o=[];for(var a in i)o.push({label:i[a]||n.getLang()[e][a]||"",value:a,theme:n.options.theme,onclick:r});var s=new t.MenuButton({editor:n,className:"edui-for-"+e,title:n.getLang("labelMap."+e)||"",items:o,onbuttonclick:function(){var t=n.queryCommandValue(e)||this.value;n.execCommand(e,t)}});return t.buttons[e]=s,n.addListener("selectionchange",function(){var t=n.queryCommandState(e);if(-1==t)s.setDisabled(!0);else{s.setDisabled(!1);var i=n.queryCommandValue(e);s.setValue(i),s.setChecked(t)}}),s}}(h);t.fullscreen=function(e,n){n=e.options.labelMap.fullscreen||e.getLang("labelMap.fullscreen")||"";var i=new t.Button({className:"edui-for-fullscreen",title:n,theme:e.options.theme,onclick:function(){e.ui&&e.ui.setFullScreen(!e.ui.isFullScreen()),this.setChecked(e.ui.isFullScreen())}});return t.buttons.fullscreen=i,e.addListener("selectionchange",function(){var t=e.queryCommandState("fullscreen");i.setDisabled(-1==t),i.setChecked(e.ui.isFullScreen())}),i},t.emotion=function(e,n){var i="emotion",o=new t.MultiMenuPop({title:e.options.labelMap[i]||e.getLang("labelMap."+i)||"",editor:e,className:"edui-for-"+i,iframeUrl:e.ui.mapUrl(n||(e.options.iframeUrlMap||{})[i]||r[i])});return t.buttons[i]=o,e.addListener("selectionchange",function(){o.setDisabled(-1==e.queryCommandState(i))}),o},t.autotypeset=function(e){var n=new t.AutoTypeSetButton({editor:e,title:e.options.labelMap.autotypeset||e.getLang("labelMap.autotypeset")||"",className:"edui-for-autotypeset",onbuttonclick:function(){e.execCommand("autotypeset")}});return t.buttons.autotypeset=n,e.addListener("selectionchange",function(){n.setDisabled(-1==e.queryCommandState("autotypeset"))}),n},t.simpleupload=function(e){var n="simpleupload",i=new t.Button({className:"edui-for-"+n,title:e.options.labelMap[n]||e.getLang("labelMap."+n)||"",onclick:function(){},theme:e.options.theme,showText:!1});return t.buttons[n]=i,e.addListener("ready",function(){var t=i.getDom("body"),n=t.children[0];e.fireEvent("simpleuploadbtnready",n)}),e.addListener("selectionchange",function(t,r,o){var a=e.queryCommandState(n);-1==a?(i.setDisabled(!0),i.setChecked(!1)):o||(i.setDisabled(!1),i.setChecked(a))}),i}}(),function(){function e(e){this.initOptions(e),this.initEditorUI()}var t=baidu.editor.utils,n=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,r=baidu.editor.dom.domUtils,o=[];e.prototype={uiName:"editor",initEditorUI:function(){function e(e,t){e.setOpt({wordCount:!0,maximumWords:1e4,wordCountMsg:e.options.wordCountMsg||e.getLang("wordCountMsg"),wordOverFlowMsg:e.options.wordOverFlowMsg||e.getLang("wordOverFlowMsg")});var n=e.options,i=n.maximumWords,r=n.wordCountMsg,o=n.wordOverFlowMsg,a=t.getDom("wordcount");if(n.wordCount){var s=e.getContentLength(!0);s>i?(a.innerHTML=o,e.fireEvent("wordcountoverflow")):a.innerHTML=r.replace("{#leave}",i-s).replace("{#count}",s)}}this.editor.ui=this,this._dialogs={},this.initUIBase(),this._initToolbars();var t=this.editor,n=this;t.addListener("ready",function(){function i(){e(t,n),r.un(t.document,"click",arguments.callee)}t.getDialog=function(e){return t.ui._dialogs[e+"Dialog"]},r.on(t.window,"scroll",function(e){baidu.editor.ui.Popup.postHide(e)}),t.ui._actualFrameWidth=t.options.initialFrameWidth,UE.browser.ie&&6===UE.browser.version&&t.container.ownerDocument.execCommand("BackgroundImageCache",!1,!0),t.options.elementPathEnabled&&(t.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+t.getLang("elementPathTip")+":</div>"),t.options.wordCount&&(r.on(t.document,"click",i),t.ui.getDom("wordcount").innerHTML=t.getLang("wordCountTip")),t.ui._scale(),t.options.scaleEnabled?(t.autoHeightEnabled&&t.disableAutoHeight(),n.enableScale()):n.disableScale(),t.options.elementPathEnabled||t.options.wordCount||t.options.scaleEnabled||(t.ui.getDom("elementpath").style.display="none",t.ui.getDom("wordcount").style.display="none",t.ui.getDom("scale").style.display="none"),t.selection.isFocus()&&t.fireEvent("selectionchange",!1,!0)}),t.addListener("mousedown",function(e,t){var n=t.target||t.srcElement;baidu.editor.ui.Popup.postHide(t,n),baidu.editor.ui.ShortCutMenu.postHide(t)}),t.addListener("delcells",function(){UE.ui.edittip&&new UE.ui.edittip(t),t.getDialog("edittip").open()});var i,o,a=!1;t.addListener("afterpaste",function(){t.queryCommandState("pasteplain")||(baidu.editor.ui.PastePicker&&(i=new baidu.editor.ui.Popup({content:new baidu.editor.ui.PastePicker({editor:t}),editor:t,className:"edui-wordpastepop"}),i.render()),a=!0)}),t.addListener("afterinserthtml",function(){clearTimeout(o),o=setTimeout(function(){if(i&&(a||t.ui._isTransfer)){if(i.isHidden()){var e=r.createElement(t.document,"span",{style:"line-height:0px;",innerHTML:"\ufeff"}),n=t.selection.getRange();n.insertNode(e);var o=getDomNode(e,"firstChild","previousSibling");o&&i.showAnchor(3==o.nodeType?o.parentNode:o),r.remove(e)}else i.show();delete t.ui._isTransfer,a=!1}},200)}),t.addListener("contextmenu",function(e,t){baidu.editor.ui.Popup.postHide(t)}),t.addListener("keydown",function(e,t){i&&i.dispose(t);var n=t.keyCode||t.which;t.altKey&&90==n&&UE.ui.buttons.fullscreen.onclick()}),t.addListener("wordcount",function(t){e(this,n)}),t.addListener("selectionchange",function(){t.options.elementPathEnabled&&n[(-1==t.queryCommandState("elementpath")?"dis":"en")+"ableElementPath"](),t.options.scaleEnabled&&n[(-1==t.queryCommandState("scale")?"dis":"en")+"ableScale"]()});var s=new baidu.editor.ui.Popup({editor:t,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide(),t.ui._dialogs.linkDialog.open()},_onImgEditButtonClick:function(e){this.hide(),t.ui._dialogs[e]&&t.ui._dialogs[e].open()},_onImgSetFloat:function(e){this.hide(),t.execCommand("imagefloat",e)},_setIframeAlign:function(e){var t=s.anchorEl,n=t.cloneNode(!0);switch(e){case-2:n.setAttribute("align","");break;case-1:n.setAttribute("align","left");break;case 1:n.setAttribute("align","right")}t.parentNode.insertBefore(n,t),r.remove(t),s.anchorEl=n,s.showAnchor(s.anchorEl)},_updateIframe:function(){var e=t._iframe=s.anchorEl;r.hasClass(e,"ueditor_baidumap")?(t.selection.getRange().selectNode(e).select(),t.ui._dialogs.mapDialog.open(),s.hide()):(t.ui._dialogs.insertframeDialog.open(),s.hide())},_onRemoveButtonClick:function(e){t.execCommand(e),this.hide()},queryAutoHide:function(e){return e&&e.ownerDocument==t.document&&("img"==e.tagName.toLowerCase()||r.findParentByTagName(e,"a",!0))?e!==s.anchorEl:baidu.editor.ui.Popup.prototype.queryAutoHide.call(this,e)}});s.render(),t.options.imagePopup&&(t.addListener("mouseover",function(e,n){n=n||window.event;var i=n.target||n.srcElement;if(t.ui._dialogs.insertframeDialog&&/iframe/gi.test(i.tagName)){var r=s.formatHtml("<nobr>"+t.getLang("property")+': <span onclick=$$._setIframeAlign(-2) class="edui-clickable">'+t.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">'+t.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">'+t.getLang("justifyright")+'</span>&nbsp;&nbsp; <span onclick="$$._updateIframe( this);" class="edui-clickable">'+t.getLang("modify")+"</span></nobr>");r?(s.getDom("content").innerHTML=r,s.anchorEl=i,s.showAnchor(s.anchorEl)):s.hide()}}),t.addListener("selectionchange",function(e,n){if(n){var i="",o="",a=t.selection.getRange().getClosedNode(),l=t.ui._dialogs;if(a&&"IMG"==a.tagName){var c="insertimageDialog";if(-1==a.className.indexOf("edui-faked-video")&&-1==a.className.indexOf("edui-upload-video")||(c="insertvideoDialog"),-1!=a.className.indexOf("edui-faked-webapp")&&(c="webappDialog"),-1!=a.src.indexOf("http://api.map.baidu.com")&&(c="mapDialog"),-1!=a.className.indexOf("edui-faked-music")&&(c="musicDialog"),-1!=a.src.indexOf("http://maps.google.com/maps/api/staticmap")&&(c="gmapDialog"),a.getAttribute("anchorname")&&(c="anchorDialog",i=s.formatHtml("<nobr>"+t.getLang("property")+': <span onclick=$$._onImgEditButtonClick("anchorDialog") class="edui-clickable">'+t.getLang("modify")+"</span>&nbsp;&nbsp;<span onclick=$$._onRemoveButtonClick('anchor') class=\"edui-clickable\">"+t.getLang("delete")+"</span></nobr>")),a.getAttribute("word_img")&&(t.word_img=[a.getAttribute("word_img")],c="wordimageDialog"),(r.hasClass(a,"loadingclass")||r.hasClass(a,"loaderrorclass"))&&(c=""),!l[c])return;o="<nobr>"+t.getLang("property")+': <span onclick=$$._onImgSetFloat("none") class="edui-clickable">'+t.getLang("default")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("left") class="edui-clickable">'+t.getLang("justifyleft")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("right") class="edui-clickable">'+t.getLang("justifyright")+'</span>&nbsp;&nbsp;<span onclick=$$._onImgSetFloat("center") class="edui-clickable">'+t.getLang("justifycenter")+"</span>&nbsp;&nbsp;<span onclick=\"$$._onImgEditButtonClick('"+c+'\');" class="edui-clickable">'+t.getLang("modify")+"</span></nobr>",!i&&(i=s.formatHtml(o))}if(t.ui._dialogs.linkDialog){var u,d=t.queryCommandValue("link");if(d&&(u=d.getAttribute("_href")||d.getAttribute("href",2))){var f=u;u.length>30&&(f=u.substring(0,20)+"..."),i&&(i+='<div style="height:5px;"></div>'),i+=s.formatHtml("<nobr>"+t.getLang("anthorMsg")+': <a target="_blank" href="'+u+'" title="'+u+'" >'+f+'</a> <span class="edui-clickable" onclick="$$._onEditButtonClick();">'+t.getLang("modify")+'</span> <span class="edui-clickable" onclick="$$._onRemoveButtonClick(\'unlink\');"> '+t.getLang("clear")+"</span></nobr>"),s.showAnchor(d)}}i?(s.getDom("content").innerHTML=i,s.anchorEl=a||d,s.showAnchor(s.anchorEl)):s.hide()}}))},_initToolbars:function(){for(var e=this.editor,n=this.toolbars||[],i=[],r=0;r<n.length;r++){for(var o=n[r],a=new baidu.editor.ui.Toolbar({theme:e.options.theme}),s=0;s<o.length;s++){var l=o[s],c=null;if("string"==typeof l){if(l=l.toLowerCase(),"|"==l&&(l="Separator"),"||"==l&&(l="Breakline"),baidu.editor.ui[l]&&(c=new baidu.editor.ui[l](e)),"fullscreen"==l){i&&i[0]?i[0].items.splice(0,0,c):c&&a.items.splice(0,0,c);continue}}else c=l;c&&c.id&&a.add(c)}i[r]=a}t.each(UE._customizeUI,function(t,n){var i,r;return(!t.id||t.id==e.key)&&(i=t.execFn.call(e,e,n),void(i&&(r=t.index,void 0===r&&(r=a.items.length),a.add(i,r))))}),this.toolbars=i},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox">'+(this.toolbars.length?'<div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"</div></div>":"")+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;"><div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">'+this.editor.getLang("clickToUpload")+'</div><div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div><div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div><div style="height:0;overflow:hidden;clear:both;"></div></div><div id="##_message_holder" class="%%-messageholder"></div></div><div id="##_iframeholder" class="%%-iframeholder"></div><div id="##_bottombar" class="%%-bottomContainer"><table><tr><td id="##_elementpath" class="%%-bottombar"></td><td id="##_wordcount" class="%%-wordcount"></td><td id="##_scale" class="%%-scale"><div class="%%-icon"></div></td></tr></table></div><div id="##_scalelayer"></div></div>'},showWordImageDialog:function(){this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function(){for(var e=[],t=0;t<this.toolbars.length;t++)e.push(this.toolbars[t].renderHtml());return e.join("")},setFullScreen:function(e){var t=this.editor,n=t.container.parentNode.parentNode;if(this._fullscreen!=e){if(this._fullscreen=e,this.editor.fireEvent("beforefullscreenchange",e),baidu.editor.browser.gecko)var i=t.selection.getRange().createBookmark();if(e){for(;"BODY"!=n.tagName;){var r=baidu.editor.dom.domUtils.getComputedStyle(n,"position");o.push(r),n.style.position="static",n=n.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow,this._bakBodyOverflow=document.body.style.overflow,this._bakAutoHeight=this.editor.autoHeightEnabled,this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._bakEditorContaninerWidth=t.iframe.parentNode.offsetWidth,this._bakAutoHeight&&(t.autoHeightEnabled=!1,this.editor.disableAutoHeight()),document.documentElement.style.overflow="hidden",window.scrollTo(0,window.scrollY),this._bakCssText=this.getDom().style.cssText,this._bakCssText1=this.getDom("iframeholder").style.cssText,t.iframe.parentNode.style.width="",this._updateFullScreen()}else{for(;"BODY"!=n.tagName;)n.style.position=o.shift(),n=n.parentNode;this.getDom().style.cssText=this._bakCssText,this.getDom("iframeholder").style.cssText=this._bakCssText1,this._bakAutoHeight&&(t.autoHeightEnabled=!0,this.editor.enableAutoHeight()),document.documentElement.style.overflow=this._bakHtmlOverflow,document.body.style.overflow=this._bakBodyOverflow,t.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px",window.scrollTo(0,this._bakScrollTop)}if(browser.gecko&&"true"===t.body.contentEditable){var a=document.createElement("input");document.body.appendChild(a),t.body.contentEditable=!1,setTimeout(function(){a.focus(),setTimeout(function(){t.body.contentEditable=!0,t.fireEvent("fullscreenchanged",e),t.selection.getRange().moveToBookmark(i).select(!0),baidu.editor.dom.domUtils.remove(a),e&&window.scroll(0,0)},0)},0)}"true"===t.body.contentEditable&&(this.editor.fireEvent("fullscreenchanged",e),this.triggerLayout())}},_updateFullScreen:function(){if(this._fullscreen){var e=n.getViewportRect();if(this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+e.width+"px;height:"+e.height+"px;z-index:"+(1*this.getDom().style.zIndex+100),n.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0}),this.editor.setHeight(e.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0),!0),browser.gecko)try{window.onresize()}catch(t){}}},_updateElementPath:function(){var e,t=this.getDom("elementpath");if(this.elementPathEnabled&&(e=this.editor.queryCommandValue("elementpath"))){for(var n,i=[],r=0;n=e[r];r++)i[r]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+r+'&quot;);">'+n+"</span>");t.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+i.join(" &gt; ")+"</div>"}else t.style.display="none"},disableElementPath:function(){var e=this.getDom("elementpath");e.innerHTML="",e.style.display="none",this.elementPathEnabled=!1},enableElementPath:function(){var e=this.getDom("elementpath");e.style.display="",this.elementPathEnabled=!0,this._updateElementPath()},_scale:function(){function e(){p=r.getXY(s),m||(m=a.options.minFrameHeight+c.offsetHeight+u.offsetHeight),f.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+s.offsetWidth+"px;height:"+s.offsetHeight+"px;z-index:"+(a.options.zIndex+1),r.on(o,"mousemove",t),r.on(l,"mouseup",n),r.on(o,"mouseup",n)}function t(e){i();var t=e||window.event;v=t.pageX||o.documentElement.scrollLeft+t.clientX,y=t.pageY||o.documentElement.scrollTop+t.clientY,b=v-p.x,C=y-p.y,b>=g&&(h=!0,f.style.width=b+"px"),C>=m&&(h=!0,f.style.height=C+"px")}function n(){h&&(h=!1,a.ui._actualFrameWidth=f.offsetWidth-2,s.style.width=a.ui._actualFrameWidth+"px",a.setHeight(f.offsetHeight-u.offsetHeight-c.offsetHeight-2,!0)),f&&(f.style.display="none"),i(),r.un(o,"mousemove",t),r.un(l,"mouseup",n),r.un(o,"mouseup",n)}function i(){browser.ie?o.selection.clear():window.getSelection().removeAllRanges()}var o=document,a=this.editor,s=a.container,l=a.document,c=this.getDom("toolbarbox"),u=this.getDom("bottombar"),d=this.getDom("scale"),f=this.getDom("scalelayer"),h=!1,p=null,m=0,g=a.options.minFrameWidth,v=0,y=0,b=0,C=0,w=this;this.editor.addListener("fullscreenchanged",function(e,t){if(t)w.disableScale();else if(w.editor.options.scaleEnabled){w.enableScale();var n=w.editor.document.createElement("span");w.editor.body.appendChild(n),w.editor.body.style.height=Math.max(r.getXY(n).y,w.editor.iframe.offsetHeight-20)+"px",r.remove(n)}}),this.enableScale=function(){1!=a.queryCommandState("source")&&(d.style.display="",this.scaleEnabled=!0,r.on(d,"mousedown",e))},this.disableScale=function(){d.style.display="none",this.scaleEnabled=!1,r.un(d,"mousedown",e)}},isFullScreen:function(){return this._fullscreen},postRender:function(){i.prototype.postRender.call(this);for(var e=0;e<this.toolbars.length;e++)this.toolbars[e].postRender();var t,n=this,r=baidu.editor.dom.domUtils,o=function(){clearTimeout(t),t=setTimeout(function(){n._updateFullScreen()})};r.on(window,"resize",o),n.addListener("destroy",function(){r.un(window,"resize",o),clearTimeout(t)})},showToolbarMsg:function(e,t){if(this.getDom("toolbarmsg_label").innerHTML=e,this.getDom("toolbarmsg").style.display="",!t){var n=this.getDom("upload_dialog");n.style.display="none"}},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(e){return e?e.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function(){var e=this.getDom();"1"==e.style.zoom?e.style.zoom="100%":e.style.zoom="1"}},t.inherits(e,baidu.editor.ui.UIBase);var a={};UE.ui.Editor=function(n){var i=new UE.Editor(n);i.options.editor=i,t.loadFile(document,{href:i.options.themePath+i.options.theme+"/css/ueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var o=i.render;return i.render=function(n){n.constructor===String&&(i.key=n,a[n]=i),t.domReady(function(){function t(){if(i.setOpt({labelMap:i.options.labelMap||i.getLang("labelMap")}),new e(i.options),n&&(n.constructor===String&&(n=document.getElementById(n)),n&&n.getAttribute("name")&&(i.options.textarea=n.getAttribute("name")),n&&/script|textarea/gi.test(n.tagName))){var t=document.createElement("div");n.parentNode.insertBefore(t,n);var a=n.value||n.innerHTML;i.options.initialContent=/^[\t\r\n ]*$/.test(a)?i.options.initialContent:a.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><"),n.className&&(t.className=n.className),n.style.cssText&&(t.style.cssText=n.style.cssText),/textarea/i.test(n.tagName)?(i.textarea=n,i.textarea.style.display="none"):n.parentNode.removeChild(n),n.id&&(t.id=n.id,r.removeAttributes(n,"id")),n=t,n.innerHTML=""}r.addClass(n,"edui-"+i.options.theme),i.ui.render(n);var s=i.options;i.container=i.ui.getDom();for(var l,c=r.findParents(n,!0),u=[],d=0;l=c[d];d++)u[d]=l.style.display,l.style.display="block";if(s.initialFrameWidth)s.minFrameWidth=s.initialFrameWidth;else{s.minFrameWidth=s.initialFrameWidth=n.offsetWidth;var f=n.style.width;/%$/.test(f)&&(s.initialFrameWidth=f)}s.initialFrameHeight?s.minFrameHeight=s.initialFrameHeight:s.initialFrameHeight=s.minFrameHeight=n.offsetHeight;for(var l,d=0;l=c[d];d++)l.style.display=u[d];n.style.height&&(n.style.height=""),i.container.style.width=s.initialFrameWidth+(/%$/.test(s.initialFrameWidth)?"":"px"),i.container.style.zIndex=s.zIndex,o.call(i,i.ui.getDom("iframeholder")),i.fireEvent("afteruiready")}i.langIsReady?t():i.addListener("langReady",t)})},i},UE.getEditor=function(e,t){var n=a[e];return n||(n=a[e]=new UE.ui.Editor(t),n.render(e)),n},UE.delEditor=function(e){var t;(t=a[e])&&(t.key&&t.destroy(),delete a[e])},UE.registerUI=function(e,n,i,r){t.each(e.split(/\s+/),function(e){UE._customizeUI[e]={id:r,execFn:n,index:i}})}}(),UE.registerUI("message",function(e){function t(){var e=a.ui.getDom("toolbarbox");e&&(n.style.top=e.offsetHeight+3+"px"),n.style.zIndex=Math.max(a.options.zIndex,a.iframe.style.zIndex)+1}var n,i=baidu.editor.ui,r=i.Message,o=[],a=e;a.addListener("ready",function(){n=document.getElementById(a.ui.id+"_message_holder"),t(),setTimeout(function(){t()},500)}),a.addListener("showmessage",function(e,i){i=utils.isString(i)?{content:i}:i;var s=new r({timeout:i.timeout,type:i.type,content:i.content,keepshow:i.keepshow,editor:a}),l=i.id||"msg_"+(+new Date).toString(36);return s.render(n),o[l]=s,s.reset(i),t(),l}),a.addListener("updatemessage",function(e,t,i){i=utils.isString(i)?{content:i}:i;var r=o[t];r.render(n),r&&r.reset(i)}),a.addListener("hidemessage",function(e,t){var n=o[t];n&&n.hide()})}),UE.registerUI("autosave",function(e){var t=null,n=null;e.on("afterautosave",function(){clearTimeout(t),t=setTimeout(function(){n&&e.trigger("hidemessage",n),n=e.trigger("showmessage",{content:e.getLang("autosave.success"),timeout:2e3})},2e3)})})}(),UE.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",deletecaption:"删除表格标题",inserttitle:"插入标题",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",simpleupload:"单图上传",insertimage:"多图上传",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"Baidu地图",gmap:"Google地图",insertvideo:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacingtop:"段前距",rowspacingbottom:"段后距",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",lineheight:"行间距",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"从草稿箱加载",charts:"图表"},insertorderedlist:{num:"1,2,3...",num1:"1),2),3)...",num2:"(1),(2),(3)...",cn:"一,二,三....",cn1:"一),二),三)....",cn2:"(一),(二),(三)....",decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圆圈",disc:"● 小黑点",square:"■ 小方块 ",dash:"— 破折号",dot:" 。 小圆圈"},paragraph:{p:"段落",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},fontfamily:{songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},customstyle:{tc:"标题居中",tl:"标题居左",im:"强调",hi:"明显强调"},autoupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},simpleupload:{exceedSizeError:"文件大小超出限制",exceedTypeError:"文件格式不允许",jsonEncodeError:"服务器返回格式错误",loading:"正在上传...",loadError:"上传错误",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！"},elementPathTip:"元素路径",wordCountTip:"字数统计",wordCountMsg:"当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ",wordOverFlowMsg:'<span style="color:red;">字数超出最大允许值，服务器可能拒绝保存！</span>',ok:"确认",cancel:"取消",closeDialog:"关闭对话框",tableDrag:"表格拖动必须引入uiUtils.js文件！",autofloatMsg:"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!",loadconfigError:"获取后台配置项请求出错，上传功能将不能正常使用！",loadconfigFormatError:"后台配置项返回格式出错，上传功能将不能正常使用！",loadconfigHttpError:"请求后台配置项http错误，上传功能将不能正常使用！",snapScreen_plugin:{browserMsg:"仅支持IE浏览器！",callBackErrorMsg:"服务器返回数据有误，请检查配置项之后重试。",uploadErrorMsg:"截图上传失败，请检查服务器端环境! "},insertcode:{as3:"ActionScript 3",bash:"Bash/Shell",cpp:"C/C++",css:"CSS",cf:"ColdFusion","c#":"C#",delphi:"Delphi",diff:"Diff",erlang:"Erlang",groovy:"Groovy",html:"HTML",java:"Java",jfx:"JavaFX",js:"JavaScript",pl:"Perl",php:"PHP",plain:"Plain Text",ps:"PowerShell",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",vb:"Visual Basic",xml:"XML"},confirmClear:"确定清空当前文档么？",contextMenu:{"delete":"删除",selectall:"全选",deletecode:"删除代码",cleardoc:"清空文档",confirmclear:"确定清空当前文档么？",unlink:"删除超链接",paragraph:"段落格式",edittable:"表格属性",aligntd:"单元格对齐方式",aligntable:"表格对齐方式",tableleft:"左浮动",tablecenter:"居中显示",tableright:"右浮动",edittd:"单元格属性",setbordervisible:"设置表格边线可见",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",table:"表格",inserttable:"插入表格",deletetable:"删除表格",insertparagraphbefore:"前插入段落",insertparagraphafter:"后插入段落",deleterow:"删除当前行",deletecol:"删除当前列",insertrow:"前插入行",insertcol:"左插入列",insertrownext:"后插入行",insertcolnext:"右插入列",insertcaption:"插入表格名称",deletecaption:"删除表格名称",inserttitle:"插入表格标题行",deletetitle:"删除表格标题行",inserttitlecol:"插入表格标题列",deletetitlecol:"删除表格标题列",averageDiseRow:"平均分布各行",averageDisCol:"平均分布各列",mergeright:"向右合并",mergeleft:"向左合并",mergedown:"向下合并",mergecells:"合并单元格",splittocells:"完全拆分单元格",splittocols:"拆分成列",splittorows:"拆分成行",tablesort:"表格排序",enablesort:"设置表格可排序",disablesort:"取消表格可排序",reversecurrent:"逆序当前",orderbyasc:"按ASCII字符升序",reversebyasc:"按ASCII字符降序",orderbynum:"按数值大小升序",reversebynum:"按数值大小降序",borderbk:"边框底纹",setcolor:"表格隔行变色",unsetcolor:"取消表格隔行变色",setbackground:"选区背景隔行",unsetbackground:"取消选区背景",redandblue:"红蓝相间",threecolorgradient:"三色渐变",copy:"复制(Ctrl + c)",copymsg:"浏览器不支持,请使用 'Ctrl + c'",paste:"粘贴(Ctrl + v)",pastemsg:"浏览器不支持,请使用 'Ctrl + v'"},copymsg:"浏览器不支持,请使用 'Ctrl + c'",pastemsg:"浏览器不支持,请使用 'Ctrl + v'",anthorMsg:"链接",clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色",property:"属性","default":"默认",modify:"修改",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中",justify:"默认",clear:"清除",anchorMsg:"锚点","delete":"删除",clickToUpload:"点击上传",unset:"尚未设置语言文件",t_row:"行",t_col:"列",more:"更多",pasteOpt:"粘贴选项",pasteSourceFormat:"保留源格式",tagFormat:"只保留标签",pasteTextFormat:"只保留文本",autoTypeSet:{mergeLine:"合并空行",delLine:"清除空行",removeFormat:"清除格式",indent:"首行缩进",alignment:"对齐方式",imageFloat:"图片浮动",removeFontsize:"清除字号",removeFontFamily:"清除字体",removeHtml:"清除冗余HTML代码",pasteFilter:"粘贴过滤",run:"执行",symbol:"符号转换",bdc2sb:"全角转半角",tobdc:"半角转全角"},background:{"static":{lang_background_normal:"背景设置",lang_background_local:"在线图片",lang_background_set:"选项",lang_background_none:"无背景色",lang_background_colored:"有背景色",lang_background_color:"颜色设置",lang_background_netimg:"网络图片",lang_background_align:"对齐方式",lang_background_position:"精确定位",repeatType:{options:["居中","横向重复","纵向重复","平铺","自定义"]}},noUploadImage:"当前未上传过任何图片！",toggleSelect:"单击可切换选中状态\n原图尺寸: "},insertimage:{"static":{lang_tab_remote:"插入图片",lang_tab_upload:"本地上传",lang_tab_online:"在线管理",lang_tab_search:"图片搜索",lang_input_url:"地 址：",lang_input_size:"大 小：",lang_input_width:"宽度",lang_input_height:"高度",lang_input_border:"边 框：",lang_input_vhspace:"边 距：",lang_input_title:"描 述：",lang_input_align:"图片浮动方式：",lang_imgLoading:"　图片加载中……",lang_start_upload:"开始上传",lock:{title:"锁定宽高比例"},searchType:{title:"图片类型",options:["新闻","壁纸","表情","头像"]},searchTxt:{value:"请输入搜索关键词"},searchBtn:{value:"百度一下"},searchReset:{value:"清空搜索"},noneAlign:{title:"无浮动"},leftAlign:{title:"左浮动"},rightAlign:{title:"右浮动"},centerAlign:{title:"居中独占一行"}},uploadSelectFile:"点击选择图片",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",uploadNoPreview:"不能预览",updateStatusReady:"选中_张图片，共_KB。",updateStatusConfirm:"已成功上传_张照片，_张照片上传失败",updateStatusFinish:"共_张（_KB），_张上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错",remoteLockError:"宽高不正确,不能所定比例",numError:"请输入正确的长度或者宽度值！例如：123，400",imageUrlError:"不允许的图片格式或者图片域！",imageLoadError:"图片加载失败！请检查链接地址或网络状态！",searchRemind:"请输入搜索关键词",searchLoading:"图片加载中，请稍后……",searchRetry:" :( ，抱歉，没有找到图片！请重试一次！"},attachment:{"static":{lang_tab_upload:"上传附件",lang_tab_online:"在线附件",lang_start_upload:"开始上传",lang_drop_remind:"可以将文件拖到这里，单次最多可选100个文件"},uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"已成功上传_个文件，_个文件上传失败",updateStatusFinish:"共_个（_KB），_个上传成功",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},insertvideo:{"static":{lang_tab_insertV:"插入视频",lang_tab_searchV:"搜索视频",lang_tab_uploadV:"上传视频",lang_video_url:"视频网址",lang_video_size:"视频尺寸",lang_videoW:"宽度",lang_videoH:"高度",lang_alignment:"对齐方式",videoSearchTxt:{value:"请输入搜索关键字！"},videoType:{options:["全部","热门","娱乐","搞笑","体育","科技","综艺"]},videoSearchBtn:{value:"百度一下"},videoSearchReset:{value:"清空结果"},lang_input_fileStatus:" 当前未上传文件",startUpload:{style:"background:url(upload.png) no-repeat;"},lang_upload_size:"视频尺寸",lang_upload_width:"宽度",lang_upload_height:"高度",lang_upload_alignment:"对齐方式",lang_format_advice:"建议使用mp4格式."},numError:"请输入正确的数值，如123,400",floatLeft:"左浮动",floatRight:"右浮动",'"default"':"默认",block:"独占一行",urlError:"输入的视频地址有误，请检查后再试！",loading:" &nbsp;视频加载中，请等待……",clickToSelect:"点击选中",goToSource:"访问源视频",noVideo:" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！",browseFiles:"浏览文件",uploadSuccess:"上传成功!",delSuccessFile:"从成功队列中移除",delFailSaveFile:"移除保存失败文件",statusPrompt:" 个文件已上传！ ",flashVersionError:"当前Flash版本过低，请更新FlashPlayer后重试！",flashLoadingError:"Flash加载失败!请检查路径或网络状态",fileUploadReady:"等待上传……",delUploadQueue:"从上传队列中移除",limitPrompt1:"单次不能选择超过",limitPrompt2:"个文件！请重新选择！",delFailFile:"移除失败文件",fileSizeLimit:"文件大小超出限制！",emptyFile:"空文件无法上传！",fileTypeError:"文件类型不允许！",unknownError:"未知错误！",fileUploading:"上传中，请等待……",cancelUpload:"取消上传",netError:"网络错误",failUpload:"上传失败!",serverIOError:"服务器IO错误！",noAuthority:"无权限！",fileNumLimit:"上传个数限制",failCheck:"验证失败，本次上传被跳过！",fileCanceling:"取消中，请等待……",stopUploading:"上传已停止……",uploadSelectFile:"点击选择文件",uploadAddFile:"继续添加",uploadStart:"开始上传",uploadPause:"暂停上传",uploadContinue:"继续上传",uploadRetry:"重试上传",uploadDelete:"删除",uploadTurnLeft:"向左旋转",uploadTurnRight:"向右旋转",uploadPreview:"预览中",updateStatusReady:"选中_个文件，共_KB。",updateStatusConfirm:"成功上传_个，_个失败",updateStatusFinish:"共_个(_KB)，_个成功上传",updateStatusError:"，_张上传失败。",errorNotSupport:"WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。",errorLoadConfig:"后端配置项没有正常加载，上传插件不能正常使用！",errorExceedSize:"文件大小超出",errorFileType:"文件格式不允许",errorInterrupt:"文件传输中断",errorUploadRetry:"上传失败，请重试",errorHttp:"http请求错误",errorServerUpload:"服务器返回出错"},webapp:{tip1:"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!",tip2:"申请完成之后请至ueditor.config.js中配置获得的appkey! ",applyFor:"点此申请",anthorApi:"百度API"},template:{"static":{lang_template_bkcolor:"背景颜色",lang_template_clear:"保留原有内容",lang_template_select:"选择模板"},blank:"空白文档",blog:"博客文章",resume:"个人简历",richText:"图文混排",sciPapers:"科技论文"},scrawl:{"static":{lang_input_previousStep:"上一步",lang_input_nextsStep:"下一步",lang_input_clear:"清空",lang_input_addPic:"添加背景",lang_input_ScalePic:"缩放背景",lang_input_removePic:"删除背景",J_imgTxt:{title:"添加背景图片"}},noScarwl:"尚未作画，白纸一张~",scrawlUpLoading:"涂鸦上传中,别急哦~",continueBtn:"继续",imageError:"糟糕，图片读取失败了！",backgroundUploading:"背景图片上传中,别急哦~"},music:{"static":{lang_input_tips:"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！",J_searchBtn:{value:"搜索歌曲"}},emptyTxt:"未搜索到相关音乐结果，请换一个关键词试试。",chapter:"歌曲",singer:"歌手",special:"专辑",listenTest:"试听"},anchor:{"static":{lang_input_anchorName:"锚点名字："}},charts:{"static":{lang_data_source:"数据源：",lang_chart_format:"图表格式：",lang_data_align:"数据对齐方式",lang_chart_align_same:"数据源与图表X轴Y轴一致",
lang_chart_align_reverse:"数据源与图表X轴Y轴相反",lang_chart_title:"图表标题",lang_chart_main_title:"主标题：",lang_chart_sub_title:"子标题：",lang_chart_x_title:"X轴标题：",lang_chart_y_title:"Y轴标题：",lang_chart_tip:"提示文字",lang_cahrt_tip_prefix:"提示文字前缀：",lang_cahrt_tip_description:"仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀",lang_chart_data_unit:"数据单位",lang_chart_data_unit_title:"单位：",lang_chart_data_unit_description:"显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃",lang_chart_type:"图表类型：",lang_prev_btn:"上一个",lang_next_btn:"下一个"}},emotion:{"static":{lang_input_choice:"精选",lang_input_Tuzki:"兔斯基",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"绿豆蛙",lang_input_babyCat:"baby猫",lang_input_bubble:"泡泡",lang_input_youa:"有啊"}},gmap:{"static":{lang_input_address:"地址",lang_input_search:"搜索",address:{value:"北京"}},searchError:"无法定位到该地址!"},help:{"static":{lang_input_about:"关于UEditor",lang_input_shortcuts:"快捷键",lang_input_introduction:"UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。",lang_Txt_shortcuts:"快捷键",lang_Txt_func:"功能",lang_Txt_bold:"给选中字设置为加粗",lang_Txt_copy:"复制选中内容",lang_Txt_cut:"剪切选中内容",lang_Txt_Paste:"粘贴",lang_Txt_undo:"重新执行上次操作",lang_Txt_redo:"撤销上一次操作",lang_Txt_italic:"给选中字设置为斜体",lang_Txt_underline:"给选中字加下划线",lang_Txt_selectAll:"全部选中",lang_Txt_visualEnter:"软回车",lang_Txt_fullscreen:"全屏"}},insertframe:{"static":{lang_input_address:"地址：",lang_input_width:"宽度：",lang_input_height:"高度：",lang_input_isScroll:"允许滚动条：",lang_input_frameborder:"显示框架边框：",lang_input_alignMode:"对齐方式：",align:{title:"对齐方式",options:["默认","左对齐","右对齐","居中"]}},enterAddress:"请输入地址!"},link:{"static":{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口打开："},validLink:"只支持选中一个链接时生效",httpPrompt:"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"},map:{"static":{lang_city:"城市",lang_address:"地址",city:{value:"北京"},lang_search:"搜索",lang_dynamicmap:"插入动态地图"},cityMsg:"请选择城市",errorMsg:"抱歉，找不到该位置！"},searchreplace:{"static":{lang_tab_search:"查找",lang_tab_replace:"替换",lang_search1:"查找",lang_search2:"查找",lang_replace:"替换",lang_searchReg:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_searchReg1:"支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”",lang_case_sensitive1:"区分大小写",lang_case_sensitive2:"区分大小写",nextFindBtn:{value:"下一个"},preFindBtn:{value:"上一个"},nextReplaceBtn:{value:"下一个"},preReplaceBtn:{value:"上一个"},repalceBtn:{value:"替换"},repalceAllBtn:{value:"全部替换"}},getEnd:"已经搜索到文章末尾！",getStart:"已经搜索到文章头部",countMsg:"总共替换了{#count}处！"},snapscreen:{"static":{lang_showMsg:"截图功能需要首先安装UEditor截图插件！ ",lang_download:"点此下载",lang_step1:"第一步，下载UEditor截图插件并运行安装。",lang_step2:"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！"}},spechars:{"static":{},tsfh:"特殊字符",lmsz:"罗马字符",szfh:"数学字符",rwfh:"日文字符",xlzm:"希腊字母",ewzm:"俄文字符",pyzm:"拼音字母",yyyb:"英语音标",zyzf:"其他"},edittable:{"static":{lang_tableStyle:"表格样式",lang_insertCaption:"添加表格名称行",lang_insertTitle:"添加表格标题行",lang_insertTitleCol:"添加表格标题列",lang_orderbycontent:"使表格内容可排序",lang_tableSize:"自动调整表格尺寸",lang_autoSizeContent:"按表格文字自适应",lang_autoSizePage:"按页面宽度自适应",lang_example:"示例",lang_borderStyle:"表格边框",lang_color:"颜色:"},captionName:"表格名称",titleName:"标题",cellsName:"内容",errorMsg:"有合并单元格，不可排序"},edittip:{"static":{lang_delRow:"删除整行",lang_delCol:"删除整列"}},edittd:{"static":{lang_tdBkColor:"背景颜色:"}},formula:{"static":{}},wordimage:{"static":{lang_resave:"转存步骤",uploadBtn:{src:"upload.png",alt:"上传"},clipboard:{style:"background: url(copy.png) -153px -1px no-repeat;"},lang_step:"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。"},fileType:"图片",flashError:"FLASH初始化失败，请检查FLASH插件是否正确安装！",netError:"网络连接错误，请重试！",copySuccess:"图片地址已经复制！",flashI18n:{}},autosave:{saving:"保存中...",success:"本地保存成功"}};